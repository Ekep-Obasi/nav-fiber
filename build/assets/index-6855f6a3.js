import{r as d,a0 as Jo,M as we,j as C,R as tu,a8 as yd,E as P,a9 as _d,e as nu,s as te,g as q,F as pe,B as ru,c as Xe,a as ea,b as hr,h as Ka,T as ta,o as jt,u as xd,aa as na,ab as vd,ac as bd,a6 as Cn,f as iu,ad as wd,ae as kd,af as Ed,p as ir,ag as Td,C as Cd,ah as Od,ai as Za}from"./index-aa3f7c3e.js";import{u as je,a as St,m as ms,b as gs,e as ra,L as Vi,c as Sd,d as $d,q as Pd,f as Rd,H as Ad,E as Dd,P as Md,g as su,T as ia,h as sa,t as Wi,i as pr,N as qr,I as ys,C as Ld,j as Id,k as ou,l as qa,n as Qa,o as jd}from"./index-43438d75.js";import{P as ve,A as Ja,L as zd,C as Nd}from"./VolumeIcon-9b1a5788.js";import{e as _n,c as Se,f as au,g as _s,h as Fd,P as cu,d as Ud,i as Bd,O as Hd}from"./index-25c6daa7.js";import{T as Vd}from"./TextareaAutosize-b3029b43.js";import{D as xi,F as Wd,V as ge,L as Yd,a as Gd,M as Hn,b as xe,S as Xd,B as Kd,c as xs,P as js,d as Zd,e as zi,f as vn,T as vs,g as po,h as qd,i as ec,G as Qd,C as Yi,j as Jd,k as ui,Q as eh,l as lu,W as th,m as nh,n as oa,o as rh,E as ih,p as sh,q as aa,r as oh,s as ah}from"./three.module-4d3d7244.js";import{T as ch}from"./index-af0d207e.js";import{C as lh}from"./CheckIcon-89adf22b.js";import{u as uh}from"./index-a339f0ca.js";import{M as fh,A as tc,E as uu}from"./VisibilityOn-78ee8ba9.js";import{P as fu}from"./SearchIcon-023bc698.js";import{g as du}from"./index-92d62591.js";import{C as ca}from"./ClipLoader-155dca99.js";import"./SourcesTableIcon-f63602ba.js";import"./NodeCircleIcon-c52d6fa4.js";import"./DeleteNodeIcon-c22b6179.js";import"./EditNodeIcon-797b1558.js";import"./SoundIcon-5b2d6e8e.js";import"./SucessFeedBackIcon-b858aa62.js";const dh=["top","right","bottom","left"],dn=Math.min,ct=Math.max,Gi=Math.round,vi=Math.floor,hn=t=>({x:t,y:t}),hh={left:"right",right:"left",bottom:"top",top:"bottom"},ph={start:"end",end:"start"};function mo(t,e,n){return ct(t,dn(e,n))}function Zt(t,e){return typeof t=="function"?t(e):t}function qt(t){return t.split("-")[0]}function mr(t){return t.split("-")[1]}function la(t){return t==="x"?"y":"x"}function ua(t){return t==="y"?"height":"width"}function gr(t){return["top","bottom"].includes(qt(t))?"y":"x"}function fa(t){return la(gr(t))}function mh(t,e,n){n===void 0&&(n=!1);const r=mr(t),i=fa(t),s=ua(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Xi(o)),[o,Xi(o)]}function gh(t){const e=Xi(t);return[go(t),e,go(e)]}function go(t){return t.replace(/start|end/g,e=>ph[e])}function yh(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function _h(t,e,n,r){const i=mr(t);let s=yh(qt(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(go)))),s}function Xi(t){return t.replace(/left|right|bottom|top/g,e=>hh[e])}function xh(t){return{top:0,right:0,bottom:0,left:0,...t}}function hu(t){return typeof t!="number"?xh(t):{top:t,right:t,bottom:t,left:t}}function Ki(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function nc(t,e,n){let{reference:r,floating:i}=t;const s=gr(e),o=fa(e),a=ua(o),c=qt(e),l=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(c){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(mr(e)){case"start":p[o]-=h*(n&&l?-1:1);break;case"end":p[o]+=h*(n&&l?-1:1);break}return p}const vh=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=nc(l,r,c),h=r,p={},_=0;for(let g=0;g<a.length;g++){const{name:m,fn:x}=a[g],{x:b,y:k,data:y,reset:v}=await x({x:u,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:l,platform:o,elements:{reference:t,floating:e}});if(u=b??u,f=k??f,p={...p,[m]:{...p[m],...y}},v&&_<=50){_++,typeof v=="object"&&(v.placement&&(h=v.placement),v.rects&&(l=v.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):v.rects),{x:u,y:f}=nc(l,h,c)),g=-1;continue}}return{x:u,y:f,placement:h,strategy:i,middlewareData:p}};async function Qr(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Zt(e,t),_=hu(p),m=a[h?f==="floating"?"reference":"floating":f],x=Ki(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(m)))==null||n?m:m.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),b=f==="floating"?{...o.floating,x:r,y:i}:o.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),y=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},v=Ki(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:k,strategy:c}):b);return{top:(x.top-v.top+_.top)/y.y,bottom:(v.bottom-x.bottom+_.bottom)/y.y,left:(x.left-v.left+_.left)/y.x,right:(v.right-x.right+_.right)/y.x}}const rc=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:l,padding:u=0}=Zt(t,e)||{};if(l==null)return{};const f=hu(u),h={x:n,y:r},p=fa(i),_=ua(p),g=await o.getDimensions(l),m=p==="y",x=m?"top":"left",b=m?"bottom":"right",k=m?"clientHeight":"clientWidth",y=s.reference[_]+s.reference[p]-h[p]-s.floating[_],v=h[p]-s.reference[p],w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let E=w?w[k]:0;(!E||!await(o.isElement==null?void 0:o.isElement(w)))&&(E=a.floating[k]||s.floating[_]);const T=y/2-v/2,S=E/2-g[_]/2-1,R=dn(f[x],S),z=dn(f[b],S),L=R,U=E-g[_]-z,B=E/2-g[_]/2+T,Y=mo(L,B,U),G=!c.arrow&&mr(i)!=null&&B!=Y&&s.reference[_]/2-(B<L?R:z)-g[_]/2<0,V=G?B<L?B-L:B-U:0;return{[p]:h[p]+V,data:{[p]:Y,centerOffset:B-Y-V,...G&&{alignmentOffset:V}},reset:G}}}),bh=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:g=!0,...m}=Zt(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=qt(i),b=qt(a)===a,k=await(c.isRTL==null?void 0:c.isRTL(l.floating)),y=h||(b||!g?[Xi(a)]:gh(a));!h&&_!=="none"&&y.push(..._h(a,g,_,k));const v=[a,...y],w=await Qr(e,m),E=[];let T=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&E.push(w[x]),f){const L=mh(i,o,k);E.push(w[L[0]],w[L[1]])}if(T=[...T,{placement:i,overflows:E}],!E.every(L=>L<=0)){var S,R;const L=(((S=s.flip)==null?void 0:S.index)||0)+1,U=v[L];if(U)return{data:{index:L,overflows:T},reset:{placement:U}};let B=(R=T.filter(Y=>Y.overflows[0]<=0).sort((Y,G)=>Y.overflows[1]-G.overflows[1])[0])==null?void 0:R.placement;if(!B)switch(p){case"bestFit":{var z;const Y=(z=T.map(G=>[G.placement,G.overflows.filter(V=>V>0).reduce((V,N)=>V+N,0)]).sort((G,V)=>G[1]-V[1])[0])==null?void 0:z[0];Y&&(B=Y);break}case"initialPlacement":B=a;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function ic(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function sc(t){return dh.some(e=>t[e]>=0)}const wh=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Zt(t,e);switch(r){case"referenceHidden":{const s=await Qr(e,{...i,elementContext:"reference"}),o=ic(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:sc(o)}}}case"escaped":{const s=await Qr(e,{...i,altBoundary:!0}),o=ic(s,n.floating);return{data:{escapedOffsets:o,escaped:sc(o)}}}default:return{}}}}};async function kh(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=qt(n),a=mr(n),c=gr(n)==="y",l=["left","top"].includes(o)?-1:1,u=s&&c?-1:1,f=Zt(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof _=="number"&&(p=a==="end"?_*-1:_),c?{x:p*u,y:h*l}:{x:h*l,y:p*u}}const Eh=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await kh(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},Th=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:m=>{let{x,y:b}=m;return{x,y:b}}},...c}=Zt(t,e),l={x:n,y:r},u=await Qr(e,c),f=gr(qt(i)),h=la(f);let p=l[h],_=l[f];if(s){const m=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=p+u[m],k=p-u[x];p=mo(b,p,k)}if(o){const m=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=_+u[m],k=_-u[x];_=mo(b,_,k)}const g=a.fn({...e,[h]:p,[f]:_});return{...g,data:{x:g.x-n,y:g.y-r}}}}},Ch=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=Zt(t,e),u={x:n,y:r},f=gr(i),h=la(f);let p=u[h],_=u[f];const g=Zt(a,e),m=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const k=h==="y"?"height":"width",y=s.reference[h]-s.floating[k]+m.mainAxis,v=s.reference[h]+s.reference[k]-m.mainAxis;p<y?p=y:p>v&&(p=v)}if(l){var x,b;const k=h==="y"?"width":"height",y=["top","left"].includes(qt(i)),v=s.reference[f]-s.floating[k]+(y&&((x=o.offset)==null?void 0:x[f])||0)+(y?0:m.crossAxis),w=s.reference[f]+s.reference[k]+(y?0:((b=o.offset)==null?void 0:b[f])||0)-(y?m.crossAxis:0);_<v?_=v:_>w&&(_=w)}return{[h]:p,[f]:_}}}},Oh=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=Zt(t,e),c=await Qr(e,a),l=qt(n),u=mr(n),f=gr(n)==="y",{width:h,height:p}=r.floating;let _,g;l==="top"||l==="bottom"?(_=l,g=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(g=l,_=u==="end"?"top":"bottom");const m=p-c[_],x=h-c[g],b=!e.middlewareData.shift;let k=m,y=x;if(f){const w=h-c.left-c.right;y=u||b?dn(x,w):w}else{const w=p-c.top-c.bottom;k=u||b?dn(m,w):w}if(b&&!u){const w=ct(c.left,0),E=ct(c.right,0),T=ct(c.top,0),S=ct(c.bottom,0);f?y=h-2*(w!==0||E!==0?w+E:ct(c.left,c.right)):k=p-2*(T!==0||S!==0?T+S:ct(c.top,c.bottom))}await o({...e,availableWidth:y,availableHeight:k});const v=await i.getDimensions(s.floating);return h!==v.width||p!==v.height?{reset:{rects:!0}}:{}}}};function pn(t){return pu(t)?(t.nodeName||"").toLowerCase():"#document"}function ft(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tn(t){var e;return(e=(pu(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function pu(t){return t instanceof Node||t instanceof ft(t).Node}function Qt(t){return t instanceof Element||t instanceof ft(t).Element}function zt(t){return t instanceof HTMLElement||t instanceof ft(t).HTMLElement}function oc(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ft(t).ShadowRoot}function fi(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=bt(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Sh(t){return["table","td","th"].includes(pn(t))}function da(t){const e=ha(),n=bt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $h(t){let e=sr(t);for(;zt(e)&&!bs(e);){if(da(e))return e;e=sr(e)}return null}function ha(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bs(t){return["html","body","#document"].includes(pn(t))}function bt(t){return ft(t).getComputedStyle(t)}function ws(t){return Qt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function sr(t){if(pn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||oc(t)&&t.host||tn(t);return oc(e)?e.host:e}function mu(t){const e=sr(t);return bs(e)?t.ownerDocument?t.ownerDocument.body:t.body:zt(e)&&fi(e)?e:mu(e)}function Jr(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=mu(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=ft(i);return s?e.concat(o,o.visualViewport||[],fi(i)?i:[],o.frameElement&&n?Jr(o.frameElement):[]):e.concat(i,Jr(i,[],n))}function gu(t){const e=bt(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=zt(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Gi(n)!==s||Gi(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function pa(t){return Qt(t)?t:t.contextElement}function Jn(t){const e=pa(t);if(!zt(e))return hn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=gu(e);let o=(s?Gi(n.width):n.width)/r,a=(s?Gi(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Ph=hn(0);function yu(t){const e=ft(t);return!ha()||!e.visualViewport?Ph:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Rh(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ft(t)?!1:e}function In(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=pa(t);let o=hn(1);e&&(r?Qt(r)&&(o=Jn(r)):o=Jn(t));const a=Rh(s,n,r)?yu(s):hn(0);let c=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const h=ft(s),p=r&&Qt(r)?ft(r):r;let _=h.frameElement;for(;_&&r&&p!==h;){const g=Jn(_),m=_.getBoundingClientRect(),x=bt(_),b=m.left+(_.clientLeft+parseFloat(x.paddingLeft))*g.x,k=m.top+(_.clientTop+parseFloat(x.paddingTop))*g.y;c*=g.x,l*=g.y,u*=g.x,f*=g.y,c+=b,l+=k,_=ft(_).frameElement}}return Ki({width:u,height:f,x:c,y:l})}function Ah(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=zt(n),s=tn(n);if(n===s)return e;let o={scrollLeft:0,scrollTop:0},a=hn(1);const c=hn(0);if((i||!i&&r!=="fixed")&&((pn(n)!=="body"||fi(s))&&(o=ws(n)),zt(n))){const l=In(n);a=Jn(n),c.x=l.x+n.clientLeft,c.y=l.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+c.x,y:e.y*a.y-o.scrollTop*a.y+c.y}}function Dh(t){return Array.from(t.getClientRects())}function _u(t){return In(tn(t)).left+ws(t).scrollLeft}function Mh(t){const e=tn(t),n=ws(t),r=t.ownerDocument.body,i=ct(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ct(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+_u(t);const a=-n.scrollTop;return bt(r).direction==="rtl"&&(o+=ct(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Lh(t,e){const n=ft(t),r=tn(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const l=ha();(!l||l&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}function Ih(t,e){const n=In(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=zt(t)?Jn(t):hn(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,l=r*s.y;return{width:o,height:a,x:c,y:l}}function ac(t,e,n){let r;if(e==="viewport")r=Lh(t,n);else if(e==="document")r=Mh(tn(t));else if(Qt(e))r=Ih(e,n);else{const i=yu(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Ki(r)}function xu(t,e){const n=sr(t);return n===e||!Qt(n)||bs(n)?!1:bt(n).position==="fixed"||xu(n,e)}function jh(t,e){const n=e.get(t);if(n)return n;let r=Jr(t,[],!1).filter(a=>Qt(a)&&pn(a)!=="body"),i=null;const s=bt(t).position==="fixed";let o=s?sr(t):t;for(;Qt(o)&&!bs(o);){const a=bt(o),c=da(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||fi(o)&&!c&&xu(t,o))?r=r.filter(u=>u!==o):i=a,o=sr(o)}return e.set(t,r),r}function zh(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?jh(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const f=ac(e,u,i);return l.top=ct(f.top,l.top),l.right=dn(f.right,l.right),l.bottom=dn(f.bottom,l.bottom),l.left=ct(f.left,l.left),l},ac(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Nh(t){return gu(t)}function Fh(t,e,n){const r=zt(e),i=tn(e),s=n==="fixed",o=In(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=hn(0);if(r||!r&&!s)if((pn(e)!=="body"||fi(i))&&(a=ws(e)),r){const l=In(e,!0,s,e);c.x=l.x+e.clientLeft,c.y=l.y+e.clientTop}else i&&(c.x=_u(i));return{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function cc(t,e){return!zt(t)||bt(t).position==="fixed"?null:e?e(t):t.offsetParent}function vu(t,e){const n=ft(t);if(!zt(t))return n;let r=cc(t,e);for(;r&&Sh(r)&&bt(r).position==="static";)r=cc(r,e);return r&&(pn(r)==="html"||pn(r)==="body"&&bt(r).position==="static"&&!da(r))?n:r||$h(t)||n}const Uh=async function(t){let{reference:e,floating:n,strategy:r}=t;const i=this.getOffsetParent||vu,s=this.getDimensions;return{reference:Fh(e,await i(n),r),floating:{x:0,y:0,...await s(n)}}};function Bh(t){return bt(t).direction==="rtl"}const Hh={convertOffsetParentRelativeRectToViewportRelativeRect:Ah,getDocumentElement:tn,getClippingRect:zh,getOffsetParent:vu,getElementRects:Uh,getClientRects:Dh,getDimensions:Nh,getScale:Jn,isElement:Qt,isRTL:Bh};function Vh(t,e){let n=null,r;const i=tn(t);function s(){clearTimeout(r),n&&n.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const{left:l,top:u,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const p=vi(u),_=vi(i.clientWidth-(l+f)),g=vi(i.clientHeight-(u+h)),m=vi(l),b={rootMargin:-p+"px "+-_+"px "+-g+"px "+-m+"px",threshold:ct(0,dn(1,c))||1};let k=!0;function y(v){const w=v[0].intersectionRatio;if(w!==c){if(!k)return o();w?o(!1,w):r=setTimeout(()=>{o(!1,1e-7)},100)}k=!1}try{n=new IntersectionObserver(y,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(y,b)}n.observe(t)}return o(!0),s}function Wh(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=pa(t),u=i||s?[...l?Jr(l):[],...Jr(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const f=l&&a?Vh(l,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(x=>{let[b]=x;b&&b.target===l&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{p&&p.observe(e)})),n()}),l&&!c&&p.observe(l),p.observe(e));let _,g=c?In(t):null;c&&m();function m(){const x=In(t);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,_=requestAnimationFrame(m)}return n(),()=>{u.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),f&&f(),p&&p.disconnect(),p=null,c&&cancelAnimationFrame(_)}}const Yh=(t,e,n)=>{const r=new Map,i={platform:Hh,...n},s={...i.platform,_c:r};return vh(t,e,{...i,platform:s})},Gh=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?rc({element:r.current,padding:i}).fn(n):{}:r?rc({element:r,padding:i}).fn(n):{}}}};var Ni=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Zi(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Zi(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Zi(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function bu(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function lc(t,e){const n=bu(t);return Math.round(e*n)/n}function uc(t){const e=d.useRef(t);return Ni(()=>{e.current=t}),e}function Xh(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=t,[u,f]=d.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=d.useState(r);Zi(h,r)||p(r);const[_,g]=d.useState(null),[m,x]=d.useState(null),b=d.useCallback(G=>{G!=w.current&&(w.current=G,g(G))},[g]),k=d.useCallback(G=>{G!==E.current&&(E.current=G,x(G))},[x]),y=s||_,v=o||m,w=d.useRef(null),E=d.useRef(null),T=d.useRef(u),S=uc(c),R=uc(i),z=d.useCallback(()=>{if(!w.current||!E.current)return;const G={placement:e,strategy:n,middleware:h};R.current&&(G.platform=R.current),Yh(w.current,E.current,G).then(V=>{const N={...V,isPositioned:!0};L.current&&!Zi(T.current,N)&&(T.current=N,Jo.flushSync(()=>{f(N)}))})},[h,e,n,R]);Ni(()=>{l===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(G=>({...G,isPositioned:!1})))},[l]);const L=d.useRef(!1);Ni(()=>(L.current=!0,()=>{L.current=!1}),[]),Ni(()=>{if(y&&(w.current=y),v&&(E.current=v),y&&v){if(S.current)return S.current(y,v,z);z()}},[y,v,z,S]);const U=d.useMemo(()=>({reference:w,floating:E,setReference:b,setFloating:k}),[b,k]),B=d.useMemo(()=>({reference:y,floating:v}),[y,v]),Y=d.useMemo(()=>{const G={position:n,left:0,top:0};if(!B.floating)return G;const V=lc(B.floating,u.x),N=lc(B.floating,u.y);return a?{...G,transform:"translate("+V+"px, "+N+"px)",...bu(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:N}},[n,a,B.floating,u.x,u.y]);return d.useMemo(()=>({...u,update:z,refs:U,elements:B,floatingStyles:Y}),[u,z,U,B,Y])}function Kh(t){let e;const n=new Set,r=(l,u)=>{const f=typeof l=="function"?l(e):l;if(f!==e){const h=e;e=u?f:Object.assign({},e,f),n.forEach(p=>p(e,h))}},i=()=>e,s=(l,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=u(e);function p(){const _=u(e);if(!f(h,_)){const g=h;l(h=_,g)}}return n.add(p),()=>n.delete(p)},c={setState:r,getState:i,subscribe:(l,u,f)=>u||f?s(l,u,f):(n.add(l),()=>n.delete(l)),destroy:()=>n.clear()};return e=t(r,i,c),c}const Zh=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),fc=Zh?d.useEffect:d.useLayoutEffect;function qh(t){const e=typeof t=="function"?Kh(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=d.useReducer(m=>m+1,0),o=e.getState(),a=d.useRef(o),c=d.useRef(r),l=d.useRef(i),u=d.useRef(!1),f=d.useRef();f.current===void 0&&(f.current=r(o));let h,p=!1;(a.current!==o||c.current!==r||l.current!==i||u.current)&&(h=r(o),p=!i(f.current,h)),fc(()=>{p&&(f.current=h),a.current=o,c.current=r,l.current=i,u.current=!1});const _=d.useRef(o);fc(()=>{const m=()=>{try{const b=e.getState(),k=c.current(b);l.current(f.current,k)||(a.current=b,f.current=k,s())}catch{u.current=!0,s()}},x=e.subscribe(m);return e.getState()!==_.current&&m(),x},[]);const g=p?h:f.current;return d.useDebugValue(g),g};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}let wr=0;const Qh=qh(t=>(xi.onStart=(e,n,r)=>{t({active:!0,item:e,loaded:n,total:r,progress:(n-wr)/(r-wr)*100})},xi.onLoad=()=>{t({active:!1})},xi.onError=e=>t(n=>({errors:[...n.errors,e]})),xi.onProgress=(e,n,r)=>{n===r&&(wr=r),t({active:!0,item:e,loaded:n,total:r,progress:(n-wr)/(r-wr)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),Jh=t=>`Loading ${t.toFixed(2)}%`;function ep({containerStyles:t,innerStyles:e,barStyles:n,dataStyles:r,dataInterpolation:i=Jh,initialState:s=o=>o}){const{active:o,progress:a}=Qh(),c=d.useRef(0),l=d.useRef(0),u=d.useRef(null),[f,h]=d.useState(s(o));d.useEffect(()=>{let _;return o!==f&&(_=setTimeout(()=>h(o),300)),()=>clearTimeout(_)},[f,o]);const p=d.useCallback(()=>{u.current&&(c.current+=(a-c.current)/2,(c.current>.95*a||a===100)&&(c.current=a),u.current.innerText=i(c.current),c.current<a&&(l.current=requestAnimationFrame(p)))},[i,a]);return d.useEffect(()=>(p(),()=>cancelAnimationFrame(l.current)),[p]),f?d.createElement("div",{style:{...bi.container,opacity:o?1:0,...t}},d.createElement("div",null,d.createElement("div",{style:{...bi.inner,...e}},d.createElement("div",{style:{...bi.bar,transform:`scaleX(${a/100})`,...n}}),d.createElement("span",{ref:u,style:{...bi.data,...r}})))):null}const bi={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}},zs=new Wd,Ns=new ge,Vn=new ge,Et=new ge,Ut=new ge,Pt=new ge,Bt=new ge,Ht=new ge,kr=new ge,Er=new ge,Tr=new ge,wi=new ge,Cr=new ge,Or=new ge,Sr=new ge;class tp{constructor(e,n,r){this.camera=e,this.scene=n,this.startPoint=new ge,this.endPoint=new ge,this.collection=[],this.deep=r||Number.MAX_VALUE}select(e,n){return this.startPoint=e||this.startPoint,this.endPoint=n||this.endPoint,this.collection=[],this.updateFrustum(this.startPoint,this.endPoint),this.searchChildInFrustum(zs,this.scene),this.collection}updateFrustum(e,n){if(e=e||this.startPoint,n=n||this.endPoint,e.x===n.x&&(n.x+=Number.EPSILON),e.y===n.y&&(n.y+=Number.EPSILON),this.camera.updateProjectionMatrix(),this.camera.updateMatrixWorld(),this.camera.isPerspectiveCamera){Vn.copy(e),Vn.x=Math.min(e.x,n.x),Vn.y=Math.max(e.y,n.y),n.x=Math.max(e.x,n.x),n.y=Math.min(e.y,n.y),Et.setFromMatrixPosition(this.camera.matrixWorld),Ut.copy(Vn),Pt.set(n.x,Vn.y,0),Bt.copy(n),Ht.set(Vn.x,n.y,0),Ut.unproject(this.camera),Pt.unproject(this.camera),Bt.unproject(this.camera),Ht.unproject(this.camera),Cr.copy(Ut).sub(Et),Or.copy(Pt).sub(Et),Sr.copy(Bt).sub(Et),Cr.normalize(),Or.normalize(),Sr.normalize(),Cr.multiplyScalar(this.deep),Or.multiplyScalar(this.deep),Sr.multiplyScalar(this.deep),Cr.add(Et),Or.add(Et),Sr.add(Et);var r=zs.planes;r[0].setFromCoplanarPoints(Et,Ut,Pt),r[1].setFromCoplanarPoints(Et,Pt,Bt),r[2].setFromCoplanarPoints(Bt,Ht,Et),r[3].setFromCoplanarPoints(Ht,Ut,Et),r[4].setFromCoplanarPoints(Pt,Bt,Ht),r[5].setFromCoplanarPoints(Sr,Or,Cr),r[5].normal.multiplyScalar(-1)}else if(this.camera.isOrthographicCamera){const i=Math.min(e.x,n.x),s=Math.max(e.y,n.y),o=Math.max(e.x,n.x),a=Math.min(e.y,n.y);Ut.set(i,s,-1),Pt.set(o,s,-1),Bt.set(o,a,-1),Ht.set(i,a,-1),kr.set(i,s,1),Er.set(o,s,1),Tr.set(o,a,1),wi.set(i,a,1),Ut.unproject(this.camera),Pt.unproject(this.camera),Bt.unproject(this.camera),Ht.unproject(this.camera),kr.unproject(this.camera),Er.unproject(this.camera),Tr.unproject(this.camera),wi.unproject(this.camera);var r=zs.planes;r[0].setFromCoplanarPoints(Ut,kr,Er),r[1].setFromCoplanarPoints(Pt,Er,Tr),r[2].setFromCoplanarPoints(Tr,wi,Ht),r[3].setFromCoplanarPoints(wi,kr,Ut),r[4].setFromCoplanarPoints(Pt,Bt,Ht),r[5].setFromCoplanarPoints(Tr,Er,kr),r[5].normal.multiplyScalar(-1)}else console.error("THREE.SelectionBox: Unsupported camera type.")}searchChildInFrustum(e,n){if((n.isMesh||n.isLine||n.isPoints)&&n.material!==void 0&&(n.geometry.boundingSphere===null&&n.geometry.computeBoundingSphere(),Ns.copy(n.geometry.boundingSphere.center),Ns.applyMatrix4(n.matrixWorld),e.containsPoint(Ns)&&this.collection.push(n)),n.children.length>0)for(let r=0;r<n.children.length;r++)this.searchChildInFrustum(e,n.children[r])}}class Br extends Yd{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,n,r,i){const s=this,o=new Gd(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(a))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const n=this;function r(M,j){if(M.nodeType!==1)return;const O=y(M);let I=!0,W=null;switch(M.nodeName){case"svg":break;case"style":s(M);break;case"g":j=_(M,j);break;case"path":j=_(M,j),M.hasAttribute("d")&&(W=i(M));break;case"rect":j=_(M,j),W=c(M);break;case"polygon":j=_(M,j),W=l(M);break;case"polyline":j=_(M,j),W=u(M);break;case"circle":j=_(M,j),W=f(M);break;case"ellipse":j=_(M,j),W=h(M);break;case"line":j=_(M,j),W=p(M);break;case"defs":I=!1;break;case"mask":I=!1;break;case"use":j=_(M,j);const D=M.href.baseVal.substring(1),X=M.viewportElement.getElementById(D);X?r(X,j):console.warn("SVGLoader: 'use node' references non-existent node id: "+D);break}if(W&&(j.fill!==void 0&&j.fill!=="none"&&W.color.setStyle(j.fill),w(W,H),R.push(W),W.userData={node:M,style:j}),I){const D=M.childNodes;for(let X=0;X<D.length;X++)r(D[X],j)}O&&(L.pop(),L.length>0?H.copy(L[L.length-1]):H.identity())}function i(M){const j=new vn,O=new xe,I=new xe,W=new xe;let D=!0,X=!1;const ne=M.getAttribute("d").match(/[a-df-z][^a-df-z]*/gi);for(let re=0,Z=ne.length;re<Z;re++){const fe=ne[re],Q=fe.charAt(0),ee=fe.substr(1).trim();D===!0&&(X=!0,D=!1);let A;switch(Q){case"M":A=m(ee);for(let $=0,ie=A.length;$<ie;$+=2)O.x=A[$+0],O.y=A[$+1],I.x=O.x,I.y=O.y,$===0?j.moveTo(O.x,O.y):j.lineTo(O.x,O.y),$===0&&W.copy(O);break;case"H":A=m(ee);for(let $=0,ie=A.length;$<ie;$++)O.x=A[$],I.x=O.x,I.y=O.y,j.lineTo(O.x,O.y),$===0&&X===!0&&W.copy(O);break;case"V":A=m(ee);for(let $=0,ie=A.length;$<ie;$++)O.y=A[$],I.x=O.x,I.y=O.y,j.lineTo(O.x,O.y),$===0&&X===!0&&W.copy(O);break;case"L":A=m(ee);for(let $=0,ie=A.length;$<ie;$+=2)O.x=A[$+0],O.y=A[$+1],I.x=O.x,I.y=O.y,j.lineTo(O.x,O.y),$===0&&X===!0&&W.copy(O);break;case"C":A=m(ee);for(let $=0,ie=A.length;$<ie;$+=6)j.bezierCurveTo(A[$+0],A[$+1],A[$+2],A[$+3],A[$+4],A[$+5]),I.x=A[$+2],I.y=A[$+3],O.x=A[$+4],O.y=A[$+5],$===0&&X===!0&&W.copy(O);break;case"S":A=m(ee);for(let $=0,ie=A.length;$<ie;$+=4)j.bezierCurveTo(g(O.x,I.x),g(O.y,I.y),A[$+0],A[$+1],A[$+2],A[$+3]),I.x=A[$+0],I.y=A[$+1],O.x=A[$+2],O.y=A[$+3],$===0&&X===!0&&W.copy(O);break;case"Q":A=m(ee);for(let $=0,ie=A.length;$<ie;$+=4)j.quadraticCurveTo(A[$+0],A[$+1],A[$+2],A[$+3]),I.x=A[$+0],I.y=A[$+1],O.x=A[$+2],O.y=A[$+3],$===0&&X===!0&&W.copy(O);break;case"T":A=m(ee);for(let $=0,ie=A.length;$<ie;$+=2){const me=g(O.x,I.x),Ee=g(O.y,I.y);j.quadraticCurveTo(me,Ee,A[$+0],A[$+1]),I.x=me,I.y=Ee,O.x=A[$+0],O.y=A[$+1],$===0&&X===!0&&W.copy(O)}break;case"A":A=m(ee,[3,4],7);for(let $=0,ie=A.length;$<ie;$+=7){if(A[$+5]==O.x&&A[$+6]==O.y)continue;const me=O.clone();O.x=A[$+5],O.y=A[$+6],I.x=O.x,I.y=O.y,o(j,A[$],A[$+1],A[$+2],A[$+3],A[$+4],me,O),$===0&&X===!0&&W.copy(O)}break;case"m":A=m(ee);for(let $=0,ie=A.length;$<ie;$+=2)O.x+=A[$+0],O.y+=A[$+1],I.x=O.x,I.y=O.y,$===0?j.moveTo(O.x,O.y):j.lineTo(O.x,O.y),$===0&&W.copy(O);break;case"h":A=m(ee);for(let $=0,ie=A.length;$<ie;$++)O.x+=A[$],I.x=O.x,I.y=O.y,j.lineTo(O.x,O.y),$===0&&X===!0&&W.copy(O);break;case"v":A=m(ee);for(let $=0,ie=A.length;$<ie;$++)O.y+=A[$],I.x=O.x,I.y=O.y,j.lineTo(O.x,O.y),$===0&&X===!0&&W.copy(O);break;case"l":A=m(ee);for(let $=0,ie=A.length;$<ie;$+=2)O.x+=A[$+0],O.y+=A[$+1],I.x=O.x,I.y=O.y,j.lineTo(O.x,O.y),$===0&&X===!0&&W.copy(O);break;case"c":A=m(ee);for(let $=0,ie=A.length;$<ie;$+=6)j.bezierCurveTo(O.x+A[$+0],O.y+A[$+1],O.x+A[$+2],O.y+A[$+3],O.x+A[$+4],O.y+A[$+5]),I.x=O.x+A[$+2],I.y=O.y+A[$+3],O.x+=A[$+4],O.y+=A[$+5],$===0&&X===!0&&W.copy(O);break;case"s":A=m(ee);for(let $=0,ie=A.length;$<ie;$+=4)j.bezierCurveTo(g(O.x,I.x),g(O.y,I.y),O.x+A[$+0],O.y+A[$+1],O.x+A[$+2],O.y+A[$+3]),I.x=O.x+A[$+0],I.y=O.y+A[$+1],O.x+=A[$+2],O.y+=A[$+3],$===0&&X===!0&&W.copy(O);break;case"q":A=m(ee);for(let $=0,ie=A.length;$<ie;$+=4)j.quadraticCurveTo(O.x+A[$+0],O.y+A[$+1],O.x+A[$+2],O.y+A[$+3]),I.x=O.x+A[$+0],I.y=O.y+A[$+1],O.x+=A[$+2],O.y+=A[$+3],$===0&&X===!0&&W.copy(O);break;case"t":A=m(ee);for(let $=0,ie=A.length;$<ie;$+=2){const me=g(O.x,I.x),Ee=g(O.y,I.y);j.quadraticCurveTo(me,Ee,O.x+A[$+0],O.y+A[$+1]),I.x=me,I.y=Ee,O.x=O.x+A[$+0],O.y=O.y+A[$+1],$===0&&X===!0&&W.copy(O)}break;case"a":A=m(ee,[3,4],7);for(let $=0,ie=A.length;$<ie;$+=7){if(A[$+5]==0&&A[$+6]==0)continue;const me=O.clone();O.x+=A[$+5],O.y+=A[$+6],I.x=O.x,I.y=O.y,o(j,A[$],A[$+1],A[$+2],A[$+3],A[$+4],me,O),$===0&&X===!0&&W.copy(O)}break;case"Z":case"z":j.currentPath.autoClose=!0,j.currentPath.curves.length>0&&(O.copy(W),j.currentPath.currentPoint.copy(O),D=!0);break;default:console.warn(fe)}X=!1}return j}function s(M){if(!(!M.sheet||!M.sheet.cssRules||!M.sheet.cssRules.length))for(let j=0;j<M.sheet.cssRules.length;j++){const O=M.sheet.cssRules[j];if(O.type!==1)continue;const I=O.selectorText.split(/,/gm).filter(Boolean).map(W=>W.trim());for(let W=0;W<I.length;W++)z[I[W]]=Object.assign(z[I[W]]||{},O.style)}}function o(M,j,O,I,W,D,X,oe){if(j==0||O==0){M.lineTo(oe.x,oe.y);return}I=I*Math.PI/180,j=Math.abs(j),O=Math.abs(O);const ne=(X.x-oe.x)/2,re=(X.y-oe.y)/2,Z=Math.cos(I)*ne+Math.sin(I)*re,fe=-Math.sin(I)*ne+Math.cos(I)*re;let Q=j*j,ee=O*O;const A=Z*Z,$=fe*fe,ie=A/Q+$/ee;if(ie>1){const rn=Math.sqrt(ie);j=rn*j,O=rn*O,Q=j*j,ee=O*O}const me=Q*$+ee*A,Ee=(Q*ee-me)/me;let $e=Math.sqrt(Math.max(0,Ee));W===D&&($e=-$e);const pt=$e*j*fe/O,J=-$e*O*Z/j,de=Math.cos(I)*pt-Math.sin(I)*J+(X.x+oe.x)/2,Fe=Math.sin(I)*pt+Math.cos(I)*J+(X.y+oe.y)/2,Ve=a(1,0,(Z-pt)/j,(fe-J)/O),ot=a((Z-pt)/j,(fe-J)/O,(-Z-pt)/j,(-fe-J)/O)%(Math.PI*2);M.currentPath.absellipse(de,Fe,j,O,Ve,Ve+ot,D===0,I)}function a(M,j,O,I){const W=M*O+j*I,D=Math.sqrt(M*M+j*j)*Math.sqrt(O*O+I*I);let X=Math.acos(Math.max(-1,Math.min(1,W/D)));return M*I-j*O<0&&(X=-X),X}function c(M){const j=k(M.getAttribute("x")||0),O=k(M.getAttribute("y")||0),I=k(M.getAttribute("rx")||M.getAttribute("ry")||0),W=k(M.getAttribute("ry")||M.getAttribute("rx")||0),D=k(M.getAttribute("width")),X=k(M.getAttribute("height")),oe=1-.551915024494,ne=new vn;return ne.moveTo(j+I,O),ne.lineTo(j+D-I,O),(I!==0||W!==0)&&ne.bezierCurveTo(j+D-I*oe,O,j+D,O+W*oe,j+D,O+W),ne.lineTo(j+D,O+X-W),(I!==0||W!==0)&&ne.bezierCurveTo(j+D,O+X-W*oe,j+D-I*oe,O+X,j+D-I,O+X),ne.lineTo(j+I,O+X),(I!==0||W!==0)&&ne.bezierCurveTo(j+I*oe,O+X,j,O+X-W*oe,j,O+X-W),ne.lineTo(j,O+W),(I!==0||W!==0)&&ne.bezierCurveTo(j,O+W*oe,j+I*oe,O,j+I,O),ne}function l(M){function j(D,X,oe){const ne=k(X),re=k(oe);W===0?I.moveTo(ne,re):I.lineTo(ne,re),W++}const O=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,I=new vn;let W=0;return M.getAttribute("points").replace(O,j),I.currentPath.autoClose=!0,I}function u(M){function j(D,X,oe){const ne=k(X),re=k(oe);W===0?I.moveTo(ne,re):I.lineTo(ne,re),W++}const O=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,I=new vn;let W=0;return M.getAttribute("points").replace(O,j),I.currentPath.autoClose=!1,I}function f(M){const j=k(M.getAttribute("cx")||0),O=k(M.getAttribute("cy")||0),I=k(M.getAttribute("r")||0),W=new js;W.absarc(j,O,I,0,Math.PI*2);const D=new vn;return D.subPaths.push(W),D}function h(M){const j=k(M.getAttribute("cx")||0),O=k(M.getAttribute("cy")||0),I=k(M.getAttribute("rx")||0),W=k(M.getAttribute("ry")||0),D=new js;D.absellipse(j,O,I,W,0,Math.PI*2);const X=new vn;return X.subPaths.push(D),X}function p(M){const j=k(M.getAttribute("x1")||0),O=k(M.getAttribute("y1")||0),I=k(M.getAttribute("x2")||0),W=k(M.getAttribute("y2")||0),D=new vn;return D.moveTo(j,O),D.lineTo(I,W),D.currentPath.autoClose=!1,D}function _(M,j){j=Object.assign({},j);let O={};if(M.hasAttribute("class")){const X=M.getAttribute("class").split(/\s/).filter(Boolean).map(oe=>oe.trim());for(let oe=0;oe<X.length;oe++)O=Object.assign(O,z["."+X[oe]])}M.hasAttribute("id")&&(O=Object.assign(O,z["#"+M.getAttribute("id")]));function I(X,oe,ne){ne===void 0&&(ne=function(Z){return Z.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),Z}),M.hasAttribute(X)&&(j[oe]=ne(M.getAttribute(X))),O[X]&&(j[oe]=ne(O[X])),M.style&&M.style[X]!==""&&(j[oe]=ne(M.style[X]))}function W(X){return Math.max(0,Math.min(1,k(X)))}function D(X){return Math.max(0,k(X))}return I("fill","fill"),I("fill-opacity","fillOpacity",W),I("fill-rule","fillRule"),I("opacity","opacity",W),I("stroke","stroke"),I("stroke-opacity","strokeOpacity",W),I("stroke-width","strokeWidth",D),I("stroke-linejoin","strokeLineJoin"),I("stroke-linecap","strokeLineCap"),I("stroke-miterlimit","strokeMiterLimit",D),I("visibility","visibility"),j}function g(M,j){return M-(j-M)}function m(M,j,O){if(typeof M!="string")throw new TypeError("Invalid input: "+typeof M);const I={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},W=0,D=1,X=2,oe=3;let ne=W,re=!0,Z="",fe="";const Q=[];function ee(me,Ee,$e){const pt=new SyntaxError('Unexpected character "'+me+'" at index '+Ee+".");throw pt.partial=$e,pt}function A(){Z!==""&&(fe===""?Q.push(Number(Z)):Q.push(Number(Z)*Math.pow(10,Number(fe)))),Z="",fe=""}let $;const ie=M.length;for(let me=0;me<ie;me++){if($=M[me],Array.isArray(j)&&j.includes(Q.length%O)&&I.FLAGS.test($)){ne=D,Z=$,A();continue}if(ne===W){if(I.WHITESPACE.test($))continue;if(I.DIGIT.test($)||I.SIGN.test($)){ne=D,Z=$;continue}if(I.POINT.test($)){ne=X,Z=$;continue}I.COMMA.test($)&&(re&&ee($,me,Q),re=!0)}if(ne===D){if(I.DIGIT.test($)){Z+=$;continue}if(I.POINT.test($)){Z+=$,ne=X;continue}if(I.EXP.test($)){ne=oe;continue}I.SIGN.test($)&&Z.length===1&&I.SIGN.test(Z[0])&&ee($,me,Q)}if(ne===X){if(I.DIGIT.test($)){Z+=$;continue}if(I.EXP.test($)){ne=oe;continue}I.POINT.test($)&&Z[Z.length-1]==="."&&ee($,me,Q)}if(ne===oe){if(I.DIGIT.test($)){fe+=$;continue}if(I.SIGN.test($)){if(fe===""){fe+=$;continue}fe.length===1&&I.SIGN.test(fe)&&ee($,me,Q)}}I.WHITESPACE.test($)?(A(),ne=W,re=!1):I.COMMA.test($)?(A(),ne=W,re=!0):I.SIGN.test($)?(A(),ne=D,Z=$):I.POINT.test($)?(A(),ne=X,Z=$):ee($,me,Q)}return A(),Q}const x=["mm","cm","in","pt","pc","px"],b={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function k(M){let j="px";if(typeof M=="string"||M instanceof String)for(let I=0,W=x.length;I<W;I++){const D=x[I];if(M.endsWith(D)){j=D,M=M.substring(0,M.length-D.length);break}}let O;return j==="px"&&n.defaultUnit!=="px"?O=b.in[n.defaultUnit]/n.defaultDPI:(O=b[j][n.defaultUnit],O<0&&(O=b[j].in*n.defaultDPI)),O*parseFloat(M)}function y(M){if(!(M.hasAttribute("transform")||M.nodeName==="use"&&(M.hasAttribute("x")||M.hasAttribute("y"))))return null;const j=v(M);return L.length>0&&j.premultiply(L[L.length-1]),H.copy(j),L.push(j),j}function v(M){const j=new Hn,O=U;if(M.nodeName==="use"&&(M.hasAttribute("x")||M.hasAttribute("y"))){const I=k(M.getAttribute("x")),W=k(M.getAttribute("y"));j.translate(I,W)}if(M.hasAttribute("transform")){const I=M.getAttribute("transform").split(")");for(let W=I.length-1;W>=0;W--){const D=I[W].trim();if(D==="")continue;const X=D.indexOf("("),oe=D.length;if(X>0&&X<oe){const ne=D.substr(0,X),re=m(D.substr(X+1,oe-X-1));switch(O.identity(),ne){case"translate":if(re.length>=1){const Z=re[0];let fe=Z;re.length>=2&&(fe=re[1]),O.translate(Z,fe)}break;case"rotate":if(re.length>=1){let Z=0,fe=0,Q=0;Z=-re[0]*Math.PI/180,re.length>=3&&(fe=re[1],Q=re[2]),B.identity().translate(-fe,-Q),Y.identity().rotate(Z),G.multiplyMatrices(Y,B),B.identity().translate(fe,Q),O.multiplyMatrices(B,G)}break;case"scale":if(re.length>=1){const Z=re[0];let fe=Z;re.length>=2&&(fe=re[1]),O.scale(Z,fe)}break;case"skewX":re.length===1&&O.set(1,Math.tan(re[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":re.length===1&&O.set(1,0,0,Math.tan(re[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":re.length===6&&O.set(re[0],re[2],re[4],re[1],re[3],re[5],0,0,1);break}}j.premultiply(O)}}return j}function w(M,j){function O(D){N.set(D.x,D.y,1).applyMatrix3(j),D.set(N.x,N.y)}const I=E(j),W=M.subPaths;for(let D=0,X=W.length;D<X;D++){const ne=W[D].curves;for(let re=0;re<ne.length;re++){const Z=ne[re];Z.isLineCurve?(O(Z.v1),O(Z.v2)):Z.isCubicBezierCurve?(O(Z.v0),O(Z.v1),O(Z.v2),O(Z.v3)):Z.isQuadraticBezierCurve?(O(Z.v0),O(Z.v1),O(Z.v2)):Z.isEllipseCurve&&(I&&console.warn("SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented."),V.set(Z.aX,Z.aY),O(V),Z.aX=V.x,Z.aY=V.y,Z.xRadius*=T(j),Z.yRadius*=S(j))}}}function E(M){return M.elements[1]!==0||M.elements[3]!==0}function T(M){const j=M.elements;return Math.sqrt(j[0]*j[0]+j[1]*j[1])}function S(M){const j=M.elements;return Math.sqrt(j[3]*j[3]+j[4]*j[4])}const R=[],z={},L=[],U=new Hn,B=new Hn,Y=new Hn,G=new Hn,V=new xe,N=new ge,H=new Hn,K=new DOMParser().parseFromString(e,"image/svg+xml");return r(K.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:R,xml:K.documentElement}}static createShapes(e){const r={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},i={loc:r.ORIGIN,t:0};function s(m,x,b,k){const y=m.x,v=x.x,w=b.x,E=k.x,T=m.y,S=x.y,R=b.y,z=k.y,L=(E-w)*(T-R)-(z-R)*(y-w),U=(v-y)*(T-R)-(S-T)*(y-w),B=(z-R)*(v-y)-(E-w)*(S-T),Y=L/B,G=U/B;if(B===0&&L!==0||Y<=0||Y>=1||G<0||G>1)return null;if(L===0&&B===0){for(let V=0;V<2;V++)if(o(V===0?b:k,m,x),i.loc==r.ORIGIN){const N=V===0?b:k;return{x:N.x,y:N.y,t:i.t}}else if(i.loc==r.BETWEEN){const N=+(y+i.t*(v-y)).toPrecision(10),H=+(T+i.t*(S-T)).toPrecision(10);return{x:N,y:H,t:i.t}}return null}else{for(let H=0;H<2;H++)if(o(H===0?b:k,m,x),i.loc==r.ORIGIN){const K=H===0?b:k;return{x:K.x,y:K.y,t:i.t}}const V=+(y+Y*(v-y)).toPrecision(10),N=+(T+Y*(S-T)).toPrecision(10);return{x:V,y:N,t:Y}}}function o(m,x,b){const k=b.x-x.x,y=b.y-x.y,v=m.x-x.x,w=m.y-x.y,E=k*w-v*y;if(m.x===x.x&&m.y===x.y){i.loc=r.ORIGIN,i.t=0;return}if(m.x===b.x&&m.y===b.y){i.loc=r.DESTINATION,i.t=1;return}if(E<-Number.EPSILON){i.loc=r.LEFT;return}if(E>Number.EPSILON){i.loc=r.RIGHT;return}if(k*v<0||y*w<0){i.loc=r.BEHIND;return}if(Math.sqrt(k*k+y*y)<Math.sqrt(v*v+w*w)){i.loc=r.BEYOND;return}let T;k!==0?T=v/k:T=w/y,i.loc=r.BETWEEN,i.t=T}function a(m,x){const b=[],k=[];for(let y=1;y<m.length;y++){const v=m[y-1],w=m[y];for(let E=1;E<x.length;E++){const T=x[E-1],S=x[E],R=s(v,w,T,S);R!==null&&b.find(z=>z.t<=R.t+Number.EPSILON&&z.t>=R.t-Number.EPSILON)===void 0&&(b.push(R),k.push(new xe(R.x,R.y)))}}return k}function c(m,x,b){const k=new xe;x.getCenter(k);const y=[];return b.forEach(v=>{v.boundingBox.containsPoint(k)&&a(m,v.points).forEach(E=>{y.push({identifier:v.identifier,isCW:v.isCW,point:E})})}),y.sort((v,w)=>v.point.x-w.point.x),y}function l(m,x,b,k,y){(y==null||y==="")&&(y="nonzero");const v=new xe;m.boundingBox.getCenter(v);const w=[new xe(b,v.y),new xe(k,v.y)],E=c(w,m.boundingBox,x);E.sort((U,B)=>U.point.x-B.point.x);const T=[],S=[];E.forEach(U=>{U.identifier===m.identifier?T.push(U):S.push(U)});const R=T[0].point.x,z=[];let L=0;for(;L<S.length&&S[L].point.x<R;)z.length>0&&z[z.length-1]===S[L].identifier?z.pop():z.push(S[L].identifier),L++;if(z.push(m.identifier),y==="evenodd"){const U=z.length%2===0,B=z[z.length-2];return{identifier:m.identifier,isHole:U,for:B}}else if(y==="nonzero"){let U=!0,B=null,Y=null;for(let G=0;G<z.length;G++){const V=z[G];U?(Y=x[V].isCW,U=!1,B=V):Y!==x[V].isCW&&(Y=x[V].isCW,U=!0)}return{identifier:m.identifier,isHole:U,for:B}}else console.warn('fill-rule: "'+y+'" is currently not implemented.')}let u=0,f=999999999,h=-999999999,p=e.subPaths.map(m=>{const x=m.getPoints();let b=-999999999,k=999999999,y=-999999999,v=999999999;for(let w=0;w<x.length;w++){const E=x[w];E.y>b&&(b=E.y),E.y<k&&(k=E.y),E.x>y&&(y=E.x),E.x<v&&(v=E.x)}return h<=y&&(h=y+1),f>=v&&(f=v-1),{curves:m.curves,points:x,isCW:Xd.isClockWise(x),identifier:u++,boundingBox:new Kd(new xe(v,k),new xe(y,b))}});p=p.filter(m=>m.points.length>1);const _=p.map(m=>l(m,p,f,h,e.userData.style.fillRule)),g=[];return p.forEach(m=>{if(!_[m.identifier].isHole){const b=new xs;b.curves=m.curves,_.filter(y=>y.isHole&&y.for===m.identifier).forEach(y=>{const v=p[y.identifier],w=new js;w.curves=v.curves,b.holes.push(w)}),g.push(b)}}),g}static getStrokeStyle(e,n,r,i,s){return e=e!==void 0?e:1,n=n!==void 0?n:"#000",r=r!==void 0?r:"miter",i=i!==void 0?i:"butt",s=s!==void 0?s:4,{strokeColor:n,strokeWidth:e,strokeLineJoin:r,strokeLineCap:i,strokeMiterLimit:s}}static pointsToStroke(e,n,r,i){const s=[],o=[],a=[];if(Br.pointsToStrokeWithBuffers(e,n,r,i,s,o,a)===0)return null;const c=new Zd;return c.setAttribute("position",new zi(s,3)),c.setAttribute("normal",new zi(o,3)),c.setAttribute("uv",new zi(a,2)),c}static pointsToStrokeWithBuffers(e,n,r,i,s,o,a,c){const l=new xe,u=new xe,f=new xe,h=new xe,p=new xe,_=new xe,g=new xe,m=new xe,x=new xe,b=new xe,k=new xe,y=new xe,v=new xe,w=new xe,E=new xe,T=new xe,S=new xe;r=r!==void 0?r:12,i=i!==void 0?i:.001,c=c!==void 0?c:0,e=fe(e);const R=e.length;if(R<2)return 0;const z=e[0].equals(e[R-1]);let L,U=e[0],B;const Y=n.strokeWidth/2,G=1/(R-1);let V=0,N,H,K,se,M=!1,j=0,O=c*3,I=c*2;W(e[0],e[1],l).multiplyScalar(Y),m.copy(e[0]).sub(l),x.copy(e[0]).add(l),b.copy(m),k.copy(x);for(let Q=1;Q<R;Q++){L=e[Q],Q===R-1?z?B=e[1]:B=void 0:B=e[Q+1];const ee=l;if(W(U,L,ee),f.copy(ee).multiplyScalar(Y),y.copy(L).sub(f),v.copy(L).add(f),N=V+G,H=!1,B!==void 0){W(L,B,u),f.copy(u).multiplyScalar(Y),w.copy(L).sub(f),E.copy(L).add(f),K=!0,f.subVectors(B,U),ee.dot(f)<0&&(K=!1),Q===1&&(M=K),f.subVectors(B,L),f.normalize();const A=Math.abs(ee.dot(f));if(A!==0){const $=Y/A;f.multiplyScalar(-$),h.subVectors(L,U),p.copy(h).setLength($).add(f),T.copy(p).negate();const ie=p.length(),me=h.length();h.divideScalar(me),_.subVectors(B,L);const Ee=_.length();switch(_.divideScalar(Ee),h.dot(T)<me&&_.dot(T)<Ee&&(H=!0),S.copy(p).add(L),T.add(L),se=!1,H?K?(E.copy(T),v.copy(T)):(w.copy(T),y.copy(T)):oe(),n.strokeLineJoin){case"bevel":ne(K,H,N);break;case"round":re(K,H),K?X(L,y,w,N,0):X(L,E,v,N,1);break;case"miter":case"miter-clip":default:const $e=Y*n.strokeMiterLimit/ie;if($e<1)if(n.strokeLineJoin!=="miter-clip"){ne(K,H,N);break}else re(K,H),K?(_.subVectors(S,y).multiplyScalar($e).add(y),g.subVectors(S,w).multiplyScalar($e).add(w),D(y,N,0),D(_,N,0),D(L,N,.5),D(L,N,.5),D(_,N,0),D(g,N,0),D(L,N,.5),D(g,N,0),D(w,N,0)):(_.subVectors(S,v).multiplyScalar($e).add(v),g.subVectors(S,E).multiplyScalar($e).add(E),D(v,N,1),D(_,N,1),D(L,N,.5),D(L,N,.5),D(_,N,1),D(g,N,1),D(L,N,.5),D(g,N,1),D(E,N,1));else H?(K?(D(x,V,1),D(m,V,0),D(S,N,0),D(x,V,1),D(S,N,0),D(T,N,1)):(D(x,V,1),D(m,V,0),D(S,N,1),D(m,V,0),D(T,N,0),D(S,N,1)),K?w.copy(S):E.copy(S)):K?(D(y,N,0),D(S,N,0),D(L,N,.5),D(L,N,.5),D(S,N,0),D(w,N,0)):(D(v,N,1),D(S,N,1),D(L,N,.5),D(L,N,.5),D(S,N,1),D(E,N,1)),se=!0;break}}else oe()}else oe();!z&&Q===R-1&&Z(e[0],b,k,K,!0,V),V=N,U=L,m.copy(w),x.copy(E)}if(!z)Z(L,y,v,K,!1,N);else if(H&&s){let Q=S,ee=T;M!==K&&(Q=T,ee=S),K?(se||M)&&(ee.toArray(s,0*3),ee.toArray(s,3*3),se&&Q.toArray(s,1*3)):(se||!M)&&(ee.toArray(s,1*3),ee.toArray(s,3*3),se&&Q.toArray(s,0*3))}return j;function W(Q,ee,A){return A.subVectors(ee,Q),A.set(-A.y,A.x).normalize()}function D(Q,ee,A){s&&(s[O]=Q.x,s[O+1]=Q.y,s[O+2]=0,o&&(o[O]=0,o[O+1]=0,o[O+2]=1),O+=3,a&&(a[I]=ee,a[I+1]=A,I+=2)),j+=3}function X(Q,ee,A,$,ie){l.copy(ee).sub(Q).normalize(),u.copy(A).sub(Q).normalize();let me=Math.PI;const Ee=l.dot(u);Math.abs(Ee)<1&&(me=Math.abs(Math.acos(Ee))),me/=r,f.copy(ee);for(let $e=0,pt=r-1;$e<pt;$e++)h.copy(f).rotateAround(Q,me),D(f,$,ie),D(h,$,ie),D(Q,$,.5),f.copy(h);D(h,$,ie),D(A,$,ie),D(Q,$,.5)}function oe(){D(x,V,1),D(m,V,0),D(y,N,0),D(x,V,1),D(y,N,1),D(v,N,0)}function ne(Q,ee,A){ee?Q?(D(x,V,1),D(m,V,0),D(y,N,0),D(x,V,1),D(y,N,0),D(T,N,1),D(y,A,0),D(w,A,0),D(T,A,.5)):(D(x,V,1),D(m,V,0),D(v,N,1),D(m,V,0),D(T,N,0),D(v,N,1),D(v,A,1),D(E,A,0),D(T,A,.5)):Q?(D(y,A,0),D(w,A,0),D(L,A,.5)):(D(v,A,1),D(E,A,0),D(L,A,.5))}function re(Q,ee){ee&&(Q?(D(x,V,1),D(m,V,0),D(y,N,0),D(x,V,1),D(y,N,0),D(T,N,1),D(y,V,0),D(L,N,.5),D(T,N,1),D(L,N,.5),D(w,V,0),D(T,N,1)):(D(x,V,1),D(m,V,0),D(v,N,1),D(m,V,0),D(T,N,0),D(v,N,1),D(v,V,1),D(T,N,0),D(L,N,.5),D(L,N,.5),D(T,N,0),D(E,V,1)))}function Z(Q,ee,A,$,ie,me){switch(n.strokeLineCap){case"round":ie?X(Q,A,ee,me,.5):X(Q,ee,A,me,.5);break;case"square":if(ie)l.subVectors(ee,Q),u.set(l.y,-l.x),f.addVectors(l,u).add(Q),h.subVectors(u,l).add(Q),$?(f.toArray(s,1*3),h.toArray(s,0*3),h.toArray(s,3*3)):(f.toArray(s,1*3),f.toArray(s,3*3),h.toArray(s,0*3));else{l.subVectors(A,Q),u.set(l.y,-l.x),f.addVectors(l,u).add(Q),h.subVectors(u,l).add(Q);const Ee=s.length;$?(f.toArray(s,Ee-1*3),h.toArray(s,Ee-2*3),h.toArray(s,Ee-4*3)):(f.toArray(s,Ee-2*3),h.toArray(s,Ee-1*3),h.toArray(s,Ee-4*3))}break}}function fe(Q){let ee=!1;for(let $=1,ie=Q.length-1;$<ie;$++)if(Q[$].distanceTo(Q[$+1])<i){ee=!0;break}if(!ee)return Q;const A=[];A.push(Q[0]);for(let $=1,ie=Q.length-1;$<ie;$++)Q[$].distanceTo(Q[$+1])>=i&&A.push(Q[$]);return A.push(Q[Q.length-1]),A}}}function np(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}const rp=d.createContext([]);function ip({box:t,multiple:e,children:n,onChange:r,border:i="1px solid #55aaff",backgroundColor:s="rgba(75, 160, 255, 0.1)",filter:o=c=>c,...a}){const{setEvents:c,camera:l,raycaster:u,gl:f,controls:h,size:p,get:_}=je(),[g,m]=d.useState(!1),[x,b]=d.useReducer((w,{object:E,shift:T})=>E===void 0?[]:Array.isArray(E)?E:T?w.includes(E)?w.filter(S=>S!==E):[E,...w]:w[0]===E?[]:[E],[]);d.useEffect(()=>void(r==null?void 0:r(x)),[x]);const k=d.useCallback(w=>{w.stopPropagation(),b({object:o([w.object])[0],shift:e&&w.shiftKey})},[]),y=d.useCallback(w=>!g&&b({}),[g]),v=d.useRef(null);return d.useEffect(()=>{if(!t||!e)return;const w=new tp(l,v.current),E=document.createElement("div");E.style.pointerEvents="none",E.style.border=i,E.style.backgroundColor=s,E.style.position="fixed";const T=new xe,S=new xe,R=new xe,z=_().events.enabled,L=h==null?void 0:h.enabled;let U=!1;function B(M,j){const{offsetX:O,offsetY:I}=M,{width:W,height:D}=p;j.set(O/W*2-1,-(I/D)*2+1)}function Y(M){var j;h&&(h.enabled=!1),c({enabled:!1}),U=!0,(j=f.domElement.parentElement)==null||j.appendChild(E),E.style.left=`${M.clientX}px`,E.style.top=`${M.clientY}px`,E.style.width="0px",E.style.height="0px",T.x=M.clientX,T.y=M.clientY}function G(M){R.x=Math.max(T.x,M.clientX),R.y=Math.max(T.y,M.clientY),S.x=Math.min(T.x,M.clientX),S.y=Math.min(T.y,M.clientY),E.style.left=`${S.x}px`,E.style.top=`${S.y}px`,E.style.width=`${R.x-S.x}px`,E.style.height=`${R.y-S.y}px`}function V(){if(U){var M;h&&(h.enabled=L),c({enabled:z}),U=!1,(M=E.parentElement)==null||M.removeChild(E)}}function N(M){M.shiftKey&&(Y(M),B(M,w.startPoint))}let H=[];function K(M){if(U){G(M),B(M,w.endPoint);const j=w.select().sort(O=>O.uuid).filter(O=>O.isMesh);np(j,H)||(H=j,b({object:o(j)}))}}function se(M){U&&V()}return document.addEventListener("pointerdown",N,{passive:!0}),document.addEventListener("pointermove",K,{passive:!0,capture:!0}),document.addEventListener("pointerup",se,{passive:!0}),()=>{document.removeEventListener("pointerdown",N),document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",se)}},[p.width,p.height,u,l,h,f]),d.createElement("group",we({ref:v,onClick:k,onPointerOver:()=>m(!0),onPointerOut:()=>m(!1),onPointerMissed:y},a),d.createElement(rp.Provider,{value:x},n))}const ma=d.forwardRef(function({follow:e=!0,lockX:n=!1,lockY:r=!1,lockZ:i=!1,...s},o){const a=d.useRef();return St(({camera:c})=>{if(!e||!a.current)return;const l=a.current.rotation.clone();c.getWorldQuaternion(a.current.quaternion),n&&(a.current.rotation.x=l.x),r&&(a.current.rotation.y=l.y),i&&(a.current.rotation.z=l.z)}),d.createElement("group",we({ref:ms([a,o])},s))}),dc=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function Pn(t,e){const n=je(i=>i.gl),r=gs(vs,dc(t)?Object.values(t):t);if(d.useLayoutEffect(()=>{e==null||e(r)},[e]),d.useEffect(()=>{(Array.isArray(r)?r:[r]).forEach(n.initTexture)},[n,r]),dc(t)){const i=Object.keys(t),s={};return i.forEach(o=>Object.assign(s,{[o]:r[i.indexOf(o)]})),s}else return r}Pn.preload=t=>gs.preload(vs,t);Pn.clear=t=>gs.clear(vs,t);const sp=d.forwardRef(function({src:e,skipFill:n,skipStrokes:r,fillMaterial:i,strokeMaterial:s,fillMeshProps:o,strokeMeshProps:a,...c},l){const u=gs(Br,e.startsWith("<svg")?`data:image/svg+xml;utf8,${e}`:e),f=d.useMemo(()=>r?[]:u.paths.map(h=>{var p;return((p=h.userData)==null?void 0:p.style.stroke)===void 0||h.userData.style.stroke==="none"?null:h.subPaths.map(_=>Br.pointsToStroke(_.getPoints(),h.userData.style))}),[u,r]);return d.useEffect(()=>()=>f.forEach(h=>h&&h.map(p=>p.dispose())),[f]),d.createElement("object3D",we({ref:l},c),d.createElement("object3D",{scale:[1,-1,1]},u.paths.map((h,p)=>{var _,g;return d.createElement(d.Fragment,{key:p},!n&&((_=h.userData)==null?void 0:_.style.fill)!==void 0&&h.userData.style.fill!=="none"&&Br.createShapes(h).map((m,x)=>d.createElement("mesh",we({key:x},o),d.createElement("shapeGeometry",{args:[m]}),d.createElement("meshBasicMaterial",we({color:h.userData.style.fill,opacity:h.userData.style.fillOpacity,transparent:!0,side:po,depthWrite:!1},i)))),!r&&((g=h.userData)==null?void 0:g.style.stroke)!==void 0&&h.userData.style.stroke!=="none"&&h.subPaths.map((m,x)=>d.createElement("mesh",we({key:x,geometry:f[p][x]},a),d.createElement("meshBasicMaterial",we({color:h.userData.style.stroke,opacity:h.userData.style.strokeOpacity,transparent:!0,side:po,depthWrite:!1},s)))))})))});/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const ue={LEFT:1,RIGHT:2,MIDDLE:4},F=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768}),Wn={NONE:0,IN:1,OUT:-1};function bn(t){return t.isPerspectiveCamera}function sn(t){return t.isOrthographicCamera}const Yn=Math.PI*2,hc=Math.PI/2,wu=1e-5,$r=Math.PI/180;function Tt(t,e,n){return Math.max(e,Math.min(n,t))}function Oe(t,e=wu){return Math.abs(t)<e}function be(t,e,n=wu){return Oe(t-e,n)}function pc(t,e){return Math.round(t/e)*e}function Pr(t){return isFinite(t)?t:t<0?-Number.MAX_VALUE:Number.MAX_VALUE}function Rr(t){return Math.abs(t)<Number.MAX_VALUE?t:t*(1/0)}function ki(t,e,n,r,i=1/0,s){r=Math.max(1e-4,r);const o=2/r,a=o*s,c=1/(1+a+.48*a*a+.235*a*a*a);let l=t-e;const u=e,f=i*r;l=Tt(l,-f,f),e=t-l;const h=(n.value+o*l)*s;n.value=(n.value-o*h)*c;let p=e+(l+h)*c;return u-t>0==p>u&&(p=u,n.value=(p-u)/s),p}function mc(t,e,n,r,i=1/0,s,o){r=Math.max(1e-4,r);const a=2/r,c=a*s,l=1/(1+c+.48*c*c+.235*c*c*c);let u=e.x,f=e.y,h=e.z,p=t.x-u,_=t.y-f,g=t.z-h;const m=u,x=f,b=h,k=i*r,y=k*k,v=p*p+_*_+g*g;if(v>y){const Y=Math.sqrt(v);p=p/Y*k,_=_/Y*k,g=g/Y*k}u=t.x-p,f=t.y-_,h=t.z-g;const w=(n.x+a*p)*s,E=(n.y+a*_)*s,T=(n.z+a*g)*s;n.x=(n.x-a*w)*l,n.y=(n.y-a*E)*l,n.z=(n.z-a*T)*l,o.x=u+(p+w)*l,o.y=f+(_+E)*l,o.z=h+(g+T)*l;const S=m-t.x,R=x-t.y,z=b-t.z,L=o.x-m,U=o.y-x,B=o.z-b;return S*L+R*U+z*B>0&&(o.x=m,o.y=x,o.z=b,n.x=(o.x-m)/s,n.y=(o.y-x)/s,n.z=(o.z-b)/s),o}function Fs(t,e){e.set(0,0),t.forEach(n=>{e.x+=n.clientX,e.y+=n.clientY}),e.x/=t.length,e.y/=t.length}function Us(t,e){return sn(t)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}class op{constructor(){this._listeners={}}addEventListener(e,n){const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e)}}}const ap="2.7.3",Ei=1/8,ku=typeof window<"u",cp=ku&&/Mac/.test(navigator.platform),lp=!(ku&&"PointerEvent"in window);let ce,gc,Ti,Bs,Je,he,_e,Gn,Ar,Rt,At,wn,yc,_c,mt,Dr,Xn,xc,Hs,vc,Vs,Ws,Ci,Ys=class yo extends op{static install(e){ce=e.THREE,gc=Object.freeze(new ce.Vector3(0,0,0)),Ti=Object.freeze(new ce.Vector3(0,1,0)),Bs=Object.freeze(new ce.Vector3(0,0,1)),Je=new ce.Vector2,he=new ce.Vector3,_e=new ce.Vector3,Gn=new ce.Vector3,Ar=new ce.Vector3,Rt=new ce.Vector3,At=new ce.Vector3,wn=new ce.Vector3,yc=new ce.Vector3,_c=new ce.Vector3,mt=new ce.Spherical,Dr=new ce.Spherical,Xn=new ce.Box3,xc=new ce.Box3,Hs=new ce.Sphere,vc=new ce.Quaternion,Vs=new ce.Quaternion,Ws=new ce.Matrix4,Ci=new ce.Raycaster}static get ACTION(){return F}constructor(e,n){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=F.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=Wn.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new ce.Vector3,this._focalOffsetVelocity=new ce.Vector3,this._zoomVelocity={value:0},this._truckInternal=(y,v,w)=>{let E,T;if(bn(this._camera)){const S=he.copy(this._camera.position).sub(this._target),R=this._camera.getEffectiveFOV()*$r,z=S.length()*Math.tan(R*.5);E=this.truckSpeed*y*z/this._elementRect.height,T=this.truckSpeed*v*z/this._elementRect.height}else if(sn(this._camera)){const S=this._camera;E=y*(S.right-S.left)/S.zoom/this._elementRect.width,T=v*(S.top-S.bottom)/S.zoom/this._elementRect.height}else return;this.verticalDragToForward?(w?this.setFocalOffset(this._focalOffsetEnd.x+E,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(E,0,!0),this.forward(-T,!0)):w?this.setFocalOffset(this._focalOffsetEnd.x+E,this._focalOffsetEnd.y+T,this._focalOffsetEnd.z,!0):this.truck(E,T,!0)},this._rotateInternal=(y,v)=>{const w=Yn*this.azimuthRotateSpeed*y/this._elementRect.height,E=Yn*this.polarRotateSpeed*v/this._elementRect.height;this.rotate(w,E,!0)},this._dollyInternal=(y,v,w)=>{const E=Math.pow(.95,-y*this.dollySpeed),T=this._sphericalEnd.radius,S=this._sphericalEnd.radius*E,R=Tt(S,this.minDistance,this.maxDistance),z=R-S;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(S,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(z,!0),this._dollyToNoClamp(R,!0)):this._dollyToNoClamp(R,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?S:R)-T,this._dollyControlCoord.set(v,w)),this._lastDollyDirection=Math.sign(-y)},this._zoomInternal=(y,v,w)=>{const E=Math.pow(.95,y*this.dollySpeed),T=this._zoom,S=this._zoom*E;this.zoomTo(S,!0),this.dollyToCursor&&(this._changedZoom+=S-T,this._dollyControlCoord.set(v,w))},typeof ce>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new ce.Quaternion().setFromUnitVectors(this._camera.up,Ti),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=F.NONE,this._target=new ce.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new ce.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new ce.Spherical().setFromVector3(he.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new ce.Vector3,new ce.Vector3,new ce.Vector3,new ce.Vector3],this._updateNearPlaneCorners(),this._boundary=new ce.Box3(new ce.Vector3(-1/0,-1/0,-1/0),new ce.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new ce.Vector2,this.mouseButtons={left:F.ROTATE,middle:F.DOLLY,right:F.TRUCK,wheel:bn(this._camera)?F.DOLLY:sn(this._camera)?F.ZOOM:F.NONE},this.touches={one:F.TOUCH_ROTATE,two:bn(this._camera)?F.TOUCH_DOLLY_TRUCK:sn(this._camera)?F.TOUCH_ZOOM_TRUCK:F.NONE,three:F.TOUCH_TRUCK};const r=new ce.Vector2,i=new ce.Vector2,s=new ce.Vector2,o=y=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const E=this._domElement.getBoundingClientRect(),T=y.clientX/E.width,S=y.clientY/E.height;if(T<this._interactiveArea.left||T>this._interactiveArea.right||S<this._interactiveArea.top||S>this._interactiveArea.bottom)return}const v=y.pointerType!=="mouse"?null:(y.buttons&ue.LEFT)===ue.LEFT?ue.LEFT:(y.buttons&ue.MIDDLE)===ue.MIDDLE?ue.MIDDLE:(y.buttons&ue.RIGHT)===ue.RIGHT?ue.RIGHT:null;if(v!==null){const E=this._findPointerByMouseButton(v);E&&this._disposePointer(E)}if((y.buttons&ue.LEFT)===ue.LEFT&&this._lockedPointer)return;const w={pointerId:y.pointerId,clientX:y.clientX,clientY:y.clientY,deltaX:0,deltaY:0,mouseButton:v};this._activePointers.push(w),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.addEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",u),this._isDragging=!0,g(y)},a=y=>{if(!this._enabled||!this._domElement||this._lockedPointer)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const E=this._domElement.getBoundingClientRect(),T=y.clientX/E.width,S=y.clientY/E.height;if(T<this._interactiveArea.left||T>this._interactiveArea.right||S<this._interactiveArea.top||S>this._interactiveArea.bottom)return}const v=(y.buttons&ue.LEFT)===ue.LEFT?ue.LEFT:(y.buttons&ue.MIDDLE)===ue.MIDDLE?ue.MIDDLE:(y.buttons&ue.RIGHT)===ue.RIGHT?ue.RIGHT:null;if(v!==null){const E=this._findPointerByMouseButton(v);E&&this._disposePointer(E)}const w={pointerId:1,clientX:y.clientX,clientY:y.clientY,deltaX:0,deltaY:0,mouseButton:(y.buttons&ue.LEFT)===ue.LEFT?ue.LEFT:(y.buttons&ue.MIDDLE)===ue.LEFT?ue.MIDDLE:(y.buttons&ue.RIGHT)===ue.LEFT?ue.RIGHT:null};this._activePointers.push(w),this._domElement.ownerDocument.removeEventListener("mousemove",l),this._domElement.ownerDocument.removeEventListener("mouseup",f),this._domElement.ownerDocument.addEventListener("mousemove",l),this._domElement.ownerDocument.addEventListener("mouseup",f),this._isDragging=!0,g(y)},c=y=>{y.cancelable&&y.preventDefault();const v=y.pointerId,w=this._lockedPointer||this._findPointerById(v);if(w){if(w.clientX=y.clientX,w.clientY=y.clientY,w.deltaX=y.movementX,w.deltaY=y.movementY,this._state=0,y.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(y.buttons&ue.LEFT)===ue.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(y.buttons&ue.MIDDLE)===ue.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(y.buttons&ue.RIGHT)===ue.RIGHT&&(this._state=this._state|this.mouseButtons.right);m()}},l=y=>{const v=this._lockedPointer||this._findPointerById(1);v&&(v.clientX=y.clientX,v.clientY=y.clientY,v.deltaX=y.movementX,v.deltaY=y.movementY,this._state=0,(this._lockedPointer||(y.buttons&ue.LEFT)===ue.LEFT)&&(this._state=this._state|this.mouseButtons.left),(y.buttons&ue.MIDDLE)===ue.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(y.buttons&ue.RIGHT)===ue.RIGHT&&(this._state=this._state|this.mouseButtons.right),m())},u=y=>{const v=this._findPointerById(y.pointerId);if(!(v&&v===this._lockedPointer)){if(v&&this._disposePointer(v),y.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=F.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=F.NONE;x()}},f=()=>{const y=this._findPointerById(1);y&&y===this._lockedPointer||(y&&this._disposePointer(y),this._state=F.NONE,x())};let h=-1;const p=y=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===F.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const S=this._domElement.getBoundingClientRect(),R=y.clientX/S.width,z=y.clientY/S.height;if(R<this._interactiveArea.left||R>this._interactiveArea.right||z<this._interactiveArea.top||z>this._interactiveArea.bottom)return}if(y.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===F.ROTATE||this.mouseButtons.wheel===F.TRUCK){const S=performance.now();h-S<1e3&&this._getClientRect(this._elementRect),h=S}const v=cp?-1:-3,w=y.deltaMode===1?y.deltaY/v:y.deltaY/(v*10),E=this.dollyToCursor?(y.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,T=this.dollyToCursor?(y.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case F.ROTATE:{this._rotateInternal(y.deltaX,y.deltaY),this._isUserControllingRotate=!0;break}case F.TRUCK:{this._truckInternal(y.deltaX,y.deltaY,!1),this._isUserControllingTruck=!0;break}case F.OFFSET:{this._truckInternal(y.deltaX,y.deltaY,!0),this._isUserControllingOffset=!0;break}case F.DOLLY:{this._dollyInternal(-w,E,T),this._isUserControllingDolly=!0;break}case F.ZOOM:{this._zoomInternal(-w,E,T),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},_=y=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===yo.ACTION.NONE){const v=y instanceof PointerEvent?y.pointerId:(y instanceof MouseEvent,0),w=this._findPointerById(v);w&&this._disposePointer(w),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.removeEventListener("mousemove",l),this._domElement.ownerDocument.removeEventListener("mouseup",f);return}y.preventDefault()}},g=y=>{if(!this._enabled)return;if(Fs(this._activePointers,Je),this._getClientRect(this._elementRect),r.copy(Je),i.copy(Je),this._activePointers.length>=2){const w=Je.x-this._activePointers[1].clientX,E=Je.y-this._activePointers[1].clientY,T=Math.sqrt(w*w+E*E);s.set(0,T);const S=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,R=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;i.set(S,R)}if(this._state=0,!y)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in y&&y.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(y.buttons&ue.LEFT)===ue.LEFT&&(this._state=this._state|this.mouseButtons.left),(y.buttons&ue.MIDDLE)===ue.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(y.buttons&ue.RIGHT)===ue.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&F.ROTATE)===F.ROTATE||(this._state&F.TOUCH_ROTATE)===F.TOUCH_ROTATE||(this._state&F.TOUCH_DOLLY_ROTATE)===F.TOUCH_DOLLY_ROTATE||(this._state&F.TOUCH_ZOOM_ROTATE)===F.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&F.TRUCK)===F.TRUCK||(this._state&F.TOUCH_TRUCK)===F.TOUCH_TRUCK||(this._state&F.TOUCH_DOLLY_TRUCK)===F.TOUCH_DOLLY_TRUCK||(this._state&F.TOUCH_ZOOM_TRUCK)===F.TOUCH_ZOOM_TRUCK)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&F.DOLLY)===F.DOLLY||(this._state&F.TOUCH_DOLLY)===F.TOUCH_DOLLY||(this._state&F.TOUCH_DOLLY_TRUCK)===F.TOUCH_DOLLY_TRUCK||(this._state&F.TOUCH_DOLLY_OFFSET)===F.TOUCH_DOLLY_OFFSET||(this._state&F.TOUCH_DOLLY_ROTATE)===F.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&F.ZOOM)===F.ZOOM||(this._state&F.TOUCH_ZOOM)===F.TOUCH_ZOOM||(this._state&F.TOUCH_ZOOM_TRUCK)===F.TOUCH_ZOOM_TRUCK||(this._state&F.TOUCH_ZOOM_OFFSET)===F.TOUCH_ZOOM_OFFSET||(this._state&F.TOUCH_ZOOM_ROTATE)===F.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&F.OFFSET)===F.OFFSET||(this._state&F.TOUCH_OFFSET)===F.TOUCH_OFFSET||(this._state&F.TOUCH_DOLLY_OFFSET)===F.TOUCH_DOLLY_OFFSET||(this._state&F.TOUCH_ZOOM_OFFSET)===F.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},m=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,Fs(this._activePointers,Je);const v=this._domElement&&document.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,w=v?-v.deltaX:i.x-Je.x,E=v?-v.deltaY:i.y-Je.y;if(i.copy(Je),((this._state&F.ROTATE)===F.ROTATE||(this._state&F.TOUCH_ROTATE)===F.TOUCH_ROTATE||(this._state&F.TOUCH_DOLLY_ROTATE)===F.TOUCH_DOLLY_ROTATE||(this._state&F.TOUCH_ZOOM_ROTATE)===F.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(w,E),this._isUserControllingRotate=!0),(this._state&F.DOLLY)===F.DOLLY||(this._state&F.ZOOM)===F.ZOOM){const T=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,S=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0,R=this.dollyDragInverted?-1:1;(this._state&F.DOLLY)===F.DOLLY?(this._dollyInternal(R*E*Ei,T,S),this._isUserControllingDolly=!0):(this._zoomInternal(R*E*Ei,T,S),this._isUserControllingZoom=!0)}if((this._state&F.TOUCH_DOLLY)===F.TOUCH_DOLLY||(this._state&F.TOUCH_ZOOM)===F.TOUCH_ZOOM||(this._state&F.TOUCH_DOLLY_TRUCK)===F.TOUCH_DOLLY_TRUCK||(this._state&F.TOUCH_ZOOM_TRUCK)===F.TOUCH_ZOOM_TRUCK||(this._state&F.TOUCH_DOLLY_OFFSET)===F.TOUCH_DOLLY_OFFSET||(this._state&F.TOUCH_ZOOM_OFFSET)===F.TOUCH_ZOOM_OFFSET||(this._state&F.TOUCH_DOLLY_ROTATE)===F.TOUCH_DOLLY_ROTATE||(this._state&F.TOUCH_ZOOM_ROTATE)===F.TOUCH_ZOOM_ROTATE){const T=Je.x-this._activePointers[1].clientX,S=Je.y-this._activePointers[1].clientY,R=Math.sqrt(T*T+S*S),z=s.y-R;s.set(0,R);const L=this.dollyToCursor?(i.x-this._elementRect.x)/this._elementRect.width*2-1:0,U=this.dollyToCursor?(i.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&F.TOUCH_DOLLY)===F.TOUCH_DOLLY||(this._state&F.TOUCH_DOLLY_ROTATE)===F.TOUCH_DOLLY_ROTATE||(this._state&F.TOUCH_DOLLY_TRUCK)===F.TOUCH_DOLLY_TRUCK||(this._state&F.TOUCH_DOLLY_OFFSET)===F.TOUCH_DOLLY_OFFSET?(this._dollyInternal(z*Ei,L,U),this._isUserControllingDolly=!0):(this._zoomInternal(z*Ei,L,U),this._isUserControllingZoom=!0)}((this._state&F.TRUCK)===F.TRUCK||(this._state&F.TOUCH_TRUCK)===F.TOUCH_TRUCK||(this._state&F.TOUCH_DOLLY_TRUCK)===F.TOUCH_DOLLY_TRUCK||(this._state&F.TOUCH_ZOOM_TRUCK)===F.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(w,E,!1),this._isUserControllingTruck=!0),((this._state&F.OFFSET)===F.OFFSET||(this._state&F.TOUCH_OFFSET)===F.TOUCH_OFFSET||(this._state&F.TOUCH_DOLLY_OFFSET)===F.TOUCH_DOLLY_OFFSET||(this._state&F.TOUCH_ZOOM_OFFSET)===F.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(w,E,!0),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},x=()=>{Fs(this._activePointers,Je),i.copy(Je),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",l),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.removeEventListener("mouseup",f),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",b),this._domElement.ownerDocument.addEventListener("pointerlockerror",k),this._domElement.ownerDocument.addEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",u),g())},this.unlockPointer=()=>{this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),document.exitPointerLock(),this.cancel(),this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointerlockchange",b),this._domElement.ownerDocument.removeEventListener("pointerlockerror",k))};const b=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},k=()=>{this.unlockPointer()};this._addAllEventListeners=y=>{this._domElement=y,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",o),lp&&this._domElement.addEventListener("mousedown",a),this._domElement.addEventListener("pointercancel",u),this._domElement.addEventListener("wheel",p,{passive:!1}),this._domElement.addEventListener("contextmenu",_)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",o),this._domElement.removeEventListener("mousedown",a),this._domElement.removeEventListener("pointercancel",u),this._domElement.removeEventListener("wheel",p,{passive:!1}),this._domElement.removeEventListener("contextmenu",_),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",l),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.removeEventListener("mouseup",f),this._domElement.ownerDocument.removeEventListener("pointerlockchange",b),this._domElement.ownerDocument.removeEventListener("pointerlockerror",k))},this.cancel=()=>{this._state!==F.NONE&&(this._state=F.NONE,this._activePointers.length=0,x())},n&&this.connect(n),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=Tt(e.width,0,1),this._interactiveArea.height=Tt(e.height,0,1),this._interactiveArea.x=Tt(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=Tt(e.y,0,1-this._interactiveArea.height)}addEventListener(e,n){super.addEventListener(e,n)}removeEventListener(e,n){super.removeEventListener(e,n)}rotate(e,n,r=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+n,r)}rotateAzimuthTo(e,n=!1){return this.rotateTo(e,this._sphericalEnd.phi,n)}rotatePolarTo(e,n=!1){return this.rotateTo(this._sphericalEnd.theta,e,n)}rotateTo(e,n,r=!1){this._isUserControllingRotate=!1;const i=Tt(e,this.minAzimuthAngle,this.maxAzimuthAngle),s=Tt(n,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=i,this._sphericalEnd.phi=s,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,r||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const o=!r||be(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&be(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(o)}dolly(e,n=!1){return this.dollyTo(this._sphericalEnd.radius-e,n)}dollyTo(e,n=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=Wn.NONE,this._changedDolly=0,this._dollyToNoClamp(Tt(e,this.minDistance,this.maxDistance),n)}_dollyToNoClamp(e,n=!1){const r=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const o=this._collisionTest(),a=be(o,this._spherical.radius);if(!(r>e)&&a)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,o)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,n||(this._spherical.radius=this._sphericalEnd.radius);const s=!n||be(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(s)}dollyInFixed(e,n=!1){this._targetEnd.add(this._getCameraDirection(Ar).multiplyScalar(e)),n||this._target.copy(this._targetEnd);const r=!n||be(this._target.x,this._targetEnd.x,this.restThreshold)&&be(this._target.y,this._targetEnd.y,this.restThreshold)&&be(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(r)}zoom(e,n=!1){return this.zoomTo(this._zoomEnd+e,n)}zoomTo(e,n=!1){this._isUserControllingZoom=!1,this._zoomEnd=Tt(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,n||(this._zoom=this._zoomEnd);const r=!n||be(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(r)}pan(e,n,r=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,n,r)}truck(e,n,r=!1){this._camera.updateMatrix(),Rt.setFromMatrixColumn(this._camera.matrix,0),At.setFromMatrixColumn(this._camera.matrix,1),Rt.multiplyScalar(e),At.multiplyScalar(-n);const i=he.copy(Rt).add(At),s=_e.copy(this._targetEnd).add(i);return this.moveTo(s.x,s.y,s.z,r)}forward(e,n=!1){he.setFromMatrixColumn(this._camera.matrix,0),he.crossVectors(this._camera.up,he),he.multiplyScalar(e);const r=_e.copy(this._targetEnd).add(he);return this.moveTo(r.x,r.y,r.z,n)}elevate(e,n=!1){return he.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+he.x,this._targetEnd.y+he.y,this._targetEnd.z+he.z,n)}moveTo(e,n,r,i=!1){this._isUserControllingTruck=!1;const s=he.set(e,n,r).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,s,this.boundaryFriction),this._needsUpdate=!0,i||this._target.copy(this._targetEnd);const o=!i||be(this._target.x,this._targetEnd.x,this.restThreshold)&&be(this._target.y,this._targetEnd.y,this.restThreshold)&&be(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}lookInDirectionOf(e,n,r,i=!1){const a=he.set(e,n,r).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius);return this.setPosition(a.x,a.y,a.z,i)}fitToBox(e,n,{cover:r=!1,paddingLeft:i=0,paddingRight:s=0,paddingBottom:o=0,paddingTop:a=0}={}){const c=[],l=e.isBox3?Xn.copy(e):Xn.setFromObject(e);l.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const u=pc(this._sphericalEnd.theta,hc),f=pc(this._sphericalEnd.phi,hc);c.push(this.rotateTo(u,f,n));const h=he.setFromSpherical(this._sphericalEnd).normalize(),p=vc.setFromUnitVectors(h,Bs),_=be(Math.abs(h.y),1);_&&p.multiply(Vs.setFromAxisAngle(Ti,u)),p.multiply(this._yAxisUpSpaceInverse);const g=xc.makeEmpty();_e.copy(l.min).applyQuaternion(p),g.expandByPoint(_e),_e.copy(l.min).setX(l.max.x).applyQuaternion(p),g.expandByPoint(_e),_e.copy(l.min).setY(l.max.y).applyQuaternion(p),g.expandByPoint(_e),_e.copy(l.max).setZ(l.min.z).applyQuaternion(p),g.expandByPoint(_e),_e.copy(l.min).setZ(l.max.z).applyQuaternion(p),g.expandByPoint(_e),_e.copy(l.max).setY(l.min.y).applyQuaternion(p),g.expandByPoint(_e),_e.copy(l.max).setX(l.min.x).applyQuaternion(p),g.expandByPoint(_e),_e.copy(l.max).applyQuaternion(p),g.expandByPoint(_e),g.min.x-=i,g.min.y-=o,g.max.x+=s,g.max.y+=a,p.setFromUnitVectors(Bs,h),_&&p.premultiply(Vs.invert()),p.premultiply(this._yAxisUpSpace);const m=g.getSize(he),x=g.getCenter(_e).applyQuaternion(p);if(bn(this._camera)){const b=this.getDistanceToFitBox(m.x,m.y,m.z,r);c.push(this.moveTo(x.x,x.y,x.z,n)),c.push(this.dollyTo(b,n)),c.push(this.setFocalOffset(0,0,0,n))}else if(sn(this._camera)){const b=this._camera,k=b.right-b.left,y=b.top-b.bottom,v=r?Math.max(k/m.x,y/m.y):Math.min(k/m.x,y/m.y);c.push(this.moveTo(x.x,x.y,x.z,n)),c.push(this.zoomTo(v,n)),c.push(this.setFocalOffset(0,0,0,n))}return Promise.all(c)}fitToSphere(e,n){const r=[],s=e instanceof ce.Sphere?Hs.copy(e):yo.createBoundingSphere(e,Hs);if(r.push(this.moveTo(s.center.x,s.center.y,s.center.z,n)),bn(this._camera)){const o=this.getDistanceToFitSphere(s.radius);r.push(this.dollyTo(o,n))}else if(sn(this._camera)){const o=this._camera.right-this._camera.left,a=this._camera.top-this._camera.bottom,c=2*s.radius,l=Math.min(o/c,a/c);r.push(this.zoomTo(l,n))}return r.push(this.setFocalOffset(0,0,0,n)),Promise.all(r)}setLookAt(e,n,r,i,s,o,a=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Wn.NONE,this._changedDolly=0;const c=_e.set(i,s,o),l=he.set(e,n,r);this._targetEnd.copy(c),this._sphericalEnd.setFromVector3(l.sub(c).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,a||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const u=!a||be(this._target.x,this._targetEnd.x,this.restThreshold)&&be(this._target.y,this._targetEnd.y,this.restThreshold)&&be(this._target.z,this._targetEnd.z,this.restThreshold)&&be(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&be(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&be(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(u)}lerpLookAt(e,n,r,i,s,o,a,c,l,u,f,h,p,_=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Wn.NONE,this._changedDolly=0;const g=he.set(i,s,o),m=_e.set(e,n,r);mt.setFromVector3(m.sub(g).applyQuaternion(this._yAxisUpSpace));const x=Gn.set(u,f,h),b=_e.set(a,c,l);Dr.setFromVector3(b.sub(x).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(g.lerp(x,p));const k=Dr.theta-mt.theta,y=Dr.phi-mt.phi,v=Dr.radius-mt.radius;this._sphericalEnd.set(mt.radius+v*p,mt.phi+y*p,mt.theta+k*p),this.normalizeRotations(),this._needsUpdate=!0,_||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const w=!_||be(this._target.x,this._targetEnd.x,this.restThreshold)&&be(this._target.y,this._targetEnd.y,this.restThreshold)&&be(this._target.z,this._targetEnd.z,this.restThreshold)&&be(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&be(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&be(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(w)}setPosition(e,n,r,i=!1){return this.setLookAt(e,n,r,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,i)}setTarget(e,n,r,i=!1){const s=this.getPosition(he),o=this.setLookAt(s.x,s.y,s.z,e,n,r,i);return this._sphericalEnd.phi=Tt(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),o}setFocalOffset(e,n,r,i=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,n,r),this._needsUpdate=!0,i||this._focalOffset.copy(this._focalOffsetEnd);const s=!i||be(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&be(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&be(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(s)}setOrbitPoint(e,n,r){this._camera.updateMatrixWorld(),Rt.setFromMatrixColumn(this._camera.matrixWorldInverse,0),At.setFromMatrixColumn(this._camera.matrixWorldInverse,1),wn.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const i=he.set(e,n,r),s=i.distanceTo(this._camera.position),o=i.sub(this._camera.position);Rt.multiplyScalar(o.x),At.multiplyScalar(o.y),wn.multiplyScalar(o.z),he.copy(Rt).add(At).add(wn),he.z=he.z+s,this.dollyTo(s,!1),this.setFocalOffset(-he.x,he.y,-he.z,!1),this.moveTo(e,n,r,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,n,r,i){if(e===null){this._viewport=null;return}this._viewport=this._viewport||new ce.Vector4,typeof e=="number"?this._viewport.set(e,n,r,i):this._viewport.copy(e)}getDistanceToFitBox(e,n,r,i=!1){if(Us(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const s=e/n,o=this._camera.getEffectiveFOV()*$r,a=this._camera.aspect;return((i?s>a:s<a)?n:e/a)*.5/Math.tan(o*.5)+r*.5}getDistanceToFitSphere(e){if(Us(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const n=this._camera.getEffectiveFOV()*$r,r=Math.atan(Math.tan(n*.5)*this._camera.aspect)*2,i=1<this._camera.aspect?n:r;return e/Math.sin(i*.5)}getTarget(e,n=!0){return(e&&e.isVector3?e:new ce.Vector3).copy(n?this._targetEnd:this._target)}getPosition(e,n=!0){return(e&&e.isVector3?e:new ce.Vector3).setFromSpherical(n?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(n?this._targetEnd:this._target)}getSpherical(e,n=!0){return(e&&e instanceof ce.Spherical?e:new ce.Spherical).copy(n?this._sphericalEnd:this._spherical)}getFocalOffset(e,n=!0){return(e&&e.isVector3?e:new ce.Vector3).copy(n?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%Yn,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=Yn),this._spherical.theta+=Yn*Math.round((this._sphericalEnd.theta-this._spherical.theta)/Yn)}reset(e=!1){if(!be(this._camera.up.x,this._cameraUp0.x)||!be(this._camera.up.y,this._cameraUp0.y)||!be(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const r=this.getPosition(he);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}const n=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(n)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,Ti),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const e=he.subVectors(this._target,this._camera.position).normalize(),n=_e.crossVectors(e,this._camera.up);this._camera.up.crossVectors(n,e).normalize(),this._camera.updateMatrixWorld();const r=this.getPosition(he);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}update(e){const n=this._sphericalEnd.theta-this._spherical.theta,r=this._sphericalEnd.phi-this._spherical.phi,i=this._sphericalEnd.radius-this._spherical.radius,s=yc.subVectors(this._targetEnd,this._target),o=_c.subVectors(this._focalOffsetEnd,this._focalOffset),a=this._zoomEnd-this._zoom;if(Oe(n))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const f=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=ki(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,f,1/0,e),this._needsUpdate=!0}if(Oe(r))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const f=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=ki(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,f,1/0,e),this._needsUpdate=!0}if(Oe(i))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const f=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=ki(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,f,this.maxSpeed,e),this._needsUpdate=!0}if(Oe(s.x)&&Oe(s.y)&&Oe(s.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const f=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;mc(this._target,this._targetEnd,this._targetVelocity,f,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(Oe(o.x)&&Oe(o.y)&&Oe(o.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const f=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;mc(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,f,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(Oe(a))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const f=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=ki(this._zoom,this._zoomEnd,this._zoomVelocity,f,1/0,e)}if(this.dollyToCursor){if(bn(this._camera)&&this._changedDolly!==0){const f=this._spherical.radius-this._lastDistance,h=this._camera,p=this._getCameraDirection(Ar),_=he.copy(p).cross(h.up).normalize();_.lengthSq()===0&&(_.x=1);const g=_e.crossVectors(_,p),m=this._sphericalEnd.radius*Math.tan(h.getEffectiveFOV()*$r*.5),b=(this._sphericalEnd.radius-f-this._sphericalEnd.radius)/this._sphericalEnd.radius,k=Gn.copy(this._targetEnd).add(_.multiplyScalar(this._dollyControlCoord.x*m*h.aspect)).add(g.multiplyScalar(this._dollyControlCoord.y*m)),y=he.copy(this._targetEnd).lerp(k,b),v=this._lastDollyDirection===Wn.IN&&this._spherical.radius<=this.minDistance,w=this._lastDollyDirection===Wn.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(v||w)){this._sphericalEnd.radius-=f,this._spherical.radius-=f;const T=_e.copy(p).multiplyScalar(-f);y.add(T)}this._boundary.clampPoint(y,y);const E=_e.subVectors(y,this._targetEnd);this._targetEnd.copy(y),this._target.add(E),this._changedDolly-=f,Oe(this._changedDolly)&&(this._changedDolly=0)}else if(sn(this._camera)&&this._changedZoom!==0){const f=this._zoom-this._lastZoom,h=this._camera,p=he.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(h.near+h.far)/(h.near-h.far)).unproject(h),_=_e.set(0,0,-1).applyQuaternion(h.quaternion),g=Gn.copy(p).add(_.multiplyScalar(-p.dot(h.up))),x=-(this._zoom-f-this._zoom)/this._zoom,b=this._getCameraDirection(Ar),k=this._targetEnd.dot(b),y=he.copy(this._targetEnd).lerp(g,x),v=y.dot(b),w=b.multiplyScalar(v-k);y.sub(w),this._boundary.clampPoint(y,y);const E=_e.subVectors(y,this._targetEnd);this._targetEnd.copy(y),this._target.add(E),this._changedZoom-=f,Oe(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const c=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,c),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!Oe(this._focalOffset.x)||!Oe(this._focalOffset.y)||!Oe(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),Rt.setFromMatrixColumn(this._camera.matrix,0),At.setFromMatrixColumn(this._camera.matrix,1),wn.setFromMatrixColumn(this._camera.matrix,2),Rt.multiplyScalar(this._focalOffset.x),At.multiplyScalar(-this._focalOffset.y),wn.multiplyScalar(this._focalOffset.z),he.copy(Rt).add(At).add(wn),this._camera.position.add(he)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),he.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const u=this._needsUpdate;return u&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):u?(this.dispatchEvent({type:"update"}),Oe(n,this.restThreshold)&&Oe(r,this.restThreshold)&&Oe(i,this.restThreshold)&&Oe(s.x,this.restThreshold)&&Oe(s.y,this.restThreshold)&&Oe(s.z,this.restThreshold)&&Oe(o.x,this.restThreshold)&&Oe(o.y,this.restThreshold)&&Oe(o.z,this.restThreshold)&&Oe(a,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!u&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=u,this._needsUpdate=!1,u}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:Pr(this.maxDistance),minZoom:this.minZoom,maxZoom:Pr(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:Pr(this.maxPolarAngle),minAzimuthAngle:Pr(this.minAzimuthAngle),maxAzimuthAngle:Pr(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:he.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,n=!1){const r=JSON.parse(e);this.enabled=r.enabled,this.minDistance=r.minDistance,this.maxDistance=Rr(r.maxDistance),this.minZoom=r.minZoom,this.maxZoom=Rr(r.maxZoom),this.minPolarAngle=r.minPolarAngle,this.maxPolarAngle=Rr(r.maxPolarAngle),this.minAzimuthAngle=Rr(r.minAzimuthAngle),this.maxAzimuthAngle=Rr(r.maxAzimuthAngle),this.smoothTime=r.smoothTime,this.draggingSmoothTime=r.draggingSmoothTime,this.dollySpeed=r.dollySpeed,this.truckSpeed=r.truckSpeed,this.dollyToCursor=r.dollyToCursor,this.verticalDragToForward=r.verticalDragToForward,this._target0.fromArray(r.target0),this._position0.fromArray(r.position0),this._zoom0=r.zoom0,this._focalOffset0.fromArray(r.focalOffset0),this.moveTo(r.target[0],r.target[1],r.target[2],n),mt.setFromVector3(he.fromArray(r.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(mt.theta,mt.phi,n),this.dollyTo(mt.radius,n),this.zoomTo(r.zoom,n),this.setFocalOffset(r.focalOffset[0],r.focalOffset[1],r.focalOffset[2],n),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version",ap),this._addAllEventListeners(e),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find(n=>n.pointerId===e)}_findPointerByMouseButton(e){return this._activePointers.find(n=>n.mouseButton===e)}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,n,r){const i=n.lengthSq();if(i===0)return e;const s=_e.copy(n).add(e),a=this._boundary.clampPoint(s,Gn).sub(s),c=a.lengthSq();if(c===0)return e.add(n);if(c===i)return e;if(r===0)return e.add(n).add(a);{const l=1+r*c/n.dot(a);return e.add(_e.copy(n).multiplyScalar(l)).add(a.multiplyScalar(1-r))}}_updateNearPlaneCorners(){if(bn(this._camera)){const e=this._camera,n=e.near,r=e.getEffectiveFOV()*$r,i=Math.tan(r*.5)*n,s=i*e.aspect;this._nearPlaneCorners[0].set(-s,-i,0),this._nearPlaneCorners[1].set(s,-i,0),this._nearPlaneCorners[2].set(s,i,0),this._nearPlaneCorners[3].set(-s,i,0)}else if(sn(this._camera)){const e=this._camera,n=1/e.zoom,r=e.left*n,i=e.right*n,s=e.top*n,o=e.bottom*n;this._nearPlaneCorners[0].set(r,s,0),this._nearPlaneCorners[1].set(i,s,0),this._nearPlaneCorners[2].set(i,o,0),this._nearPlaneCorners[3].set(r,o,0)}}_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1)||Us(this._camera,"_collisionTest"))return e;const r=this._getTargetDirection(Ar);Ws.lookAt(gc,r,this._camera.up);for(let i=0;i<4;i++){const s=_e.copy(this._nearPlaneCorners[i]);s.applyMatrix4(Ws);const o=Gn.addVectors(this._target,s);Ci.set(o,r),Ci.far=this._spherical.radius+1;const a=Ci.intersectObjects(this.colliderMeshes);a.length!==0&&a[0].distance<e&&(e=a[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const n=this._domElement.getBoundingClientRect();return e.x=n.left,e.y=n.top,this._viewport?(e.x+=this._viewport.x,e.y+=n.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=n.width,e.height=n.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(n=>{const r=()=>{this.removeEventListener("rest",r),n()};this.addEventListener("rest",r)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,n=new ce.Sphere){const r=n,i=r.center;Xn.makeEmpty(),e.traverseVisible(o=>{o.isMesh&&Xn.expandByObject(o)}),Xn.getCenter(i);let s=0;return e.traverseVisible(o=>{if(!o.isMesh)return;const a=o,c=a.geometry.clone();c.applyMatrix4(a.matrixWorld);const u=c.attributes.position;for(let f=0,h=u.count;f<h;f++)he.fromBufferAttribute(u,f),s=Math.max(s,i.distanceToSquared(he))}),r.radius=Math.sqrt(s),r}};const Eu=d.forwardRef((t,e)=>{d.useMemo(()=>{Ys.install({THREE:qd}),ra({CameraControlsImpl:Ys})},[]);const{camera:n,domElement:r,makeDefault:i,onStart:s,onEnd:o,onChange:a,regress:c,...l}=t,u=je(v=>v.camera),f=je(v=>v.gl),h=je(v=>v.invalidate),p=je(v=>v.events),_=je(v=>v.setEvents),g=je(v=>v.set),m=je(v=>v.get),x=je(v=>v.performance),b=n||u,k=r||p.connected||f.domElement,y=d.useMemo(()=>new Ys(b),[b]);return St((v,w)=>{y.enabled&&y.update(w)},-1),d.useEffect(()=>(y.connect(k),()=>void y.disconnect()),[k,y]),d.useEffect(()=>{const v=T=>{h(),c&&x.regress(),a&&a(T)},w=T=>{s&&s(T)},E=T=>{o&&o(T)};return y.addEventListener("update",v),y.addEventListener("controlstart",w),y.addEventListener("controlend",E),()=>{y.removeEventListener("update",v),y.removeEventListener("controlstart",w),y.removeEventListener("controlend",E)}},[y,s,o,h,_,c,a]),d.useEffect(()=>{if(i){const v=m().controls;return g({controls:y}),()=>g({controls:v})}},[i,y]),d.createElement("primitive",we({ref:e,object:y},l))});ve.func.isRequired,ve.arrayOf(ve.oneOfType([ve.element,ve.func])).isRequired;const bc=new ui,wc=new ui,Oi=[],Mr=new lu;class up extends Qd{constructor(){super(),this.color=new Yi("white"),this.instance={current:void 0},this.instanceKey={current:void 0}}get geometry(){var e;return(e=this.instance.current)==null?void 0:e.geometry}raycast(e,n){const r=this.instance.current;if(!r||!r.geometry||!r.material)return;Mr.geometry=r.geometry;const i=r.matrixWorld,s=r.userData.instances.indexOf(this.instanceKey);if(!(s===-1||s>r.count)){r.getMatrixAt(s,bc),wc.multiplyMatrices(i,bc),Mr.matrixWorld=wc,r.material instanceof Jd?Mr.material.side=r.material.side:Mr.material.side=r.material[0].side,Mr.raycast(e,Oi);for(let o=0,a=Oi.length;o<a;o++){const c=Oi[o];c.instanceId=s,c.object=this,n.push(c)}Oi.length=0}}}const Tu=d.createContext(null),kc=new ui,Ec=new ui,fp=new ui,Tc=new ge,Cc=new eh,Oc=new ge,Cu=d.forwardRef(({context:t,children:e,...n},r)=>{d.useMemo(()=>ra({PositionMesh:up}),[]);const i=d.useRef(),{subscribe:s,getParent:o}=d.useContext(t||Tu);return d.useLayoutEffect(()=>s(i),[]),d.createElement("positionMesh",we({instance:o(),instanceKey:i,ref:ms([r,i])},n),e)}),dp=d.forwardRef(({children:t,range:e,limit:n=1e3,frames:r=1/0,...i},s)=>{const[{context:o,instance:a}]=d.useState(()=>{const m=d.createContext(null);return{context:m,instance:d.forwardRef((x,b)=>d.createElement(Cu,we({context:m},x,{ref:b})))}}),c=d.useRef(null),[l,u]=d.useState([]),[[f,h]]=d.useState(()=>{const m=new Float32Array(n*16);for(let x=0;x<n;x++)fp.identity().toArray(m,x*16);return[m,new Float32Array([...new Array(n*3)].map(()=>1))]});d.useEffect(()=>{c.current.instanceMatrix.needsUpdate=!0});let p=0,_=0;St(()=>{if(r===1/0||p<r){c.current.updateMatrix(),c.current.updateMatrixWorld(),kc.copy(c.current.matrixWorld).invert(),_=Math.min(n,e!==void 0?e:n,l.length),c.current.count=_,c.current.instanceMatrix.updateRange.count=_*16,c.current.instanceColor.updateRange.count=_*3;for(let m=0;m<l.length;m++){const x=l[m].current;x.matrixWorld.decompose(Tc,Cc,Oc),Ec.compose(Tc,Cc,Oc).premultiply(kc),Ec.toArray(f,m*16),c.current.instanceMatrix.needsUpdate=!0,x.color.toArray(h,m*3),c.current.instanceColor.needsUpdate=!0}p++}});const g=d.useMemo(()=>({getParent:()=>c,subscribe:m=>(u(x=>[...x,m]),()=>u(x=>x.filter(b=>b.current!==m.current)))}),[]);return d.createElement("instancedMesh",we({userData:{instances:l},matrixAutoUpdate:!1,ref:ms([s,c]),args:[null,null,0],raycast:()=>null},i),d.createElement("instancedBufferAttribute",{attach:"instanceMatrix",count:f.length/16,array:f,itemSize:16,usage:ec}),d.createElement("instancedBufferAttribute",{attach:"instanceColor",count:h.length/3,array:h,itemSize:3,usage:ec}),typeof t=="function"?d.createElement(o.Provider,{value:g},t(a)):d.createElement(Tu.Provider,{value:g},t))}),Ou=d.createContext(null),hp=d.forwardRef((t,e)=>{d.useMemo(()=>ra({SegmentObject:pp}),[]);const{limit:n=1e3,lineWidth:r=1,children:i,...s}=t,[o,a]=d.useState([]),[c]=d.useState(()=>new Vi),[l]=d.useState(()=>new Sd),[u]=d.useState(()=>new $d),[f]=d.useState(()=>new xe(512,512)),[h]=d.useState(()=>Array(n*6).fill(0)),[p]=d.useState(()=>Array(n*6).fill(0)),_=d.useMemo(()=>({subscribe:g=>(a(m=>[...m,g]),()=>a(m=>m.filter(x=>x.current!==g.current)))}),[]);return St(()=>{for(let m=0;m<n;m++){var g;const x=(g=o[m])==null?void 0:g.current;x&&(h[m*6+0]=x.start.x,h[m*6+1]=x.start.y,h[m*6+2]=x.start.z,h[m*6+3]=x.end.x,h[m*6+4]=x.end.y,h[m*6+5]=x.end.z,p[m*6+0]=x.color.r,p[m*6+1]=x.color.g,p[m*6+2]=x.color.b,p[m*6+3]=x.color.r,p[m*6+4]=x.color.g,p[m*6+5]=x.color.b)}u.setColors(p),u.setPositions(h),c.computeLineDistances()}),d.createElement("primitive",{object:c,ref:e},d.createElement("primitive",{object:u,attach:"geometry"}),d.createElement("primitive",we({object:l,attach:"material",vertexColors:!0,resolution:f,linewidth:r},s)),d.createElement(Ou.Provider,{value:_},i))});class pp{constructor(){this.color=new Yi("white"),this.start=new ge(0,0,0),this.end=new ge(0,0,0)}}const Sc=t=>t instanceof ge?t:new ge(...typeof t=="number"?[t,t,t]:t),mp=d.forwardRef(({color:t,start:e,end:n},r)=>{const i=d.useContext(Ou);if(!i)throw"Segment must used inside Segments component.";const s=d.useRef(null);return d.useLayoutEffect(()=>i.subscribe(s),[]),d.createElement("segmentObject",{ref:ms([s,r]),color:t,start:Sc(e),end:Sc(n)})});function gp({all:t,scene:e,camera:n}){const r=je(({gl:o})=>o),i=je(({camera:o})=>o),s=je(({scene:o})=>o);return d.useLayoutEffect(()=>{const o=[];t&&(e||s).traverse(l=>{l.visible===!1&&(o.push(l),l.visible=!0)}),r.compile(e||s,n||i);const a=new th(128);new nh(.01,1e5,a).update(r,e||s),a.dispose(),o.forEach(l=>l.visible=!1)},[]),null}function $c({pixelated:t}){const e=je(o=>o.gl),n=je(o=>o.internal.active),r=je(o=>o.performance.current),i=je(o=>o.viewport.initialDpr),s=je(o=>o.setDpr);return d.useEffect(()=>{const o=e.domElement;return()=>{n&&s(i),t&&o&&(o.style.imageRendering="auto")}},[]),d.useEffect(()=>{s(r*i),t&&e.domElement&&(e.domElement.style.imageRendering=r===1?"auto":"pixelated")},[r]),null}function Pc(){const t=je(r=>r.get),e=je(r=>r.setEvents),n=je(r=>r.performance.current);return d.useEffect(()=>{const r=t().events.enabled;return()=>e({enabled:r})},[]),d.useEffect(()=>e({enabled:n===1}),[n]),null}const yp=d.createContext(null);function _p({children:t,enabled:e=!0}){const[n,r]=d.useState([]),i=d.useMemo(()=>({selected:n,select:r,enabled:e}),[n,r,e]);return C.jsx(yp.Provider,{value:i,children:t})}function xp(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Su(...t){return e=>t.forEach(n=>xp(n,e))}function yr(...t){return d.useCallback(Su(...t),t)}const $u=d.forwardRef((t,e)=>{const{children:n,...r}=t,i=d.Children.toArray(n),s=i.find(vp);if(s){const o=s.props.children,a=i.map(c=>c===s?d.Children.count(o)>1?d.Children.only(null):d.isValidElement(o)?o.props.children:null:c);return d.createElement(_o,we({},r,{ref:e}),d.isValidElement(o)?d.cloneElement(o,void 0,a):null)}return d.createElement(_o,we({},r,{ref:e}),n)});$u.displayName="Slot";const _o=d.forwardRef((t,e)=>{const{children:n,...r}=t;return d.isValidElement(n)?d.cloneElement(n,{...bp(r,n.props),ref:e?Su(e,n.ref):n.ref}):d.Children.count(n)>1?d.Children.only(null):null});_o.displayName="SlotClone";const Pu=({children:t})=>d.createElement(d.Fragment,null,t);function vp(t){return d.isValidElement(t)&&t.type===Pu}function bp(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const wp=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Fn=wp.reduce((t,e)=>{const n=d.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?$u:e;return d.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),d.createElement(a,we({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function kp(t,e){t&&Jo.flushSync(()=>t.dispatchEvent(e))}const Ep=d.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?tu.createPortal(d.createElement(Fn.div,we({},i,{ref:e})),r):null}),Tp=Ep;var Rc=Object.prototype.hasOwnProperty;function ei(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&ei(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(Rc.call(t,n)&&++r&&!Rc.call(e,n)||!(n in e)||!ei(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function di(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}var ks=function(e,n,r,i){this.name=e,this.fn=n,this.args=r,this.modifiers=i};ks.prototype._test=function(e){var n=this.fn;try{er(this.modifiers.slice(),n,this)(e)}catch{n=function(){return!1}}try{return er(this.modifiers.slice(),n,this)(e)}catch{return!1}};ks.prototype._check=function(e){try{er(this.modifiers.slice(),this.fn,this)(e)}catch{if(er(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!er(this.modifiers.slice(),this.fn,this)(e))throw null};ks.prototype._testAsync=function(e){var n=this;return new Promise(function(r,i){Au(n.modifiers.slice(),n.fn,n)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function Ru(t,e){return e===void 0&&(e="simple"),typeof t=="object"?t[e]:t}function er(t,e,n){if(t.length){var r=t.shift(),i=er(t,e,n);return r.perform(i,n)}else return Ru(e)}function Au(t,e,n){if(t.length){var r=t.shift(),i=Au(t,e,n);return r.performAsync(i,n)}else return function(s){return Promise.resolve(Ru(e,"async")(s))}}var Cp=function(e,n,r){this.name=e,this.perform=n,this.performAsync=r},ga=function(t){function e(n,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];t.call(this,o),t.captureStackTrace&&t.captureStackTrace(this,e),this.rule=n,this.value=r,this.cause=i,this.target=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Nt=function(e,n){e===void 0&&(e=[]),n===void 0&&(n=[]),this.chain=e,this.nextRuleModifiers=n};Nt.prototype._applyRule=function(e,n){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new ks(n,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};Nt.prototype._applyModifier=function(e,n){return this.nextRuleModifiers.push(new Cp(n,e.simple,e.async)),this};Nt.prototype._clone=function(){return new Nt(this.chain.slice(),this.nextRuleModifiers.slice())};Nt.prototype.test=function(e){return this.chain.every(function(n){return n._test(e)})};Nt.prototype.testAll=function(e){var n=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){n.push(new ga(r,e,i))}}),n};Nt.prototype.check=function(e){this.chain.forEach(function(n){try{n._check(e)}catch(r){throw new ga(n,e,r)}})};Nt.prototype.testAsync=function(e){var n=this;return new Promise(function(r,i){Du(e,n.chain.slice(),r,i)})};function Du(t,e,n,r){if(e.length){var i=e.shift();i._testAsync(t).then(function(){Du(t,e,n,r)},function(s){r(new ga(i,t,s))})}else n(t)}var Ac=function(t,e){return e&&typeof t=="string"&&t.trim().length===0?!0:t==null};function Op(t,e){return e===void 0&&(e=!1),{simple:function(n){return Ac(n,e)||t.check(n)===void 0},async:function(n){return Ac(n,e)||t.testAsync(n)}}}function et(){return typeof Proxy<"u"?Mu(new Nt):xo(new Nt)}var ti={};et.extend=function(t){Object.assign(ti,t)};et.clearCustomRules=function(){ti={}};function Mu(t){return new Proxy(t,{get:function(n,r){if(r in n)return n[r];var i=Mu(t._clone());if(r in qi)return i._applyModifier(qi[r],r);if(r in ti)return i._applyRule(ti[r],r);if(r in vo)return i._applyRule(vo[r],r)}})}function xo(t){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var l=xo(s._clone()),u=l._applyRule(i[o],o).apply(void 0,a);return u}}),s},n=e(vo,t),r=e(ti,n);return Object.keys(qi).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=xo(r._clone());return s._applyModifier(qi[i],i)}})}),r}var qi={not:{simple:function(t){return function(e){return!t(e)}},async:function(t){return function(e){return Promise.resolve(t(e)).then(function(n){return!n}).catch(function(){return!0})}}},some:{simple:function(t){return function(e){return Si(e).some(function(n){try{return t(n)}catch{return!1}})}},async:function(t){return function(e){return Promise.all(Si(e).map(function(n){try{return t(n).catch(function(){return!1})}catch{return!1}})).then(function(n){return n.some(Boolean)})}}},every:{simple:function(t){return function(e){return e!==!1&&Si(e).every(t)}},async:function(t){return function(e){return Promise.all(Si(e).map(t)).then(function(n){return n.every(Boolean)})}}},strict:{simple:function(t,e){return function(n){return Dc(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&t(n):t(n)}},async:function(t,e){return function(n){return Promise.resolve(t(n)).then(function(r){return Dc(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&r:r}).catch(function(){return!1})}}}};function Dc(t){return t&&t.name==="schema"&&t.args.length>0&&typeof t.args[0]=="object"}function Si(t){return typeof t=="string"?t.split(""):t}var vo={equal:function(t){return function(e){return e==t}},exact:function(t){return function(e){return e===t}},number:function(t){return t===void 0&&(t=!0),function(e){return typeof e=="number"&&(t||isFinite(e))}},integer:function(){return function(t){var e=Number.isInteger||Sp;return e(t)}},numeric:function(){return function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},string:function(){return Kn("string")},boolean:function(){return Kn("boolean")},undefined:function(){return Kn("undefined")},null:function(){return Kn("null")},array:function(){return Kn("array")},object:function(){return Kn("object")},instanceOf:function(t){return function(e){return e instanceof t}},pattern:function(t){return function(e){return t.test(e)}},lowercase:function(){return function(t){return typeof t=="boolean"||t===t.toLowerCase()&&t.trim()!==""}},uppercase:function(){return function(t){return t===t.toUpperCase()&&t.trim()!==""}},vowel:function(){return function(t){return/^[aeiou]+$/i.test(t)}},consonant:function(){return function(t){return/^(?=[^aeiou])([a-z]+)$/i.test(t)}},first:function(t){return function(e){return e[0]==t}},last:function(t){return function(e){return e[e.length-1]==t}},empty:function(){return function(t){return t.length===0}},length:function(t,e){return function(n){return n.length>=t&&n.length<=(e||t)}},minLength:function(t){return function(e){return e.length>=t}},maxLength:function(t){return function(e){return e.length<=t}},negative:function(){return function(t){return t<0}},positive:function(){return function(t){return t>=0}},between:function(t,e){return function(n){return n>=t&&n<=e}},range:function(t,e){return function(n){return n>=t&&n<=e}},lessThan:function(t){return function(e){return e<t}},lessThanOrEqual:function(t){return function(e){return e<=t}},greaterThan:function(t){return function(e){return e>t}},greaterThanOrEqual:function(t){return function(e){return e>=t}},even:function(){return function(t){return t%2===0}},odd:function(){return function(t){return t%2!==0}},includes:function(t){return function(e){return~e.indexOf(t)}},schema:function(t){return $p(t)},passesAnyOf:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(n){return t.some(function(r){return r.test(n)})}},optional:Op};function Kn(t){return function(e){return Array.isArray(e)&&t==="array"||e===null&&t==="null"||typeof e===t}}function Sp(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function $p(t){return{simple:function(e){var n=[];if(Object.keys(t).forEach(function(r){var i=t[r];try{i.check((e||{})[r])}catch(s){s.target=r,n.push(s)}}),n.length>0)throw n;return!0},async:function(e){var n=[],r=Object.keys(t).map(function(i){var s=t[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,n.push(o)})});return Promise.all(r).then(function(){if(n.length>0)throw n;return!0})}}}function Yt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Lu(t,e=[]){let n=[];function r(s,o){const a=d.createContext(o),c=n.length;n=[...n,o];function l(f){const{scope:h,children:p,..._}=f,g=(h==null?void 0:h[t][c])||a,m=d.useMemo(()=>_,Object.values(_));return d.createElement(g.Provider,{value:m},p)}function u(f,h){const p=(h==null?void 0:h[t][c])||a,_=d.useContext(p);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,u]}const i=()=>{const s=n.map(o=>d.createContext(o));return function(a){const c=(a==null?void 0:a[t])||s;return d.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,Pp(i,...e)]}function Pp(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const f=c(s)[`__scope${l}`];return{...a,...f}},{});return d.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function _r(t){const e=d.useRef(t);return d.useEffect(()=>{e.current=t}),d.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function Rp(t,e=globalThis==null?void 0:globalThis.document){const n=_r(t);d.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const bo="dismissableLayer.update",Ap="dismissableLayer.pointerDownOutside",Dp="dismissableLayer.focusOutside";let Mc;const Mp=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lp=d.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:c,...l}=t,u=d.useContext(Mp),[f,h]=d.useState(null),p=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,_]=d.useState({}),g=yr(e,T=>h(T)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(x),k=f?m.indexOf(f):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,v=k>=b,w=Ip(T=>{const S=T.target,R=[...u.branches].some(z=>z.contains(S));!v||R||(s==null||s(T),a==null||a(T),T.defaultPrevented||c==null||c())},p),E=jp(T=>{const S=T.target;[...u.branches].some(z=>z.contains(S))||(o==null||o(T),a==null||a(T),T.defaultPrevented||c==null||c())},p);return Rp(T=>{k===u.layers.size-1&&(i==null||i(T),!T.defaultPrevented&&c&&(T.preventDefault(),c()))},p),d.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Mc=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Lc(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Mc)}},[f,p,r,u]),d.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Lc())},[f,u]),d.useEffect(()=>{const T=()=>_({});return document.addEventListener(bo,T),()=>document.removeEventListener(bo,T)},[]),d.createElement(Fn.div,we({},l,{ref:g,style:{pointerEvents:y?v?"auto":"none":void 0,...t.style},onFocusCapture:Yt(t.onFocusCapture,E.onFocusCapture),onBlurCapture:Yt(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Yt(t.onPointerDownCapture,w.onPointerDownCapture)}))});function Ip(t,e=globalThis==null?void 0:globalThis.document){const n=_r(t),r=d.useRef(!1),i=d.useRef(()=>{});return d.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Iu(Ap,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function jp(t,e=globalThis==null?void 0:globalThis.document){const n=_r(t),r=d.useRef(!1);return d.useEffect(()=>{const i=s=>{s.target&&!r.current&&Iu(Dp,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Lc(){const t=new CustomEvent(bo);document.dispatchEvent(t)}function Iu(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?kp(i,s):i.dispatchEvent(s)}const or=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},zp=yd["useId".toString()]||(()=>{});let Np=0;function Fp(t){const[e,n]=d.useState(zp());return or(()=>{t||n(r=>r??String(Np++))},[t]),t||(e?`radix-${e}`:"")}const Up=d.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return d.createElement(Fn.svg,we({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?n:d.createElement("polygon",{points:"0,0 30,0 15,10"}))}),Bp=Up;function Hp(t){const[e,n]=d.useState(void 0);return or(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,l=Array.isArray(c)?c[0]:c;o=l.inlineSize,a=l.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const ju="Popper",[zu,Nu]=Lu(ju),[Vp,Fu]=zu(ju),Wp=t=>{const{__scopePopper:e,children:n}=t,[r,i]=d.useState(null);return d.createElement(Vp,{scope:e,anchor:r,onAnchorChange:i},n)},Yp="PopperAnchor",Gp=d.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Fu(Yp,n),o=d.useRef(null),a=yr(e,o);return d.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.createElement(Fn.div,we({},i,{ref:a}))}),Uu="PopperContent",[Xp,Kp]=zu(Uu),Zp=d.forwardRef((t,e)=>{var n,r,i,s,o,a,c,l;const{__scopePopper:u,side:f="bottom",sideOffset:h=0,align:p="center",alignOffset:_=0,arrowPadding:g=0,avoidCollisions:m=!0,collisionBoundary:x=[],collisionPadding:b=0,sticky:k="partial",hideWhenDetached:y=!1,updatePositionStrategy:v="optimized",onPlaced:w,...E}=t,T=Fu(Uu,u),[S,R]=d.useState(null),z=yr(e,ee=>R(ee)),[L,U]=d.useState(null),B=Hp(L),Y=(n=B==null?void 0:B.width)!==null&&n!==void 0?n:0,G=(r=B==null?void 0:B.height)!==null&&r!==void 0?r:0,V=f+(p!=="center"?"-"+p:""),N=typeof b=="number"?b:{top:0,right:0,bottom:0,left:0,...b},H=Array.isArray(x)?x:[x],K=H.length>0,se={padding:N,boundary:H.filter(em),altBoundary:K},{refs:M,floatingStyles:j,placement:O,isPositioned:I,middlewareData:W}=Xh({strategy:"fixed",placement:V,whileElementsMounted:(...ee)=>Wh(...ee,{animationFrame:v==="always"}),elements:{reference:T.anchor},middleware:[Eh({mainAxis:h+G,alignmentAxis:_}),m&&Th({mainAxis:!0,crossAxis:!1,limiter:k==="partial"?Ch():void 0,...se}),m&&bh({...se}),Oh({...se,apply:({elements:ee,rects:A,availableWidth:$,availableHeight:ie})=>{const{width:me,height:Ee}=A.reference,$e=ee.floating.style;$e.setProperty("--radix-popper-available-width",`${$}px`),$e.setProperty("--radix-popper-available-height",`${ie}px`),$e.setProperty("--radix-popper-anchor-width",`${me}px`),$e.setProperty("--radix-popper-anchor-height",`${Ee}px`)}}),L&&Gh({element:L,padding:g}),tm({arrowWidth:Y,arrowHeight:G}),y&&wh({strategy:"referenceHidden",...se})]}),[D,X]=Bu(O),oe=_r(w);or(()=>{I&&(oe==null||oe())},[I,oe]);const ne=(i=W.arrow)===null||i===void 0?void 0:i.x,re=(s=W.arrow)===null||s===void 0?void 0:s.y,Z=((o=W.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[fe,Q]=d.useState();return or(()=>{S&&Q(window.getComputedStyle(S).zIndex)},[S]),d.createElement("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...j,transform:I?j.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(a=W.transformOrigin)===null||a===void 0?void 0:a.x,(c=W.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:t.dir},d.createElement(Xp,{scope:u,placedSide:D,onArrowChange:U,arrowX:ne,arrowY:re,shouldHideArrow:Z},d.createElement(Fn.div,we({"data-side":D,"data-align":X},E,{ref:z,style:{...E.style,animation:I?void 0:"none",opacity:(l=W.hide)!==null&&l!==void 0&&l.referenceHidden?0:void 0}}))))}),qp="PopperArrow",Qp={top:"bottom",right:"left",bottom:"top",left:"right"},Jp=d.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Kp(qp,r),o=Qp[s.placedSide];return d.createElement("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},d.createElement(Bp,we({},i,{ref:n,style:{...i.style,display:"block"}})))});function em(t){return t!==null}const tm=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,s,o;const{placement:a,rects:c,middlewareData:l}=e,f=((n=l.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,h=f?0:t.arrowWidth,p=f?0:t.arrowHeight,[_,g]=Bu(a),m={start:"0%",center:"50%",end:"100%"}[g],x=((r=(i=l.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+h/2,b=((s=(o=l.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+p/2;let k="",y="";return _==="bottom"?(k=f?m:`${x}px`,y=`${-p}px`):_==="top"?(k=f?m:`${x}px`,y=`${c.floating.height+p}px`):_==="right"?(k=`${-p}px`,y=f?m:`${b}px`):_==="left"&&(k=`${c.floating.width+p}px`,y=f?m:`${b}px`),{data:{x:k,y}}}});function Bu(t){const[e,n="center"]=t.split("-");return[e,n]}const nm=Wp,rm=Gp,im=Zp,sm=Jp;function om(t,e){return d.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const Hu=t=>{const{present:e,children:n}=t,r=am(e),i=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),s=yr(r.ref,i.ref);return typeof n=="function"||r.isPresent?d.cloneElement(i,{ref:s}):null};Hu.displayName="Presence";function am(t){const[e,n]=d.useState(),r=d.useRef({}),i=d.useRef(t),s=d.useRef("none"),o=t?"mounted":"unmounted",[a,c]=om(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const l=$i(r.current);s.current=a==="mounted"?l:"none"},[a]),or(()=>{const l=r.current,u=i.current;if(u!==t){const h=s.current,p=$i(l);t?c("MOUNT"):p==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),or(()=>{if(e){const l=f=>{const p=$i(r.current).includes(f.animationName);f.target===e&&p&&Jo.flushSync(()=>c("ANIMATION_END"))},u=f=>{f.target===e&&(s.current=$i(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",l),e.addEventListener("animationend",l),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",l),e.removeEventListener("animationend",l)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:d.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function $i(t){return(t==null?void 0:t.animationName)||"none"}function cm({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=lm({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=_r(n),c=d.useCallback(l=>{if(s){const f=typeof l=="function"?l(t):l;f!==t&&a(f)}else i(l)},[s,t,i,a]);return[o,c]}function lm({defaultProp:t,onChange:e}){const n=d.useState(t),[r]=n,i=d.useRef(r),s=_r(e);return d.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}const um=d.forwardRef((t,e)=>d.createElement(Fn.span,we({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),fm=um,[Es,Ek]=Lu("Tooltip",[Nu]),Ts=Nu(),dm="TooltipProvider",wo="tooltip.open",[Tk,ya]=Es(dm),_a="Tooltip",[hm,Cs]=Es(_a),pm=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,c=ya(_a,t.__scopeTooltip),l=Ts(e),[u,f]=d.useState(null),h=Fp(),p=d.useRef(0),_=o??c.disableHoverableContent,g=a??c.delayDuration,m=d.useRef(!1),[x=!1,b]=cm({prop:r,defaultProp:i,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(wo))):c.onClose(),s==null||s(E)}}),k=d.useMemo(()=>x?m.current?"delayed-open":"instant-open":"closed",[x]),y=d.useCallback(()=>{window.clearTimeout(p.current),m.current=!1,b(!0)},[b]),v=d.useCallback(()=>{window.clearTimeout(p.current),b(!1)},[b]),w=d.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{m.current=!0,b(!0)},g)},[g,b]);return d.useEffect(()=>()=>window.clearTimeout(p.current),[]),d.createElement(nm,l,d.createElement(hm,{scope:e,contentId:h,open:x,stateAttribute:k,trigger:u,onTriggerChange:f,onTriggerEnter:d.useCallback(()=>{c.isOpenDelayed?w():y()},[c.isOpenDelayed,w,y]),onTriggerLeave:d.useCallback(()=>{_?v():window.clearTimeout(p.current)},[v,_]),onOpen:y,onClose:v,disableHoverableContent:_},n))},Ic="TooltipTrigger",mm=d.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Cs(Ic,n),s=ya(Ic,n),o=Ts(n),a=d.useRef(null),c=yr(e,a,i.onTriggerChange),l=d.useRef(!1),u=d.useRef(!1),f=d.useCallback(()=>l.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.createElement(rm,we({asChild:!0},o),d.createElement(Fn.button,we({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:c,onPointerMove:Yt(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Yt(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Yt(t.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Yt(t.onFocus,()=>{l.current||i.onOpen()}),onBlur:Yt(t.onBlur,i.onClose),onClick:Yt(t.onClick,i.onClose)})))}),gm="TooltipPortal",[Ck,ym]=Es(gm,{forceMount:void 0}),ni="TooltipContent",_m=d.forwardRef((t,e)=>{const n=ym(ni,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Cs(ni,t.__scopeTooltip);return d.createElement(Hu,{present:r||o.open},o.disableHoverableContent?d.createElement(Vu,we({side:i},s,{ref:e})):d.createElement(xm,we({side:i},s,{ref:e})))}),xm=d.forwardRef((t,e)=>{const n=Cs(ni,t.__scopeTooltip),r=ya(ni,t.__scopeTooltip),i=d.useRef(null),s=yr(e,i),[o,a]=d.useState(null),{trigger:c,onClose:l}=n,u=i.current,{onPointerInTransitChange:f}=r,h=d.useCallback(()=>{a(null),f(!1)},[f]),p=d.useCallback((_,g)=>{const m=_.currentTarget,x={x:_.clientX,y:_.clientY},b=Em(x,m.getBoundingClientRect()),k=Tm(x,b),y=Cm(g.getBoundingClientRect()),v=Sm([...k,...y]);a(v),f(!0)},[f]);return d.useEffect(()=>()=>h(),[h]),d.useEffect(()=>{if(c&&u){const _=m=>p(m,u),g=m=>p(m,c);return c.addEventListener("pointerleave",_),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",_),u.removeEventListener("pointerleave",g)}}},[c,u,p,h]),d.useEffect(()=>{if(o){const _=g=>{const m=g.target,x={x:g.clientX,y:g.clientY},b=(c==null?void 0:c.contains(m))||(u==null?void 0:u.contains(m)),k=!Om(x,o);b?h():k&&(h(),l())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[c,u,o,l,h]),d.createElement(Vu,we({},t,{ref:s}))}),[vm,bm]=Es(_a,{isInside:!1}),Vu=d.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,c=Cs(ni,n),l=Ts(n),{onClose:u}=c;return d.useEffect(()=>(document.addEventListener(wo,u),()=>document.removeEventListener(wo,u)),[u]),d.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),d.createElement(Lp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u},d.createElement(im,we({"data-state":c.stateAttribute},l,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),d.createElement(Pu,null,r),d.createElement(vm,{scope:n,isInside:!0},d.createElement(fm,{id:c.contentId,role:"tooltip"},i||r))))}),wm="TooltipArrow",km=d.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Ts(n);return bm(wm,n).isInside?null:d.createElement(sm,we({},i,r,{ref:e}))});function Em(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Tm(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Cm(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Om(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,c=e[s].y,l=e[o].x,u=e[o].y;c>r!=u>r&&n<(l-a)*(r-c)/(u-c)+a&&(i=!i)}return i}function Sm(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),$m(e)}function $m(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}const Pm=pm,Rm=mm,Am=_m,Dm=km;function Mm(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ke(t,e){if(t==null)return{};var n=Mm(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}let Re;(function(t){t[t.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",t[t.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",t[t.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",t[t.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",t[t.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",t[t.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",t[t.THEME_ERROR=6]="THEME_ERROR",t[t.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",t[t.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",t[t.EMPTY_KEY=9]="EMPTY_KEY"})(Re||(Re={}));const Lm={[Re.UNSUPPORTED_INPUT]:(t,e)=>[`An input with type \`${t}\` input was found at path \`${e}\` but it's not supported yet.`],[Re.NO_COMPONENT_FOR_TYPE]:(t,e)=>[`Type \`${t}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[Re.UNKNOWN_INPUT]:(t,e)=>[`input at path \`${t}\` is not recognized.`,e],[Re.DUPLICATE_KEYS]:(t,e,n)=>[`Key \`${t}\` of path \`${e}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[Re.ALREADY_REGISTERED_TYPE]:t=>[`Type ${t} has already been registered. You can't register a component with the same type.`],[Re.CLIPBOARD_ERROR]:t=>["Error copying the value",t],[Re.THEME_ERROR]:(t,e)=>[`Error accessing the theme \`${t}.${e}\` value.`],[Re.PATH_DOESNT_EXIST]:t=>[`Error getting the value at path \`${t}\`. There is probably an error in your \`render\` function.`],[Re.PATH_DOESNT_EXIST]:t=>[`Error accessing the value at path \`${t}\``],[Re.INPUT_TYPE_OVERRIDE]:(t,e,n)=>[`Input at path \`${t}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${n}\`.`],[Re.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function Wu(t,e,...n){const[r,...i]=Lm[e](...n);console[t]("LEVA: "+r,...i)}const Xt=Wu.bind(null,"warn"),Im=Wu.bind(null,"log"),jm=["value"],zm=["schema"],Nm=["value"],Yu=[],jn={};function jc(t){let{value:e}=t,n=ke(t,jm);for(let r of Yu){const i=r(e,n);if(i)return i}}function nn(t,e){let{schema:n}=e,r=ke(e,zm);if(t in jn){Xt(Re.ALREADY_REGISTERED_TYPE,t);return}Yu.push((i,s)=>n(i,s)&&t),jn[t]=r}function Gs(t,e,n,r){const{normalize:i}=jn[t];if(i)return i(e,n,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=ke(e,Nm);return{value:s,settings:o}}function Fm(t,e,n,r,i,s){const{sanitize:o}=jn[t];return o?o(e,n,r,i,s):e}function zc(t,e,n){const{format:r}=jn[t];return r?r(e,n):e}function Um(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nc(Object(n),!0).forEach(function(r){Um(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const mn=(t,e,n)=>t>n?n:t<e?e:t,Bm=t=>{if(t===""||typeof t=="number")return t;try{const e=on(t);if(!isNaN(e))return e}catch{}return parseFloat(t)},Hm=Math.log(10);function Fc(t){let e=Math.abs(+String(t).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const n=Math.floor(Math.log(e)/Hm)+1,r=Math.floor(Math.log10(Math.abs(t))),i=Math.pow(10,r-n);return Math.max(i,.001)}const Qi=(t,e,n)=>n===e?0:(mn(t,e,n)-e)/(n-e),Ji=(t,e,n)=>t*(n-e)+e,Vm=()=>"_"+Math.random().toString(36).substr(2,9),Uc=/\(([0-9+\-*/^ .]+)\)/,Bc=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,Hc=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,Vc=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,Wc=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,Yc=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function on(t){if(isNaN(Number(t)))if(Uc.test(t)){const e=t.replace(Uc,(n,r)=>String(on(r)));return on(e)}else if(Bc.test(t)){const e=t.replace(Bc,(n,r,i)=>String(Math.pow(Number(r),Number(i))));return on(e)}else if(Hc.test(t)){const e=t.replace(Hc,(n,r,i)=>String(Number(r)*Number(i)));return on(e)}else if(Vc.test(t)){const e=t.replace(Vc,(n,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return on(e)}else if(Wc.test(t)){const e=t.replace(Wc,(n,r,i)=>String(Number(r)+Number(i)));return on(e)}else if(Yc.test(t)){const e=t.replace(Yc,(n,r,i)=>String(Number(r)-Number(i)));return on(e)}else return Number(t);return Number(t)}function Wm(t,e){return e.reduce((n,r)=>(t&&t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}function Ym(t,e){const n=le({},t);return e.forEach(r=>r in t&&delete n[r]),n}function Gm(t,e){return t.reduce((n,r,i)=>Object.assign(n,{[e[i]]:r}),{})}function Gu(t){return Object.prototype.toString.call(t)==="[object Object]"}const Xm=t=>Gu(t)&&Object.keys(t).length===0;let Ct;(function(t){t.BUTTON="BUTTON",t.BUTTON_GROUP="BUTTON_GROUP",t.MONITOR="MONITOR",t.FOLDER="FOLDER"})(Ct||(Ct={}));let Ot;(function(t){t.SELECT="SELECT",t.IMAGE="IMAGE",t.NUMBER="NUMBER",t.COLOR="COLOR",t.STRING="STRING",t.BOOLEAN="BOOLEAN",t.INTERVAL="INTERVAL",t.VECTOR3D="VECTOR3D",t.VECTOR2D="VECTOR2D"})(Ot||(Ot={}));const Km=["type","__customInput"],Zm=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],qm=["type"];function Xu(t,e,n={},r){var i,s;if(typeof t!="object"||Array.isArray(t))return{type:r,input:t,options:le({key:e,label:e,optional:!1,disabled:!1,order:0},n)};if("__customInput"in t){const{type:v,__customInput:w}=t,E=ke(t,Km);return Xu(w,e,E,v)}const{render:o,label:a,optional:c,order:l=0,disabled:u,hint:f,onChange:h,onEditStart:p,onEditEnd:_,transient:g}=t,m=ke(t,Zm),x=le({render:o,key:e,label:a??e,hint:f,transient:g??!!h,onEditStart:p,onEditEnd:_,disabled:u,optional:c,order:l},n);let{type:b}=m,k=ke(m,qm);if(b=r??b,b in Ct)return{type:b,input:k,options:x};let y;return r&&Gu(k)&&"value"in k?y=k.value:y=Xm(k)?void 0:k,{type:b,input:y,options:le(le({},x),{},{onChange:h,optional:(i=x.optional)!==null&&i!==void 0?i:!1,disabled:(s=x.disabled)!==null&&s!==void 0?s:!1})}}function Qm(t,e,n,r){const i=Xu(t,e),{type:s,input:o,options:a}=i;if(s)return s in Ct?i:{type:s,input:Gs(s,o,n,r),options:a};let c=jc(o);return c?{type:c,input:Gs(c,o,n,r),options:a}:(c=jc({value:o}),c?{type:c,input:Gs(c,{value:o},n,r),options:a}:!1)}function Gc(t,e,n,r,i){const{value:s,type:o,settings:a}=t;t.value=Ku({type:o,value:s,settings:a},e,n,r),t.fromPanel=i}const Jm=function(e,n,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=n,this.error=r};function Ku({type:t,value:e,settings:n},r,i,s){const o=t!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=Fm(t,o,n,e,i,s)}catch(c){throw new Jm(`The value \`${r}\` did not result in a correct value.`,e,c)}return ei(a,e)?e:a}const Zu=(t,e,n=!1)=>{let r=0;return function(){const i=arguments,s=n&&!r,o=()=>t.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},qu=t=>t.shiftKey?5:t.altKey?1/5:1;function eg(t,e){const n=console.error;console.error=()=>{},tu.render(t,e),console.error=n}const tg=["value"],ng=["min","max"],rg=t=>{if(typeof t=="number")return!0;if(typeof t=="string"){const e=parseFloat(t);return isNaN(e)?!1:t.substring((""+e).length).trim().length<4}return!1},Qu=(t,{min:e=-1/0,max:n=1/0,suffix:r})=>{const i=parseFloat(t);if(t===""||isNaN(i))throw Error("Invalid number");const s=mn(i,e,n);return r?s+r:s},ig=(t,{pad:e=0,suffix:n})=>{const r=parseFloat(t).toFixed(e);return n?r+n:r},Ju=t=>{let{value:e}=t,n=ke(t,tg);const{min:r=-1/0,max:i=1/0}=n,s=ke(n,ng);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=mn(o,r,i);let c=n.step;c||(Number.isFinite(r)?Number.isFinite(i)?c=+(Math.abs(i-r)/100).toPrecision(1):c=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(c=+(Math.abs(i-o)/100).toPrecision(1)));const l=c?Fc(c)*10:Fc(o);c=c||l/10;const u=Math.round(mn(Math.log10(1/l),0,2));return{value:a?o+a:o,settings:le({initialValue:o,step:c,pad:u,min:r,max:i,suffix:a},s)}},e0=(t,{step:e,initialValue:n})=>{const r=Math.round((t-n)/e);return n+r*e};var t0=Object.freeze({__proto__:null,schema:rg,sanitize:Qu,format:ig,normalize:Ju,sanitizeStep:e0});function Ie(){return Ie=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ie.apply(this,arguments)}const n0=d.createContext({});function Ke(){return d.useContext(n0)}const xa=d.createContext(null),r0=d.createContext(null),i0=d.createContext(null);function hi(){return d.useContext(r0)}function sg(){return d.useContext(i0)}const s0=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function Pi(t,e){const[n,r]=t.split(" "),i={};return n!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${n!=="default"&&n||e.borderColor}`),r&&(i.backgroundColor=r),i}const Lr={$inputStyle:()=>t=>Pi(t,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>t=>Pi(t,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>t=>Pi(t,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>t=>Pi(t,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:ae,css:Ok,createTheme:og,globalCss:ag,keyframes:Sk}=Pd({prefix:"leva",theme:s0(),utils:le(le({},Lr),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:t=>({"&:focus":Lr.$focusStyle()(t)}),$focusWithin:t=>({"&:focus-within":Lr.$focusStyle()(t)}),$hover:t=>({"&:hover":Lr.$hoverStyle()(t)}),$active:t=>({"&:active":Lr.$activeStyle()(t)})})}),cg=ag({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function lg(t){const e=s0();if(!t)return{theme:e,className:""};Object.keys(t).forEach(r=>{Object.assign(e[r],t[r])});const n=og(e);return{theme:e,className:n.className}}function Kt(t,e){const{theme:n}=d.useContext(xa);if(!(t in n)||!(e in n[t]))return Xt(Re.THEME_ERROR,t,e),"";let r=e;for(;;){let i=n[t][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const o0=ae("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),a0=ae("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${o0}`]:{paddingLeft:0}}),ug=ae(a0,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),fg=ae("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),dg=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],hg=["onUpdate"];function va(t){let{innerLabel:e,value:n,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:c="text",rows:l=0}=t,u=ke(t,dg);const{id:f,emitOnEditStart:h,emitOnEditEnd:p,disabled:_}=Ke(),g=a||f,m=d.useRef(null),x=l>0,b=x?"textarea":"input",k=d.useCallback(w=>E=>{const T=E.currentTarget.value;w(T)},[]);P.useEffect(()=>{const w=m.current,E=k(T=>{r(T),p()});return w==null||w.addEventListener("blur",E),()=>w==null?void 0:w.removeEventListener("blur",E)},[k,r,p]);const y=d.useCallback(w=>{w.key==="Enter"&&k(r)(w)},[k,r]),v=Object.assign({as:b},x?{rows:l}:{},u);return P.createElement(fg,{textArea:x},e&&typeof e=="string"?P.createElement(a0,null,e):e,P.createElement(o0,Ie({levaType:o,ref:m,id:g,type:c,autoComplete:"off",spellCheck:"false",value:n,onChange:k(i),onFocus:()=>h(),onKeyPress:y,onKeyDown:s,disabled:_},v)))}function pg(t){let{onUpdate:e}=t,n=ke(t,hg);const r=d.useCallback(s=>e(Bm(s)),[e]),i=d.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(c=>parseFloat(c)+o*a)}},[e]);return P.createElement(va,Ie({},n,{onUpdate:r,onKeyDown:i,type:"number"}))}const es=ae("div",{}),ko=ae("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),mg=ae("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${ko}::after`]:{opacity:.6},[`${es}:hover > & + ${ko}::after`]:{opacity:.6},[`${es}:hover > & > svg`]:{opacity:1}}),c0=ae("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${es}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),l0=ae("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${c0} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),u0=ae(l0,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),gg=ae("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),yg=ae("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),Eo=ae("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),_g=ae("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${Eo}`]:{pointerEvents:"auto"}}}}}),f0=ae("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),xg=ae("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),vg=ae(Dm,{fill:"$toolTipBackground"});function ba({children:t}){const{className:e}=d.useContext(xa);return P.createElement(Tp,{className:e},t)}const bg=["align"];function wg(){const{id:t,disable:e,disabled:n}=Ke();return P.createElement(P.Fragment,null,P.createElement(yg,{id:t+"__disable",type:"checkbox",checked:!n,onChange:()=>e(!n)}),P.createElement("label",{htmlFor:t+"__disable"}))}function kg(t){const{id:e,optional:n,hint:r}=Ke(),i=t.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof t.children=="string"?{title:t.children}:null;return P.createElement(P.Fragment,null,n&&P.createElement(wg,null),r!==void 0?P.createElement(Pm,null,P.createElement(Rm,{asChild:!0},P.createElement(Eo,Ie({},i,t))),P.createElement(Am,{side:"top",sideOffset:2},P.createElement(xg,null,r,P.createElement(vg,null)))):P.createElement(Eo,Ie({},i,s,t)))}function $t(t){let{align:e}=t,n=ke(t,bg);const{value:r,label:i,key:s,disabled:o}=Ke(),{hideCopyButton:a}=sg(),c=!a&&s!==void 0,[l,u]=d.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),u(!0)}catch{Xt(Re.CLIPBOARD_ERROR,{[s]:r})}};return P.createElement(gg,{align:e,onPointerLeave:()=>u(!1)},P.createElement(kg,n),c&&!o&&P.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},l?P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},P.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),P.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):P.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},P.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),P.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const Eg=["toggled"],Tg=ae("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function wa(t){let{toggled:e}=t,n=ke(t,Eg);return P.createElement(Tg,Ie({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},n),P.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const Cg=["input"];function kt(t){let{input:e}=t,n=ke(t,Cg);return e?P.createElement(u0,n):P.createElement(l0,n)}function d0({value:t,type:e,settings:n,setValue:r}){const[i,s]=d.useState(zc(e,t,n)),o=d.useRef(t),a=d.useRef(n);a.current=n;const c=d.useCallback(u=>s(zc(e,u,a.current)),[e]),l=d.useCallback(u=>{try{r(u)}catch(f){const{type:h,previousValue:p}=f;if(h!=="LEVA_ERROR")throw f;c(p)}},[c,r]);return d.useEffect(()=>{ei(t,o.current)||c(t),o.current=t},[t,c]),{displayValue:i,onChange:s,onUpdate:l}}function pi(t,e){const{emitOnEditStart:n,emitOnEditEnd:r}=Ke();return Rd(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),n==null||n());const s=t(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function Og(t){const e=d.useRef(null),n=d.useRef(null),r=d.useRef(!1);return d.useEffect(()=>{const i=Zu(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,t(e.current,n.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[t]),d.useEffect(()=>{n.current=e.current.getContext("2d")},[]),[e,n]}function h0(){const t=d.useRef(null),e=d.useRef({x:0,y:0}),n=d.useCallback(r=>{Object.assign(e.current,r),t.current&&(t.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[t,n]}const Sg=["__refCount"],Xs=(t,e)=>{if(!t[e])return null;const n=t[e];return ke(n,Sg)};function $g(t){const e=hi(),[n,r]=d.useState(Xs(e.getData(),t)),i=d.useCallback(l=>e.setValueAtPath(t,l,!0),[t,e]),s=d.useCallback(l=>e.setSettingsAtPath(t,l),[t,e]),o=d.useCallback(l=>e.disableInputAtPath(t,l),[t,e]),a=d.useCallback(()=>e.emitOnEditStart(t),[t,e]),c=d.useCallback(()=>e.emitOnEditEnd(t),[t,e]);return d.useEffect(()=>{r(Xs(e.getData(),t));const l=e.useStore.subscribe(u=>Xs(u.data,t),r,{equalityFn:di});return()=>l()},[e,t]),[n,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:c}]}const Pg=ae("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),p0=ae("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),To=ae("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),m0=ae("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),g0=ae("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function Rg({value:t,min:e,max:n,onDrag:r,step:i,initialValue:s}){const o=d.useRef(null),a=d.useRef(null),c=d.useRef(0),l=Kt("sizes","scrubberWidth"),u=pi(({event:h,first:p,xy:[_],movement:[g],memo:m})=>{if(p){const{width:b,left:k}=o.current.getBoundingClientRect();c.current=b-parseFloat(l),m=(h==null?void 0:h.target)===a.current?t:Ji((_-k)/b,e,n)}const x=m+Ji(g/c.current,0,n-e);return r(e0(x,{step:i,initialValue:s})),m}),f=Qi(t,e,n);return P.createElement(m0,Ie({ref:o},u()),P.createElement(p0,null,P.createElement(g0,{style:{left:0,right:`${(1-f)*100}%`}})),P.createElement(To,{ref:a,style:{left:`calc(${f} * (100% - ${l}))`}}))}const Ag=P.memo(({label:t,onUpdate:e,step:n,innerLabelTrim:r})=>{const[i,s]=d.useState(!1),o=pi(({active:a,delta:[c],event:l,memo:u=0})=>(s(a),u+=c/2,Math.abs(u)>=1&&(e(f=>parseFloat(f)+Math.floor(u)*n*qu(l)),u=0),u));return P.createElement(ug,Ie({dragging:i,title:t.length>1?t:""},o()),t.slice(0,r))});function y0({label:t,id:e,displayValue:n,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&P.createElement(Ag,{label:t,step:s.step,onUpdate:r,innerLabelTrim:o});return P.createElement(pg,{id:e,value:String(n),onUpdate:r,onChange:i,innerLabel:a})}function Dg(){const t=Ke(),{label:e,value:n,onUpdate:r,settings:i,id:s}=t,{min:o,max:a}=i,c=a!==1/0&&o!==-1/0;return P.createElement(kt,{input:!0},P.createElement($t,null,e),P.createElement(Pg,{hasRange:c},c&&P.createElement(Rg,Ie({value:parseFloat(n),onDrag:r},i)),P.createElement(y0,Ie({},t,{id:s,label:"value",innerLabelTrim:c?0:1}))))}const{sanitizeStep:Mg}=t0,Lg=ke(t0,["sanitizeStep"]);var Ig=le({component:Dg},Lg);const jg=(t,e)=>et().schema({options:et().passesAnyOf(et().object(),et().array())}).test(e),zg=(t,{values:e})=>{if(e.indexOf(t)<0)throw Error("Selected value doesn't match Select options");return t},Ng=(t,{values:e})=>e.indexOf(t),Fg=t=>{let{value:e,options:n}=t,r,i;return Array.isArray(n)?(i=n,r=n.map(s=>String(s))):(i=Object.values(n),r=Object.keys(n)),"value"in t?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(n).includes(e)||(n[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var Ug=Object.freeze({__proto__:null,schema:jg,sanitize:zg,format:Ng,normalize:Fg});const Bg=ae("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),Co=ae("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),Hg=ae("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${Co}:focus + &`]:{$focusStyle:""},[`${Co}:hover + &`]:{$hoverStyle:""}});function Vg({displayValue:t,value:e,onUpdate:n,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,c=d.useRef();return e===a[t]&&(c.current=o[t]),P.createElement(Bg,null,P.createElement(Co,{id:r,value:t,onChange:l=>n(a[Number(l.currentTarget.value)]),disabled:s},o.map((l,u)=>P.createElement("option",{key:l,value:u},l))),P.createElement(Hg,null,c.current),P.createElement(wa,{toggled:!0}))}function Wg(){const{label:t,value:e,displayValue:n,onUpdate:r,id:i,disabled:s,settings:o}=Ke();return P.createElement(kt,{input:!0},P.createElement($t,null,t),P.createElement(Vg,{id:i,value:e,displayValue:n,onUpdate:r,settings:o,disabled:s}))}var Yg=le({component:Wg},Ug);const Gg=t=>et().string().test(t),Xg=t=>{if(typeof t!="string")throw Error("Invalid string");return t},Kg=({value:t,editable:e=!0,rows:n=!1})=>({value:t,settings:{editable:e,rows:typeof n=="number"?n:n?5:0}});var Zg=Object.freeze({__proto__:null,schema:Gg,sanitize:Xg,normalize:Kg});const qg=["displayValue","onUpdate","onChange","editable"],Qg=ae("div",{whiteSpace:"pre-wrap"});function Jg(t){let{displayValue:e,onUpdate:n,onChange:r,editable:i=!0}=t,s=ke(t,qg);return i?P.createElement(va,Ie({value:e,onUpdate:n,onChange:r},s)):P.createElement(Qg,null,e)}function e1(){const{label:t,settings:e,displayValue:n,onUpdate:r,onChange:i}=Ke();return P.createElement(kt,{input:!0},P.createElement($t,null,t),P.createElement(Jg,Ie({displayValue:n,onUpdate:r,onChange:i},e)))}var t1=le({component:e1},Zg);const n1=t=>et().boolean().test(t),r1=t=>{if(typeof t!="boolean")throw Error("Invalid boolean");return t};var i1=Object.freeze({__proto__:null,schema:n1,sanitize:r1});const s1=ae("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function o1({value:t,onUpdate:e,id:n,disabled:r}){return P.createElement(s1,null,P.createElement("input",{id:n,type:"checkbox",checked:t,onChange:i=>e(i.currentTarget.checked),disabled:r}),P.createElement("label",{htmlFor:n},P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function a1(){const{label:t,value:e,onUpdate:n,disabled:r,id:i}=Ke();return P.createElement(kt,{input:!0},P.createElement($t,null,t),P.createElement(o1,{value:e,onUpdate:n,id:i,disabled:r}))}var c1=le({component:a1},i1);const l1=["locked"];function u1({value:t,id:e,valueKey:n,settings:r,onUpdate:i,innerLabelTrim:s}){const o=d.useRef(t[n]);o.current=t[n];const a=d.useCallback(l=>i({[n]:Ku({type:"NUMBER",value:o.current,settings:r},l)}),[i,r,n]),c=d0({type:"NUMBER",value:t[n],settings:r,setValue:a});return P.createElement(y0,{id:e,label:n,value:t[n],displayValue:c.displayValue,onUpdate:c.onUpdate,onChange:c.onChange,settings:r,innerLabelTrim:s})}const f1=ae("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function d1(t){let{locked:e}=t,n=ke(t,l1);return P.createElement("svg",Ie({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e?P.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):P.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function ka({value:t,onUpdate:e,settings:n,innerLabelTrim:r}){const{id:i,setSettings:s}=Ke(),{lock:o,locked:a}=n;return P.createElement(f1,{withLock:o},o&&P.createElement(d1,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(t).map((c,l)=>P.createElement(u1,{id:l===0?i:`${i}.${c}`,key:c,valueKey:c,value:t,settings:n[c],onUpdate:e,innerLabelTrim:r})))}const _0=(t,e)=>{const n={};let r=0,i=1/0;Object.entries(t).forEach(([s,o])=>{n[s]=Ju(le({value:o},e[s])).settings,r=Math.max(r,n[s].step),i=Math.min(i,n[s].pad)});for(let s in n){const{step:o,min:a,max:c}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(c))&&(n[s].step=r,n[s].pad=i)}return n},h1=["lock"],p1=["value"];function m1(t){const e=et().array().length(t).every.number(),n=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===t&&i.every(s=>isFinite(s))};return r=>e.test(r)||n(r)}function g1(t){return Array.isArray(t)?"array":"object"}function Hr(t,e,n){return g1(t)===e?t:e==="array"?Object.values(t):Gm(t,n)}const y1=(t,e,n)=>{const r=Hr(t,"object",e.keys);for(let o in r)r[o]=Qu(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=Hr(n,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],c=r[a],l=o[a],u=l!==0?c/l:1;for(let f in o)f===a?s[a]=c:s[f]=o[f]*u}else s=le(le({},o),r)}return Hr(s,e.format,e.keys)},_1=(t,e)=>Hr(t,"object",e.keys),x1=t=>!!t&&("step"in t||"min"in t||"max"in t);function v1(t,e,n=[]){const{lock:r=!1}=e,i=ke(e,h1),s=Array.isArray(t)?"array":"object",o=s==="object"?Object.keys(t):n,a=Hr(t,"object",o),c=x1(i)?o.reduce((u,f)=>Object.assign(u,{[f]:i}),{}):i,l=_0(a,c);return{value:s==="array"?t:a,settings:le(le({},l),{},{format:s,keys:o,lock:r,locked:!1})}}function x0(t){return{schema:m1(t.length),normalize:e=>{let{value:n}=e,r=ke(e,p1);return v1(n,r,t)},format:(e,n)=>_1(e,n),sanitize:(e,n,r)=>y1(e,n,r)}}var b1={grad:.9,turn:360,rad:360/(2*Math.PI)},Vt=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Ue=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},_t=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},v0=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},Xc=function(t){return{r:_t(t.r,0,255),g:_t(t.g,0,255),b:_t(t.b,0,255),a:_t(t.a)}},Ks=function(t){return{r:Ue(t.r),g:Ue(t.g),b:Ue(t.b),a:Ue(t.a,3)}},w1=/^#([0-9a-f]{3,8})$/i,Ri=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},b0=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},w0=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),c=r*(1-(1-e+s)*n),l=s%6;return{r:255*[r,a,o,o,c,r][l],g:255*[c,r,r,a,o,o][l],b:255*[o,o,c,r,r,a][l],a:i}},Kc=function(t){return{h:v0(t.h),s:_t(t.s,0,100),l:_t(t.l,0,100),a:_t(t.a)}},Zc=function(t){return{h:Ue(t.h),s:Ue(t.s),l:Ue(t.l),a:Ue(t.a,3)}},qc=function(t){return w0((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},Vr=function(t){return{h:(e=b0(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},k1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,E1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,T1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,C1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Oo={string:[[function(t){var e=w1.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Ue(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Ue(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=T1.exec(t)||C1.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:Xc({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=k1.exec(t)||E1.exec(t);if(!e)return null;var n,r,i=Kc({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(b1[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return qc(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i===void 0?1:i;return Vt(e)&&Vt(n)&&Vt(r)?Xc({r:Number(e),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,s=i===void 0?1:i;if(!Vt(e)||!Vt(n)||!Vt(r))return null;var o=Kc({h:Number(e),s:Number(n),l:Number(r),a:Number(s)});return qc(o)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,s=i===void 0?1:i;if(!Vt(e)||!Vt(n)||!Vt(r))return null;var o=function(a){return{h:v0(a.h),s:_t(a.s,0,100),v:_t(a.v,0,100),a:_t(a.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(s)});return w0(o)},"hsv"]]},Qc=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},k0=function(t){return typeof t=="string"?Qc(t.trim(),Oo.string):typeof t=="object"&&t!==null?Qc(t,Oo.object):[null,void 0]},O1=function(t){return k0(t)[1]},Zs=function(t,e){var n=Vr(t);return{h:n.h,s:_t(n.s+100*e,0,100),l:n.l,a:n.a}},qs=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},Jc=function(t,e){var n=Vr(t);return{h:n.h,s:n.s,l:_t(n.l+100*e,0,100),a:n.a}},So=function(){function t(e){this.parsed=k0(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Ue(qs(this.rgba),2)},t.prototype.isDark=function(){return qs(this.rgba)<.5},t.prototype.isLight=function(){return qs(this.rgba)>=.5},t.prototype.toHex=function(){return e=Ks(this.rgba),n=e.r,r=e.g,i=e.b,o=(s=e.a)<1?Ri(Ue(255*s)):"","#"+Ri(n)+Ri(r)+Ri(i)+o;var e,n,r,i,s,o},t.prototype.toRgb=function(){return Ks(this.rgba)},t.prototype.toRgbString=function(){return e=Ks(this.rgba),n=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,s},t.prototype.toHsl=function(){return Zc(Vr(this.rgba))},t.prototype.toHslString=function(){return e=Zc(Vr(this.rgba)),n=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,s},t.prototype.toHsv=function(){return e=b0(this.rgba),{h:Ue(e.h),s:Ue(e.s),v:Ue(e.v),a:Ue(e.a,3)};var e},t.prototype.invert=function(){return Ze({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Ze(Zs(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Ze(Zs(this.rgba,-e))},t.prototype.grayscale=function(){return Ze(Zs(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Ze(Jc(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Ze(Jc(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Ze({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):Ue(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=Vr(this.rgba);return typeof e=="number"?Ze({h:e,s:n.s,l:n.l,a:n.a}):Ue(n.h)},t.prototype.isEqual=function(e){return this.toHex()===Ze(e).toHex()},t}(),Ze=function(t){return t instanceof So?t:new So(t)},el=[],S1=function(t){t.forEach(function(e){el.indexOf(e)<0&&(e(So,Oo),el.push(e))})};function $1(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,c,l=r[this.toHex()];if(l)return l;if(o!=null&&o.closest){var u=this.toRgb(),f=1/0,h="black";if(!s.length)for(var p in n)s[p]=new t(n[p]).toRgb();for(var _ in n){var g=(a=u,c=s[_],Math.pow(a.r-c.r,2)+Math.pow(a.g-c.g,2)+Math.pow(a.b-c.b,2));g<f&&(f=g,h=_)}return h}},e.string.push([function(o){var a=o.toLowerCase(),c=a==="transparent"?"#0000":n[a];return c?new t(c).toRgb():null},"name"])}function xr(){return(xr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ea(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(i[n]=t[n]);return i}function $o(t){var e=d.useRef(t),n=d.useRef(function(r){e.current&&e.current(r)});return e.current=t,n.current}var ar=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},Wr=function(t){return"touches"in t},Po=function(t){return t&&t.ownerDocument.defaultView||self},tl=function(t,e,n){var r=t.getBoundingClientRect(),i=Wr(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,n):e;return{left:ar((i.pageX-(r.left+Po(t).pageXOffset))/r.width),top:ar((i.pageY-(r.top+Po(t).pageYOffset))/r.height)}},nl=function(t){!Wr(t)&&t.preventDefault()},Ta=P.memo(function(t){var e=t.onMove,n=t.onKey,r=Ea(t,["onMove","onKey"]),i=d.useRef(null),s=$o(e),o=$o(n),a=d.useRef(null),c=d.useRef(!1),l=d.useMemo(function(){var p=function(m){nl(m),(Wr(m)?m.touches.length>0:m.buttons>0)&&i.current?s(tl(i.current,m,a.current)):g(!1)},_=function(){return g(!1)};function g(m){var x=c.current,b=Po(i.current),k=m?b.addEventListener:b.removeEventListener;k(x?"touchmove":"mousemove",p),k(x?"touchend":"mouseup",_)}return[function(m){var x=m.nativeEvent,b=i.current;if(b&&(nl(x),!function(y,v){return v&&!Wr(y)}(x,c.current)&&b)){if(Wr(x)){c.current=!0;var k=x.changedTouches||[];k.length&&(a.current=k[0].identifier)}b.focus(),s(tl(b,x,a.current)),g(!0)}},function(m){var x=m.which||m.keyCode;x<37||x>40||(m.preventDefault(),o({left:x===39?.05:x===37?-.05:0,top:x===40?.05:x===38?-.05:0}))},g]},[o,s]),u=l[0],f=l[1],h=l[2];return d.useEffect(function(){return h},[h]),P.createElement("div",xr({},r,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),mi=function(t){return t.filter(Boolean).join(" ")},Ca=function(t){var e=t.color,n=t.left,r=t.top,i=r===void 0?.5:r,s=mi(["react-colorful__pointer",t.className]);return P.createElement("div",{className:s,style:{top:100*i+"%",left:100*n+"%"}},P.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},Qe=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},E0=function(t){var e=t.s,n=t.v,r=t.a,i=(200-e)*n/100;return{h:Qe(t.h),s:Qe(i>0&&i<200?e*n/100/(i<=100?i:200-i)*100:0),l:Qe(i/2),a:Qe(r,2)}},Ro=function(t){var e=E0(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},Qs=function(t){var e=E0(t);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},T0=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),c=r*(1-(1-e+s)*n),l=s%6;return{r:Qe(255*[r,a,o,o,c,r][l]),g:Qe(255*[c,r,r,a,o,o][l]),b:Qe(255*[o,o,c,r,r,a][l]),a:Qe(i,2)}},C0=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:Qe(60*(a<0?a+6:a)),s:Qe(s?o/s*100:0),v:Qe(s/255*100),a:i}},O0=P.memo(function(t){var e=t.hue,n=t.onChange,r=mi(["react-colorful__hue",t.className]);return P.createElement("div",{className:r},P.createElement(Ta,{onMove:function(i){n({h:360*i.left})},onKey:function(i){n({h:ar(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":Qe(e),"aria-valuemax":"360","aria-valuemin":"0"},P.createElement(Ca,{className:"react-colorful__hue-pointer",left:e/360,color:Ro({h:e,s:100,v:100,a:1})})))}),S0=P.memo(function(t){var e=t.hsva,n=t.onChange,r={backgroundColor:Ro({h:e.h,s:100,v:100,a:1})};return P.createElement("div",{className:"react-colorful__saturation",style:r},P.createElement(Ta,{onMove:function(i){n({s:100*i.left,v:100-100*i.top})},onKey:function(i){n({s:ar(e.s+100*i.left,0,100),v:ar(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Qe(e.s)+"%, Brightness "+Qe(e.v)+"%"},P.createElement(Ca,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:Ro(e)})))}),Oa=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0};function $0(t,e,n){var r=$o(n),i=d.useState(function(){return t.toHsva(e)}),s=i[0],o=i[1],a=d.useRef({color:e,hsva:s});d.useEffect(function(){if(!t.equal(e,a.current.color)){var l=t.toHsva(e);a.current={hsva:l,color:e},o(l)}},[e,t]),d.useEffect(function(){var l;Oa(s,a.current.hsva)||t.equal(l=t.fromHsva(s),a.current.color)||(a.current={hsva:s,color:l},r(l))},[s,t,r]);var c=d.useCallback(function(l){o(function(u){return Object.assign({},u,l)})},[]);return[s,c]}var P1=typeof window<"u"?d.useLayoutEffect:d.useEffect,R1=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},rl=new Map,P0=function(t){P1(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!rl.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,rl.set(e,n);var r=R1();r&&n.setAttribute("nonce",r),e.head.appendChild(n)}},[])},A1=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=Ea(t,["className","colorModel","color","onChange"]),a=d.useRef(null);P0(a);var c=$0(n,i,s),l=c[0],u=c[1],f=mi(["react-colorful",e]);return P.createElement("div",xr({},o,{ref:a,className:f}),P.createElement(S0,{hsva:l,onChange:u}),P.createElement(O0,{hue:l.h,onChange:u,className:"react-colorful__last-control"}))},D1=function(t){var e=t.className,n=t.hsva,r=t.onChange,i={backgroundImage:"linear-gradient(90deg, "+Qs(Object.assign({},n,{a:0}))+", "+Qs(Object.assign({},n,{a:1}))+")"},s=mi(["react-colorful__alpha",e]),o=Qe(100*n.a);return P.createElement("div",{className:s},P.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),P.createElement(Ta,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:ar(n.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},P.createElement(Ca,{className:"react-colorful__alpha-pointer",left:n.a,color:Qs(n)})))},M1=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=Ea(t,["className","colorModel","color","onChange"]),a=d.useRef(null);P0(a);var c=$0(n,i,s),l=c[0],u=c[1],f=mi(["react-colorful",e]);return P.createElement("div",xr({},o,{ref:a,className:f}),P.createElement(S0,{hsva:l,onChange:u}),P.createElement(O0,{hue:l.h,onChange:u}),P.createElement(D1,{hsva:l,onChange:u,className:"react-colorful__last-control"}))},L1={defaultColor:{r:0,g:0,b:0,a:1},toHsva:C0,fromHsva:T0,equal:Oa},I1=function(t){return P.createElement(M1,xr({},t,{colorModel:L1}))},j1={defaultColor:{r:0,g:0,b:0},toHsva:function(t){return C0({r:t.r,g:t.g,b:t.b,a:1})},fromHsva:function(t){return{r:(e=T0(t)).r,g:e.g,b:e.b};var e},equal:Oa},z1=function(t){return P.createElement(A1,xr({},t,{colorModel:j1}))};function vr(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function br(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function N1(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function F1(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(N1(arguments[e]));return t}var U1=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function gi(t,e){var n=B1(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function B1(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=U1.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var H1=[".DS_Store","Thumbs.db"];function V1(t){return vr(this,void 0,void 0,function(){return br(this,function(e){return ts(t)&&W1(t)?[2,K1(t.dataTransfer,t.type)]:Y1(t)?[2,G1(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,X1(t)]:[2,[]]})})}function W1(t){return ts(t.dataTransfer)}function Y1(t){return ts(t)&&ts(t.target)}function ts(t){return typeof t=="object"&&t!==null}function G1(t){return Ao(t.target.files).map(function(e){return gi(e)})}function X1(t){return vr(this,void 0,void 0,function(){var e;return br(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return gi(r)})]}})})}function K1(t,e){return vr(this,void 0,void 0,function(){var n,r;return br(this,function(i){switch(i.label){case 0:return t===null?[2,[]]:t.items?(n=Ao(t.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(Z1))]):[3,2];case 1:return r=i.sent(),[2,il(R0(r))];case 2:return[2,il(Ao(t.files).map(function(s){return gi(s)}))]}})})}function il(t){return t.filter(function(e){return H1.indexOf(e.name)===-1})}function Ao(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function Z1(t){if(typeof t.webkitGetAsEntry!="function")return sl(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?A0(e):sl(t)}function R0(t){return t.reduce(function(e,n){return F1(e,Array.isArray(n)?R0(n):[n])},[])}function sl(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var n=gi(e);return Promise.resolve(n)}function q1(t){return vr(this,void 0,void 0,function(){return br(this,function(e){return[2,t.isDirectory?A0(t):Q1(t)]})})}function A0(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function s(){var o=this;e.readEntries(function(a){return vr(o,void 0,void 0,function(){var c,l,u;return br(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return c=f.sent(),n(c),[3,4];case 3:return l=f.sent(),r(l),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(q1)),i.push(u),s(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function Q1(t){return vr(this,void 0,void 0,function(){return br(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var s=gi(i,t.fullPath);n(s)},function(i){r(i)})})]})})}var J1=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function ol(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function al(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ol(Object(n),!0).forEach(function(r){D0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cl(t,e){return ry(t)||ny(t,e)||ty(t,e)||ey()}function ey(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ty(t,e){if(t){if(typeof t=="string")return ll(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ll(t,e)}}function ll(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ny(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function ry(t){if(Array.isArray(t))return t}var iy="file-invalid-type",sy="file-too-large",oy="file-too-small",ay="too-many-files",cy=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:iy,message:"File type must be ".concat(n)}},ul=function(e){return{code:sy,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},fl=function(e){return{code:oy,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},ly={code:ay,message:"Too many files"};function M0(t,e){var n=t.type==="application/x-moz-file"||J1(t,e);return[n,n?null:cy(e)]}function L0(t,e,n){if(Ir(t.size))if(Ir(e)&&Ir(n)){if(t.size>n)return[!1,ul(n)];if(t.size<e)return[!1,fl(e)]}else{if(Ir(e)&&t.size<e)return[!1,fl(e)];if(Ir(n)&&t.size>n)return[!1,ul(n)]}return[!0,null]}function Ir(t){return t!=null}function uy(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var c=M0(a,n),l=cl(c,1),u=l[0],f=L0(a,r,i),h=cl(f,1),p=h[0];return u&&p})}function ns(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Ai(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function dl(t){t.preventDefault()}function fy(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function dy(t){return t.indexOf("Edge/")!==-1}function hy(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return fy(t)||dy(t)}function Dt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!ns(r)&&a&&a.apply(void 0,[r].concat(s)),ns(r)})}}function py(){return"showOpenFilePicker"in window}function my(t){return t=typeof t=="string"?t.split(","):t,[{description:"everything",accept:Array.isArray(t)?t.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,n){return al(al({},e),{},D0({},n,[]))},{}):{}}]}function gy(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function yy(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}var _y=["children"],xy=["open"],vy=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],by=["refKey","onChange","onClick"];function wy(t){return Ty(t)||Ey(t)||I0(t)||ky()}function ky(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ey(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ty(t){if(Array.isArray(t))return Do(t)}function Js(t,e){return Sy(t)||Oy(t,e)||I0(t,e)||Cy()}function Cy(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I0(t,e){if(t){if(typeof t=="string")return Do(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Do(t,e)}}function Do(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oy(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Sy(t){if(Array.isArray(t))return t}function hl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hl(Object(n),!0).forEach(function(r){Mo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rs(t,e){if(t==null)return{};var n=$y(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $y(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Sa=d.forwardRef(function(t,e){var n=t.children,r=rs(t,_y),i=z0(r),s=i.open,o=rs(i,xy);return d.useImperativeHandle(e,function(){return{open:s}},[s]),P.createElement(d.Fragment,null,n(Pe(Pe({},o),{},{open:s})))});Sa.displayName="Dropzone";var j0={disabled:!1,getFilesFromEvent:V1,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};Sa.defaultProps=j0;Sa.propTypes={children:ve.func,accept:ve.oneOfType([ve.string,ve.arrayOf(ve.string)]),multiple:ve.bool,preventDropOnDocument:ve.bool,noClick:ve.bool,noKeyboard:ve.bool,noDrag:ve.bool,noDragEventsBubbling:ve.bool,minSize:ve.number,maxSize:ve.number,maxFiles:ve.number,disabled:ve.bool,getFilesFromEvent:ve.func,onFileDialogCancel:ve.func,onFileDialogOpen:ve.func,useFsAccessApi:ve.bool,onDragEnter:ve.func,onDragLeave:ve.func,onDragOver:ve.func,onDrop:ve.func,onDropAccepted:ve.func,onDropRejected:ve.func,validator:ve.func};var Lo={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function z0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Pe(Pe({},j0),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,c=e.maxFiles,l=e.onDragEnter,u=e.onDragLeave,f=e.onDragOver,h=e.onDrop,p=e.onDropAccepted,_=e.onDropRejected,g=e.onFileDialogCancel,m=e.onFileDialogOpen,x=e.useFsAccessApi,b=e.preventDropOnDocument,k=e.noClick,y=e.noKeyboard,v=e.noDrag,w=e.noDragEventsBubbling,E=e.validator,T=d.useMemo(function(){return typeof m=="function"?m:pl},[m]),S=d.useMemo(function(){return typeof g=="function"?g:pl},[g]),R=d.useRef(null),z=d.useRef(null),L=d.useReducer(Py,Lo),U=Js(L,2),B=U[0],Y=U[1],G=B.isFocused,V=B.isFileDialogActive,N=B.draggedFiles,H=d.useRef(typeof window<"u"&&window.isSecureContext&&x&&py()),K=function(){!H.current&&V&&setTimeout(function(){if(z.current){var de=z.current.files;de.length||(Y({type:"closeDialog"}),S())}},300)};d.useEffect(function(){return window.addEventListener("focus",K,!1),function(){window.removeEventListener("focus",K,!1)}},[z,V,S,H]);var se=d.useRef([]),M=function(de){R.current&&R.current.contains(de.target)||(de.preventDefault(),se.current=[])};d.useEffect(function(){return b&&(document.addEventListener("dragover",dl,!1),document.addEventListener("drop",M,!1)),function(){b&&(document.removeEventListener("dragover",dl),document.removeEventListener("drop",M))}},[R,b]);var j=d.useCallback(function(J){J.preventDefault(),J.persist(),A(J),se.current=[].concat(wy(se.current),[J.target]),Ai(J)&&Promise.resolve(i(J)).then(function(de){ns(J)&&!w||(Y({draggedFiles:de,isDragActive:!0,type:"setDraggedFiles"}),l&&l(J))})},[i,l,w]),O=d.useCallback(function(J){J.preventDefault(),J.persist(),A(J);var de=Ai(J);if(de&&J.dataTransfer)try{J.dataTransfer.dropEffect="copy"}catch{}return de&&f&&f(J),!1},[f,w]),I=d.useCallback(function(J){J.preventDefault(),J.persist(),A(J);var de=se.current.filter(function(Ve){return R.current&&R.current.contains(Ve)}),Fe=de.indexOf(J.target);Fe!==-1&&de.splice(Fe,1),se.current=de,!(de.length>0)&&(Y({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Ai(J)&&u&&u(J))},[R,u,w]),W=d.useCallback(function(J,de){var Fe=[],Ve=[];J.forEach(function(ot){var rn=M0(ot,n),Bn=Js(rn,2),Ps=Bn[0],Rs=Bn[1],As=L0(ot,o,s),_i=Js(As,2),Ds=_i[0],Ms=_i[1],Ls=E?E(ot):null;if(Ps&&Ds&&!Ls)Fe.push(ot);else{var Is=[Rs,Ms];Ls&&(Is=Is.concat(Ls)),Ve.push({file:ot,errors:Is.filter(function(gd){return gd})})}}),(!a&&Fe.length>1||a&&c>=1&&Fe.length>c)&&(Fe.forEach(function(ot){Ve.push({file:ot,errors:[ly]})}),Fe.splice(0)),Y({acceptedFiles:Fe,fileRejections:Ve,type:"setFiles"}),h&&h(Fe,Ve,de),Ve.length>0&&_&&_(Ve,de),Fe.length>0&&p&&p(Fe,de)},[Y,a,n,o,s,c,h,p,_,E]),D=d.useCallback(function(J){J.preventDefault(),J.persist(),A(J),se.current=[],Ai(J)&&Promise.resolve(i(J)).then(function(de){ns(J)&&!w||W(de,J)}),Y({type:"reset"})},[i,W,w]),X=d.useCallback(function(){if(H.current){Y({type:"openDialog"}),T();var J={multiple:a,types:my(n)};window.showOpenFilePicker(J).then(function(de){return i(de)}).then(function(de){W(de,null),Y({type:"closeDialog"})}).catch(function(de){gy(de)?(S(de),Y({type:"closeDialog"})):yy(de)&&(H.current=!1,z.current&&(z.current.value=null,z.current.click()))});return}z.current&&(Y({type:"openDialog"}),T(),z.current.value=null,z.current.click())},[Y,T,S,x,W,n,a]),oe=d.useCallback(function(J){!R.current||!R.current.isEqualNode(J.target)||(J.key===" "||J.key==="Enter"||J.keyCode===32||J.keyCode===13)&&(J.preventDefault(),X())},[R,X]),ne=d.useCallback(function(){Y({type:"focus"})},[]),re=d.useCallback(function(){Y({type:"blur"})},[]),Z=d.useCallback(function(){k||(hy()?setTimeout(X,0):X())},[k,X]),fe=function(de){return r?null:de},Q=function(de){return y?null:fe(de)},ee=function(de){return v?null:fe(de)},A=function(de){w&&de.stopPropagation()},$=d.useMemo(function(){return function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},de=J.refKey,Fe=de===void 0?"ref":de,Ve=J.role,ot=J.onKeyDown,rn=J.onFocus,Bn=J.onBlur,Ps=J.onClick,Rs=J.onDragEnter,As=J.onDragOver,_i=J.onDragLeave,Ds=J.onDrop,Ms=rs(J,vy);return Pe(Pe(Mo({onKeyDown:Q(Dt(ot,oe)),onFocus:Q(Dt(rn,ne)),onBlur:Q(Dt(Bn,re)),onClick:fe(Dt(Ps,Z)),onDragEnter:ee(Dt(Rs,j)),onDragOver:ee(Dt(As,O)),onDragLeave:ee(Dt(_i,I)),onDrop:ee(Dt(Ds,D)),role:typeof Ve=="string"&&Ve!==""?Ve:"button"},Fe,R),!r&&!y?{tabIndex:0}:{}),Ms)}},[R,oe,ne,re,Z,j,O,I,D,y,v,r]),ie=d.useCallback(function(J){J.stopPropagation()},[]),me=d.useMemo(function(){return function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},de=J.refKey,Fe=de===void 0?"ref":de,Ve=J.onChange,ot=J.onClick,rn=rs(J,by),Bn=Mo({accept:n,multiple:a,type:"file",style:{display:"none"},onChange:fe(Dt(Ve,D)),onClick:fe(Dt(ot,ie)),tabIndex:-1},Fe,z);return Pe(Pe({},Bn),rn)}},[z,n,a,D,r]),Ee=N.length,$e=Ee>0&&uy({files:N,accept:n,minSize:o,maxSize:s,multiple:a,maxFiles:c}),pt=Ee>0&&!$e;return Pe(Pe({},B),{},{isDragAccept:$e,isDragReject:pt,isFocused:G&&!r,getRootProps:$,getInputProps:me,rootRef:R,inputRef:z,open:fe(X)})}function Py(t,e){switch(e.type){case"focus":return Pe(Pe({},t),{},{isFocused:!0});case"blur":return Pe(Pe({},t),{},{isFocused:!1});case"openDialog":return Pe(Pe({},Lo),{},{isFileDialogActive:!0});case"closeDialog":return Pe(Pe({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=e.isDragActive,r=e.draggedFiles;return Pe(Pe({},t),{},{draggedFiles:r,isDragActive:n});case"setFiles":return Pe(Pe({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Pe({},Lo);default:return t}}function pl(){}function Ry(t){let e;const n=new Set,r=(l,u)=>{const f=typeof l=="function"?l(e):l;if(f!==e){const h=e;e=u?f:Object.assign({},e,f),n.forEach(p=>p(e,h))}},i=()=>e,s=(l,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=u(e);function p(){const _=u(e);if(!f(h,_)){const g=h;l(h=_,g)}}return n.add(p),()=>n.delete(p)},c={setState:r,getState:i,subscribe:(l,u,f)=>u||f?s(l,u,f):(n.add(l),()=>n.delete(l)),destroy:()=>n.clear()};return e=t(r,i,c),c}const Ay=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ml=Ay?d.useEffect:d.useLayoutEffect;function Dy(t){const e=typeof t=="function"?Ry(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=d.useReducer(m=>m+1,0),o=e.getState(),a=d.useRef(o),c=d.useRef(r),l=d.useRef(i),u=d.useRef(!1),f=d.useRef();f.current===void 0&&(f.current=r(o));let h,p=!1;(a.current!==o||c.current!==r||l.current!==i||u.current)&&(h=r(o),p=!i(f.current,h)),ml(()=>{p&&(f.current=h),a.current=o,c.current=r,l.current=i,u.current=!1});const _=d.useRef(o);ml(()=>{const m=()=>{try{const b=e.getState(),k=c.current(b);l.current(f.current,k)||(a.current=b,f.current=k,s())}catch{u.current=!0,s()}},x=e.subscribe(m);return e.getState()!==_.current&&m(),x},[]);const g=p?h:f.current;return d.useDebugValue(g),g};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const My=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let f=o(r.getState());l=h=>{const p=o(h);if(!u(f,p)){const _=f;a(f=p,_)}},c!=null&&c.fireImmediately&&a(f,f)}return i(l)},t(e,n,r)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Ly=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Iy=Ly;function gl(t){return Iy(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}var N0=function(e){var n,r;return!(gl(e)===!1||(n=e.constructor,typeof n!="function")||(r=n.prototype,gl(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var jy=N0,$a=function(e){return jy(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var zy=function(e,n,r){for(var i in e)if(n.call(r,e[i],i,e)===!1)break},Ny=$a,Fy=zy;function F0(t,e){for(var n=arguments.length,r=0;++r<n;){var i=arguments[r];Io(i)&&Fy(i,Uy,t)}return t}function Uy(t,e){if(By(e)){var n=this[e];Io(t)&&Io(n)?F0(n,t):this[e]=t}}function Io(t){return Ny(t)&&!Array.isArray(t)}function By(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var Hy=F0;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Vy=function(t,e,n,r,i){if(!Wy(t)||!e)return t;if(e=Di(e),n&&(e+="."+Di(n)),r&&(e+="."+Di(r)),i&&(e+="."+Di(i)),e in t)return t[e];for(var s=e.split("."),o=s.length,a=-1;t&&++a<o;){for(var c=s[a];c[c.length-1]==="\\";)c=c.slice(0,-1)+"."+s[++a];t=t[c]}return t};function Wy(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function Di(t){return t?Array.isArray(t)?t.join("."):t:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Yy=function(t,e){if(t===null||typeof t>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return t;for(var n=Object.prototype.propertyIsEnumerable,r=Object(t),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),c=0;c<a.length;c++){var l=a[c];n.call(o,l)&&(r[l]=o[l])}return r},Gy=$a,Xy=Yy,Ky=Object.assign||function(t){if(t===null||typeof t>"u")throw new TypeError("Cannot convert undefined or null to object");yl(t)||(t={});for(var e=1;e<arguments.length;e++){var n=arguments[e];qy(n)&&(n=Qy(n)),yl(n)&&(Zy(t,n),Xy(t,n))}return t};function Zy(t,e){for(var n in e)Jy(e,n)&&(t[n]=e[n])}function qy(t){return t&&typeof t=="string"}function Qy(t){var e={};for(var n in t)e[n]=t[n];return e}function yl(t){return t&&typeof t=="object"||Gy(t)}function Jy(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var e_=Ky,t_=function(t,e,n){if(typeof t!="string")throw new TypeError("expected a string");typeof e=="function"&&(n=e,e=null),typeof e=="string"&&(e={sep:e});var r=e_({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],c=[""],l=r.sep,u=t.length,f=-1,h;function p(){if(s&&a.length)return s[a[a.length-1]]}for(;++f<u;){var _=t[f],g=t[f+1],m={val:_,idx:f,arr:c,str:t};if(o.push(m),_==="\\"){m.val=r_(r,t,f)===!0?_+g:g,m.escaped=!0,typeof n=="function"&&n(m),c[c.length-1]+=m.val,f++;continue}if(s&&s[_]){a.push(_);var x=p(),b=f+1;if(t.indexOf(x,b+1)!==-1)for(;a.length&&b<u;){var k=t[++b];if(k==="\\"){k++;continue}if(i.indexOf(k)!==-1){b=jo(t,k,b+1);continue}if(x=p(),a.length&&t.indexOf(x,b+1)===-1)break;if(s[k]){a.push(k);continue}x===k&&a.pop()}if(h=b,h===-1){c[c.length-1]+=_;continue}_=t.slice(f,h+1),m.val=_,m.idx=f=h}if(i.indexOf(_)!==-1){if(h=jo(t,_,f+1),h===-1){c[c.length-1]+=_;continue}n_(_,r)===!0?_=t.slice(f,h+1):_=t.slice(f+1,h),m.val=_,m.idx=f=h}if(typeof n=="function"&&(n(m,o),_=m.val,f=m.idx),m.val===l&&m.split!==!1){c.push("");continue}c[c.length-1]+=m.val}return c};function jo(t,e,n,r){var i=t.indexOf(e,n);return t.charAt(i-1)==="\\"?jo(t,e,i+1):i}function n_(t,e){return e.keepDoubleQuotes===!0&&t==='"'||e.keepSingleQuotes===!0&&t==="'"?!0:e.keepQuotes}function r_(t,e,n){return typeof t.keepEscaping=="function"?t.keepEscaping(e,n):t.keepEscaping===!0||e[n+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var i_=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},_l=i_,s_=function(e){_l(e)||(e={});for(var n=arguments.length,r=1;r<n;r++){var i=arguments[r];_l(i)&&o_(e,i)}return e};function o_(t,e){for(var n in e)a_(e,n)&&(t[n]=e[n])}function a_(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var c_=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var l_=t_,u_=s_,xl=N0,vl=c_,f_=function(t,e,n){if(!vl(t)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return t;for(var r=l_(e,{sep:".",brackets:!0}).filter(d_),i=r.length,s=-1,o=t;++s<i;){var a=r[s];if(s!==i-1){vl(o[a])||(o[a]={}),o=o[a];continue}xl(o[a])&&xl(n)?o[a]=u_({},o[a],n):o[a]=n}return t};function d_(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var eo=$a,bl=Hy,h_=Vy,wl=f_,p_=function(e,n,r){if(!eo(e))throw new TypeError("expected an object");if(typeof n!="string"||r==null)return bl.apply(null,arguments);if(typeof r=="string")return wl(e,n,r),e;var i=h_(e,n);return eo(r)&&eo(i)&&(r=bl({},i,r)),wl(e,n,r),e};const m_=_d(p_),Pa=(...t)=>t.filter(Boolean).join(".");function g_(t){const e=t.split(".");return[e.pop(),e.join(".")||void 0]}function y_(t,e){return Object.entries(Wm(t,e)).reduce((n,[,{value:r,disabled:i,key:s}])=>(n[s]=i?void 0:r,n),{})}function __(t,e){const n=d.useRef();return(e?ei:di)(t,n.current)||(n.current=t),n.current}function U0(t,e){return d.useMemo(t,__(e,!0))}function x_(t){const e=d.useRef(null),n=d.useRef(null),r=d.useRef(!0);return d.useLayoutEffect(()=>{t||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),d.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{t&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=n.current.getBoundingClientRect();return s.style.height=a+"px",t||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[t]),{wrapperRef:e,contentRef:n}}const v_=t=>{const[e,n]=d.useState(t.getVisiblePaths());return d.useEffect(()=>{n(t.getVisiblePaths());const r=t.useStore.subscribe(t.getVisiblePaths,n,{equalityFn:di});return()=>r()},[t]),e};function b_(t,e,n){return t.useStore(i=>{const s=le(le({},n),i.data);return y_(s,e)},di)}function B0(t=3){const e=d.useRef(null),n=d.useRef(null),[r,i]=d.useState(!1),s=d.useCallback(()=>i(!0),[]),o=d.useCallback(()=>i(!1),[]);return d.useLayoutEffect(()=>{if(r){const{bottom:a,top:c,left:l}=e.current.getBoundingClientRect(),{height:u}=n.current.getBoundingClientRect(),f=a+u>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=l+"px",f==="down"?n.current.style.top=a+t+"px":n.current.style.bottom=window.innerHeight-c+t+"px"}},[t,r]),{popinRef:e,wrapperRef:n,shown:r,show:s,hide:o}}S1([$1]);const w_={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};et.extend({color:()=>t=>Ze(t).isValid()});const k_=t=>et().color().test(t);function H0(t,{format:e,hasAlpha:n,isString:r}){const i=w_[e]+(r&&e!=="hex"?"String":""),s=t[i]();return typeof s=="object"&&!n?Ym(s,["a"]):s}const V0=(t,e)=>{const n=Ze(t);if(!n.isValid())throw Error("Invalid color");return H0(n,e)},E_=(t,e)=>H0(Ze(t),le(le({},e),{},{isString:!0,format:"hex"})),T_=({value:t})=>{const e=O1(t),n=e==="name"?"hex":e,r=typeof t=="object"?"a"in t:e==="hex"&&t.length===8||/^(rgba)|(hsla)|(hsva)/.test(t),i={format:n,hasAlpha:r,isString:typeof t=="string"};return{value:V0(t,i),settings:i}};var C_=Object.freeze({__proto__:null,schema:k_,sanitize:V0,format:E_,normalize:T_});const O_=ae("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),S_=ae("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),$_=ae("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function kl(t,e){return e!=="rgb"?Ze(t).toRgb():t}function P_({value:t,displayValue:e,settings:n,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=Ke(),{format:o,hasAlpha:a}=n,{popinRef:c,wrapperRef:l,shown:u,show:f,hide:h}=B0(),p=d.useRef(0),[_,g]=d.useState(()=>kl(t,o)),m=a?I1:z1,x=()=>{g(kl(t,o)),f(),i()},b=()=>{h(),s(),window.clearTimeout(p.current)},k=()=>{p.current=window.setTimeout(b,500)};return d.useEffect(()=>()=>window.clearTimeout(p.current),[]),P.createElement(P.Fragment,null,P.createElement(O_,{ref:c,active:u,onClick:()=>x(),style:{color:e}}),u&&P.createElement(ba,null,P.createElement(f0,{onPointerUp:b}),P.createElement($_,{ref:l,onMouseEnter:()=>window.clearTimeout(p.current),onMouseLeave:y=>y.buttons===0&&k()},P.createElement(m,{color:_,onChange:r}))))}function R_(){const{value:t,displayValue:e,label:n,onChange:r,onUpdate:i,settings:s}=Ke();return P.createElement(kt,{input:!0},P.createElement($t,null,n),P.createElement(S_,null,P.createElement(P_,{value:t,displayValue:e,onChange:r,onUpdate:i,settings:s}),P.createElement(va,{value:e,onChange:r,onUpdate:i})))}var A_=le({component:R_},C_);function D_(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Ke();return P.createElement(kt,{input:!0},P.createElement($t,null,t),P.createElement(ka,{value:e,settings:r,onUpdate:n}))}var M_=le({component:D_},x0(["x","y","z"]));const L_=ae("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),I_=ae("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function j_({value:t,settings:e,onUpdate:n}){const r=d.useRef(),i=d.useRef(0),s=d.useRef(0),o=d.useRef(1),[a,c]=d.useState(!1),[l,u]=d.useState(!1),[f,h]=h0(),p=d.useRef(null),_=d.useRef(null);d.useLayoutEffect(()=>{if(a){const{top:L,left:U,width:B,height:Y}=p.current.getBoundingClientRect();_.current.style.left=U+B/2+"px",_.current.style.top=L+Y/2+"px"}},[a]);const{keys:[g,m],joystick:x}=e,b=x==="invertY"?1:-1,{[g]:{step:k},[m]:{step:y}}=e,v=Kt("sizes","joystickWidth"),w=Kt("sizes","joystickHeight"),E=parseFloat(v)*.8/2,T=parseFloat(w)*.8/2,S=d.useCallback(()=>{r.current||(u(!0),i.current&&h({x:i.current*E}),s.current&&h({y:s.current*-T}),r.current=window.setInterval(()=>{n(L=>{const U=k*i.current*o.current,B=b*y*s.current*o.current;return Array.isArray(L)?{[g]:L[0]+U,[m]:L[1]+B}:{[g]:L[g]+U,[m]:L[m]+B}})},16))},[E,T,n,h,k,y,g,m,b]),R=d.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,u(!1)},[]);d.useEffect(()=>{function L(U){o.current=qu(U)}return window.addEventListener("keydown",L),window.addEventListener("keyup",L),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",L),window.removeEventListener("keyup",L)}},[]);const z=pi(({first:L,active:U,delta:[B,Y],movement:[G,V]})=>{L&&c(!0);const N=mn(G,-E,E),H=mn(V,-T,T);i.current=Math.abs(G)>Math.abs(N)?Math.sign(G-N):0,s.current=Math.abs(V)>Math.abs(H)?Math.sign(H-V):0;let K=t[g],se=t[m];U?(i.current||(K+=B*k*o.current,h({x:N})),s.current||(se-=b*Y*y*o.current,h({y:H})),i.current||s.current?S():R(),n({[g]:K,[m]:se})):(c(!1),i.current=0,s.current=0,h({x:0,y:0}),R())});return P.createElement(L_,Ie({ref:p},z()),a&&P.createElement(ba,null,P.createElement(I_,{ref:_,isOutOfBounds:l},P.createElement("div",null),P.createElement("span",{ref:f}))))}const z_=ae("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function N_(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Ke();return P.createElement(kt,{input:!0},P.createElement($t,null,t),P.createElement(z_,{withJoystick:!!r.joystick},r.joystick&&P.createElement(j_,{value:e,settings:r,onUpdate:n}),P.createElement(ka,{value:e,settings:r,onUpdate:n})))}const F_=["joystick"],W0=x0(["x","y"]),U_=t=>{let{joystick:e=!0}=t,n=ke(t,F_);const{value:r,settings:i}=W0.normalize(n);return{value:r,settings:le(le({},i),{},{joystick:e})}};var B_=le(le({component:N_},W0),{},{normalize:U_});const H_=t=>{if(t!==void 0){if(t instanceof File)try{return URL.createObjectURL(t)}catch{return}if(typeof t=="string"&&t.indexOf("blob:")===0)return t;throw Error("Invalid image format [undefined | blob | File].")}},V_=(t,e)=>typeof e=="object"&&"image"in e,W_=({image:t})=>({value:t});var Y_=Object.freeze({__proto__:null,sanitize:H_,schema:V_,normalize:W_});const G_=ae("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),X_=ae("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),K_=ae("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),Z_=ae("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),q_=ae("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Q_=ae("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function J_(){const{label:t,value:e,onUpdate:n,disabled:r}=Ke(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:c}=B0(),l=d.useCallback(_=>{_.length&&n(_[0])},[n]),u=d.useCallback(_=>{_.stopPropagation(),n(void 0)},[n]),{getRootProps:f,getInputProps:h,isDragAccept:p}=z0({maxFiles:1,accept:"image/*",onDrop:l,disabled:r});return P.createElement(kt,{input:!0},P.createElement($t,null,t),P.createElement(G_,null,P.createElement(K_,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:c,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&P.createElement(ba,null,P.createElement(f0,{onPointerUp:c,style:{cursor:"pointer"}}),P.createElement(Z_,{ref:s,style:{backgroundImage:`url(${e})`}})),P.createElement(X_,f({isDragAccept:p}),P.createElement("input",h()),P.createElement(q_,null,p?"drop image":"click or drop")),P.createElement(Q_,{onClick:u,disabled:!e})))}var ex=le({component:J_},Y_);const El=et().number(),tx=(t,e)=>et().array().length(2).every.number().test(t)&&et().schema({min:El,max:El}).test(e),is=t=>({min:t[0],max:t[1]}),Y0=(t,{bounds:[e,n]},r)=>{const i=Array.isArray(t)?is(t):t,s={min:r[0],max:r[1]},{min:o,max:a}=le(le({},s),i);return[mn(Number(o),e,Math.max(e,a)),mn(Number(a),Math.min(n,o),n)]},nx=({value:t,min:e,max:n})=>{const r={min:e,max:n},i=_0(is(t),{min:r,max:r}),s=[e,n],o=le(le({},i),{},{bounds:s});return{value:Y0(is(t),o,t),settings:o}};var rx=Object.freeze({__proto__:null,schema:tx,format:is,sanitize:Y0,normalize:nx});const ix=["value","bounds","onDrag"],sx=["bounds"],ox=ae("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function ax(t){let{value:e,bounds:[n,r],onDrag:i}=t,s=ke(t,ix);const o=d.useRef(null),a=d.useRef(null),c=d.useRef(null),l=d.useRef(0),u=Kt("sizes","scrubberWidth"),f=pi(({event:_,first:g,xy:[m],movement:[x],memo:b={}})=>{if(g){const{width:y,left:v}=o.current.getBoundingClientRect();l.current=y-parseFloat(u);const w=(_==null?void 0:_.target)===a.current||(_==null?void 0:_.target)===c.current;b.pos=Ji((m-v)/y,n,r);const E=Math.abs(b.pos-e.min)-Math.abs(b.pos-e.max);b.key=E<0||E===0&&b.pos<=e.min?"min":"max",w&&(b.pos=e[b.key])}const k=b.pos+Ji(x/l.current,0,r-n);return i({[b.key]:Mg(k,s[b.key])}),b}),h=`calc(${Qi(e.min,n,r)} * (100% - ${u} - 8px) + 4px)`,p=`calc(${1-Qi(e.max,n,r)} * (100% - ${u} - 8px) + 4px)`;return P.createElement(m0,Ie({ref:o},f()),P.createElement(p0,null,P.createElement(g0,{style:{left:h,right:p}})),P.createElement(To,{position:"left",ref:a,style:{left:h}}),P.createElement(To,{position:"right",ref:c,style:{right:p}}))}function cx(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Ke(),i=ke(r,sx);return P.createElement(P.Fragment,null,P.createElement(kt,{input:!0},P.createElement($t,null,t),P.createElement(ox,null,P.createElement(ax,Ie({value:e},r,{onDrag:n})),P.createElement(ka,{value:e,settings:i,onUpdate:n,innerLabelTrim:0}))))}var lx=le({component:cx},rx);const ux=()=>{const t=new Map;return{on:(e,n)=>{let r=t.get(e);r===void 0&&(r=new Set,t.set(e,r)),r.add(n)},off:(e,n)=>{const r=t.get(e);r!==void 0&&(r.delete(n),r.size===0&&t.delete(e))},emit:(e,...n)=>{const r=t.get(e);if(r!==void 0)for(const i of r)i(...n)}}},fx=["type","value"],dx=["onChange","transient","onEditStart","onEditEnd"],hx=function(){const e=Dy(My(()=>({data:{}}))),n=ux();this.storeId=Vm(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),c=[];Object.entries(r).forEach(([u,f])=>{f.render&&a.some(h=>h.indexOf(u)===0)&&!f.render(this.get)&&c.push(u+".")});const l=[];return i.forEach(u=>{u in o&&o[u].__refCount>0&&c.every(f=>u.indexOf(f)===-1)&&(!o[u].render||o[u].render(this.get))&&l.push(u)}),l},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const c=a.data;return o.forEach(l=>{if(l in c){const u=c[l];u.__refCount--,u.__refCount===0&&u.type in Ct&&delete c[l]}}),{data:c}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(c=>{const l=c.data;return Object.entries(o).forEach(([u,f])=>{let h=l[u];if(h){const{type:p,value:_}=f,g=ke(f,fx);p!==h.type?Xt(Re.INPUT_TYPE_OVERRIDE,p):((h.__refCount===0||a)&&Object.assign(h,g),h.__refCount++)}else l[u]=le(le({},f),{},{__refCount:1})}),{data:l}})},this.setValueAtPath=(o,a,c)=>{e.setState(l=>{const u=l.data;return Gc(u[o],a,o,this,c),{data:u}})},this.setSettingsAtPath=(o,a)=>{e.setState(c=>{const l=c.data;return l[o].settings=le(le({},l[o].settings),a),{data:l}})},this.disableInputAtPath=(o,a)=>{e.setState(c=>{const l=c.data;return l[o].disabled=a,{data:l}})},this.set=(o,a)=>{e.setState(c=>{const l=c.data;return Object.entries(o).forEach(([u,f])=>{try{Gc(l[u],f,void 0,void 0,a)}catch{}}),{data:l}})},this.getInput=o=>{try{return this.getData()[o]}catch{Xt(Re.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{n.emit(`onEditStart:${o}`,this.get(o),o,le(le({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{n.emit(`onEditEnd:${o}`,this.get(o),o,le(le({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const c=`onEditStart:${o}`;return n.on(c,a),()=>n.off(c,a)},this.subscribeToEditEnd=(o,a)=>{const c=`onEditEnd:${o}`;return n.on(c,a),()=>n.off(c,a)};const s=(o,a,c)=>{const l={};return Object.entries(o).forEach(([u,f])=>{if(u==="")return Xt(Re.EMPTY_KEY);let h=Pa(a,u);if(f.type===Ct.FOLDER){const p=s(f.schema,h,c);Object.assign(l,p),h in r||(r[h]=f.settings)}else if(u in c)Xt(Re.DUPLICATE_KEYS,u,h,c[u].path);else{const p=Qm(f,u,h,l);if(p){const{type:_,options:g,input:m}=p,{onChange:x,transient:b,onEditStart:k,onEditEnd:y}=g,v=ke(g,dx);l[h]=le(le(le({type:_},v),m),{},{fromPanel:!0}),c[u]={path:h,onChange:x,transient:b,onEditStart:k,onEditEnd:y}}else Xt(Re.UNKNOWN_INPUT,h,f)}}),l};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},G0=new hx,px={collapsed:!1};function mx(t,e){return{type:Ct.FOLDER,schema:t,settings:le(le({},px),e)}}const Tl=t=>"__levaInput"in t,gx=(t,e)=>{const n={},r=e?e.toLowerCase():null;return t.forEach(i=>{const[s,o]=g_(i);(!r||s.toLowerCase().indexOf(r)>-1)&&m_(n,o,{[s]:{__levaInput:!0,path:i}})}),n},yx=["type","label","path","valueKey","value","settings","setValue","disabled"];function _x(t){let{type:e,label:n,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:c}=t,l=ke(t,yx);const{displayValue:u,onChange:f,onUpdate:h}=d0({type:e,value:s,settings:o,setValue:a}),p=jn[e].component;return p?P.createElement(n0.Provider,{value:le({key:i,path:r,id:""+r,label:n,displayValue:u,value:s,onChange:f,onUpdate:h,settings:o,setValue:a,disabled:c},l)},P.createElement(_g,{disabled:c},P.createElement(p,null))):(Xt(Re.NO_COMPONENT_FOR_TYPE,e,r),null)}const xx=ae("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function vx({onClick:t,settings:e,label:n}){const r=hi();return P.createElement(kt,null,P.createElement(xx,{disabled:e.disabled,onClick:()=>t(r.get)},n))}const bx=ae("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),wx=ae("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),kx=({label:t,opts:e})=>{let n=typeof t=="string"&&t.trim()===""?null:t,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(n=e.label),r=e.opts),{label:n,opts:r}};function Ex(t){const{label:e,opts:n}=kx(t),r=hi();return P.createElement(kt,{input:!!e},e&&P.createElement($t,null,e),P.createElement(bx,null,Object.entries(n).map(([i,s])=>P.createElement(wx,{key:i,onClick:()=>s(r.get)},i))))}const Tx=ae("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),X0=100;function Cx(t,e){t.push(e),t.length>X0&&t.shift()}const Ox=d.forwardRef(function({initialValue:t},e){const n=Kt("colors","highlight3"),r=Kt("colors","elevation2"),i=Kt("colors","highlight1"),[s,o]=d.useMemo(()=>[Ze(i).alpha(.4).toRgbString(),Ze(i).alpha(.1).toRgbString()],[i]),a=d.useRef([t]),c=d.useRef(t),l=d.useRef(t),u=d.useRef(),f=d.useCallback((_,g)=>{if(!_)return;const{width:m,height:x}=_,b=new Path2D,k=m/X0,y=x*.05;for(let E=0;E<a.current.length;E++){const T=Qi(a.current[E],c.current,l.current),S=k*E,R=x-T*(x-y*2)-y;b.lineTo(S,R)}g.clearRect(0,0,m,x);const v=new Path2D(b);v.lineTo(k*(a.current.length+1),x),v.lineTo(0,x),v.lineTo(0,0);const w=g.createLinearGradient(0,0,0,x);w.addColorStop(0,s),w.addColorStop(1,o),g.fillStyle=w,g.fill(v),g.strokeStyle=r,g.lineJoin="round",g.lineWidth=14,g.stroke(b),g.strokeStyle=n,g.lineWidth=2,g.stroke(b)},[n,r,s,o]),[h,p]=Og(f);return d.useImperativeHandle(e,()=>({frame:_=>{(c.current===void 0||_<c.current)&&(c.current=_),(l.current===void 0||_>l.current)&&(l.current=_),Cx(a.current,_),u.current=requestAnimationFrame(()=>f(h.current,p.current))}}),[h,p,f]),d.useEffect(()=>()=>cancelAnimationFrame(u.current),[]),P.createElement(Tx,{ref:h})}),Cl=t=>Number.isFinite(t)?t.toPrecision(2):t.toString(),Sx=d.forwardRef(function({initialValue:t},e){const[n,r]=d.useState(Cl(t));return d.useImperativeHandle(e,()=>({frame:i=>r(Cl(i))}),[]),P.createElement("div",null,n)});function Ol(t){return typeof t=="function"?t():t.current}function $x({label:t,objectOrFn:e,settings:n}){const r=d.useRef(),i=d.useRef(Ol(e));return d.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(Ol(e))},n.interval);return()=>window.clearInterval(s)},[e,n.interval]),P.createElement(kt,{input:!0},P.createElement($t,{align:"top"},t),n.graph?P.createElement(Ox,{ref:r,initialValue:i.current}):P.createElement(Sx,{ref:r,initialValue:i.current}))}const Px=["type","label","key"],Rx={[Ct.BUTTON]:vx,[Ct.BUTTON_GROUP]:Ex,[Ct.MONITOR]:$x},Ax=P.memo(({path:t})=>{const[e,{set:n,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=$g(t);if(!e)return null;const{type:c,label:l,key:u}=e,f=ke(e,Px);if(c in Ct){const h=Rx[c];return P.createElement(h,Ie({label:l,path:t},f))}return c in jn?P.createElement(_x,Ie({key:s+t,type:c,label:l,storeId:s,path:t,valueKey:u,setValue:n,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},f)):(Im(Re.UNSUPPORTED_INPUT,c,t),null)});function Dx({toggle:t,toggled:e,name:n}){return P.createElement(mg,{onClick:()=>t()},P.createElement(wa,{toggled:e}),P.createElement("div",null,n))}const Mx=({name:t,path:e,tree:n})=>{const r=hi(),i=Pa(e,t),{collapsed:s,color:o}=r.getFolderSettings(i),[a,c]=d.useState(!s),l=d.useRef(null),u=Kt("colors","folderWidgetColor"),f=Kt("colors","folderTextColor");return d.useLayoutEffect(()=>{l.current.style.setProperty("--leva-colors-folderWidgetColor",o||u),l.current.style.setProperty("--leva-colors-folderTextColor",o||f)},[o,u,f]),P.createElement(es,{ref:l},P.createElement(Dx,{name:t,toggled:a,toggle:()=>c(h=>!h)}),P.createElement(K0,{parent:i,tree:n,toggled:a}))},K0=P.memo(({isRoot:t=!1,fill:e=!1,flat:n=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=x_(s),c=hi(),l=([f,h])=>{var p;return(Tl(h)?(p=c.getInput(h.path))===null||p===void 0?void 0:p.order:c.getFolderSettings(Pa(r,f)).order)||0},u=Object.entries(i).sort((f,h)=>l(f)-l(h));return P.createElement(ko,{ref:o,isRoot:t,fill:e,flat:n},P.createElement(c0,{ref:a,isRoot:t,toggled:s},u.map(([f,h])=>Tl(h)?P.createElement(Ax,{key:h.path,valueKey:h.valueKey,path:h.path}):P.createElement(Mx,{key:f,name:f,path:r,tree:h}))))}),Lx=ae("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${u0}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),Z0=40,ss=ae("i",{$flexCenter:"",width:Z0,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Ix=ae("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),jx=ae("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${ss}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),zx=ae("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Nx=ae("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:Z0}}}}),Fx=P.forwardRef(({setFilter:t,toggle:e},n)=>{const[r,i]=d.useState(""),s=d.useMemo(()=>Zu(t,250),[t]),o=()=>{t(""),i("")},a=c=>{const l=c.currentTarget.value;e(!0),i(l)};return d.useEffect(()=>{s(r)},[r,s]),P.createElement(P.Fragment,null,P.createElement(zx,{ref:n,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:c=>c.stopPropagation(),onChange:a}),P.createElement(ss,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Ux({setFilter:t,onDrag:e,onDragStart:n,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:c,from:l}){const[u,f]=d.useState(!1),h=d.useRef(null);d.useEffect(()=>{var _,g;u?(_=h.current)===null||_===void 0||_.focus():(g=h.current)===null||g===void 0||g.blur()},[u]);const p=pi(({offset:[_,g],first:m,last:x})=>{e({x:_,y:g}),m&&n({x:_,y:g}),x&&r({x:_,y:g})},{filterTaps:!0,from:({offset:[_,g]})=>[(l==null?void 0:l.x)||_,(l==null?void 0:l.y)||g]});return d.useEffect(()=>{const _=g=>{g.key==="L"&&g.shiftKey&&g.metaKey&&f(m=>!m)};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[]),P.createElement(P.Fragment,null,P.createElement(Ix,{mode:a?"drag":void 0},P.createElement(ss,{active:!s,onClick:()=>i()},P.createElement(wa,{toggled:s,width:12,height:8})),P.createElement(Nx,Ie({},a?p():{},{drag:a,filterEnabled:c}),o===void 0&&a?P.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},P.createElement("circle",{cx:"2",cy:"2",r:"2"}),P.createElement("circle",{cx:"14",cy:"2",r:"2"}),P.createElement("circle",{cx:"26",cy:"2",r:"2"}),P.createElement("circle",{cx:"2",cy:"12",r:"2"}),P.createElement("circle",{cx:"14",cy:"12",r:"2"}),P.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),c&&P.createElement(ss,{active:u,onClick:()=>f(_=>!_)},P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},P.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),P.createElement(jx,{toggled:u},P.createElement(Fx,{ref:h,setFilter:t,toggle:i})))}const Bx=["store","hidden","theme","collapsed"];function Hx(t){let{store:e,hidden:n=!1,theme:r,collapsed:i=!1}=t,s=ke(t,Bx);const o=U0(()=>lg(r),[r]),[a,c]=d.useState(!i),l=typeof i=="object"?!i.collapsed:a,u=d.useMemo(()=>typeof i=="object"?f=>{typeof f=="function"?i.onChange(!f(!i.collapsed)):i.onChange(!f)}:c,[i]);return!e||n?null:P.createElement(xa.Provider,{value:o},P.createElement(Vx,Ie({store:e},s,{toggled:l,setToggle:u,rootClass:o.className})))}const Vx=P.memo(({store:t,rootClass:e,fill:n=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:c,setToggle:l})=>{var u,f;const h=v_(t),[p,_]=d.useState(""),g=d.useMemo(()=>gx(h,p),[h,p]),[m,x]=h0(),b=i||h.length>0,k=typeof o=="object"&&o.title||void 0,y=typeof o=="object"&&(u=o.drag)!==null&&u!==void 0?u:!0,v=typeof o=="object"&&(f=o.filter)!==null&&f!==void 0?f:!0,w=typeof o=="object"&&o.position||void 0,E=typeof o=="object"&&o.onDrag||void 0,T=typeof o=="object"&&o.onDragStart||void 0,S=typeof o=="object"&&o.onDragEnd||void 0;return P.useEffect(()=>{x({x:w==null?void 0:w.x,y:w==null?void 0:w.y})},[w,x]),cg(),P.createElement(i0.Provider,{value:{hideCopyButton:a}},P.createElement(Lx,{ref:m,className:e,fill:n,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:b?"block":"none"}},o&&P.createElement(Ux,{onDrag:R=>{x(R),E==null||E(R)},onDragStart:R=>T==null?void 0:T(R),onDragEnd:R=>S==null?void 0:S(R),setFilter:_,toggle:R=>l(z=>R??!z),toggled:c,title:k,drag:y,filterEnabled:v,from:w}),b&&P.createElement(r0.Provider,{value:t},P.createElement(K0,{isRoot:!0,fill:n,flat:r,tree:g,toggled:c}))))}),Wx=["isRoot"];let os=!1,On=null;function q0(t){let{isRoot:e=!1}=t,n=ke(t,Wx);return d.useEffect(()=>(os=!0,!e&&On&&(On.remove(),On=null),()=>{e||(os=!1)}),[e]),P.createElement(Hx,Ie({store:G0},n))}function Yx(t){d.useEffect(()=>{t&&!os&&(On||(On=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(On),eg(P.createElement(q0,{isRoot:!0}),On))),os=!0)},[t])}function Gx(t,e,n,r,i){let s,o,a,c,l;return typeof t=="string"?(o=t,s=e,Array.isArray(n)?l=n:n&&("store"in n?(c=n,l=r):(a=n,Array.isArray(r)?l=r:(c=r,l=i)))):(s=t,Array.isArray(e)?l=e:(c=e,l=n)),{schema:s,folderName:o,folderSettings:a,hookSettings:c,deps:l||[]}}function Q0(t,e,n,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:c,deps:l}=Gx(t,e,n,r,i),u=typeof o=="function",f=d.useRef(!1),h=d.useRef(!0),p=U0(()=>{f.current=!0;const z=typeof o=="function"?o():o;return s?{[s]:mx(z,a)}:z},l),_=!(c!=null&&c.store);Yx(_);const[g]=d.useState(()=>(c==null?void 0:c.store)||G0),[m,x]=d.useMemo(()=>g.getDataFromSchema(p),[g,p]),[b,k,y,v,w]=d.useMemo(()=>{const z=[],L=[],U={},B={},Y={};return Object.values(x).forEach(({path:G,onChange:V,onEditStart:N,onEditEnd:H,transient:K})=>{z.push(G),V?(U[G]=V,K||L.push(G)):L.push(G),N&&(B[G]=N),H&&(Y[G]=H)}),[z,L,U,B,Y]},[x]),E=d.useMemo(()=>g.orderPaths(b),[b,g]),T=b_(g,k,m),S=d.useCallback(z=>{const L=Object.entries(z).reduce((U,[B,Y])=>Object.assign(U,{[x[B].path]:Y}),{});g.set(L,!1)},[g,x]),R=d.useCallback(z=>g.get(x[z].path),[g,x]);return d.useEffect(()=>{const z=!h.current&&f.current;return g.addData(m,z),h.current=!1,f.current=!1,()=>g.disposePaths(E)},[g,E,m]),d.useEffect(()=>{const z=[];return Object.entries(y).forEach(([L,U])=>{U(g.get(L),L,le({initial:!0,get:g.get},g.getInput(L)));const B=g.useStore.subscribe(Y=>{const G=Y.data[L];return[G.disabled?void 0:G.value,G]},([Y,G])=>U(Y,L,le({initial:!1,get:g.get},G)),{equalityFn:di});z.push(B)}),()=>z.forEach(L=>L())},[g,y]),d.useEffect(()=>{const z=[];return Object.entries(v).forEach(([L,U])=>z.push(g.subscribeToEditStart(L,U))),Object.entries(w).forEach(([L,U])=>z.push(g.subscribeToEditEnd(L,U))),()=>z.forEach(L=>L())},[v,w,g]),u?[T,S,R]:T}nn(Ot.SELECT,Yg);nn(Ot.IMAGE,ex);nn(Ot.NUMBER,Ig);nn(Ot.COLOR,A_);nn(Ot.STRING,t1);nn(Ot.BOOLEAN,c1);nn(Ot.INTERVAL,lx);nn(Ot.VECTOR3D,M_);nn(Ot.VECTOR2D,B_);const Xx={isUserDragging:!1,isUserScrolling:!1,userMovedCamera:!1,isUserScrollingOnHtmlPanel:!1},Fi=nu(t=>({...Xx,setIsUserDragging:e=>t({isUserDragging:e}),setIsUserScrolling:e=>t({isUserScrolling:e}),setUserMovedCamera:e=>t({userMovedCamera:e}),setIsUserScrollingOnHtmlPanel:e=>t({isUserScrollingOnHtmlPanel:e})})),Kx=()=>{const[t,e]=d.useState(""),n=d.useRef(null),{setAbortRequests:r,seedQuestions:i,resetData:s}=Xe(v=>v),[o]=ea(v=>[v.setBudget]),{setUniverseQuestionIsOpen:a,setSidebarOpen:c,setShowCollapseButton:l}=hr(v=>({setUniverseQuestionIsOpen:v.setUniverseQuestionIsOpen,setSidebarOpen:v.setSidebarOpen,setShowCollapseButton:v.setShowCollapseButton})),u=Ka(v=>v.resetAiSummaryAnswer),f=Ka(v=>v.fetchAIData),[h,p]=d.useState([]);d.useEffect(()=>{i&&p(k(i).slice(0,4))},[i]),d.useEffect(()=>{n.current&&n.current.focus()},[]);const _=async v=>{v&&(u(),a(),s(),c(!0),l(!0),await f(o,r,v))},g=!!t.trim().length,m=async v=>{v.keyCode===13&&v.shiftKey===!1&&g&&(v.preventDefault(),_(t))},x=async v=>{e(v),await _(v)},b=()=>{a(),c(!0),l(!0)},k=v=>{const w=[...v];let E=w.length-1;for(;E>0;){const T=Math.floor(Math.random()*(E+1));[w[E],w[T]]=[w[T],w[E]],E-=1}return w},y=!!t&&t.trim().length>0;return C.jsxs(Qx,{children:["Ideas have shapes",C.jsxs(qx,{onKeyDown:m,py:12,tabIndex:-1,children:[C.jsx(Zx,{ref:n,onChange:v=>e(v.target.value),placeholder:"What do you want to know?",value:t}),C.jsx(Jx,{color:"secondary",disabled:!y,onClick:()=>_(t),variant:"contained",children:y?C.jsxs(C.Fragment,{children:["Search ",C.jsx(Ja,{})]}):C.jsx(Ja,{})})]}),h.length>0&&C.jsx(tv,{children:h.map(v=>C.jsxs(nv,{onClick:()=>x(v),children:[C.jsx(Ad,{}),v]},v))}),C.jsx(ev,{"data-testid":"explore-graph-btn",onClick:b,startIcon:C.jsx(Dd,{}),children:"Explore Graph"})]})},Zx=te(Vd).attrs({maxRows:3})`
  background: ${q.BG1};
  max-width: 700px;
  width: 700px;
  color: ${q.white};
  padding: 0 16px 0 16px;
  overflow-y: auto !important;
  border: none;
  resize: none;
  outline: none;
  border-radius: 12px;
  font-family: 'Barlow';
  display: flex;
  align-items: center;
  text-align: justify;
  font-size: 16px;
  font-weight: 400;

  &:-moz-placeholder, /* Firefox 18- */
  &::-moz-placeholder, /* Firefox 19+ */
  &:-ms-input-placeholder, /* IE 10+ */
  &::-webkit-input-placeholder, /* Webkit based */
  &::placeholder {
    color: #0bf;
  }

  &::-webkit-scrollbar {
    width: 3px;
  }

  &::-webkit-scrollbar-track {
    border-radius: 12px;
    margin: 13px;
    overflow-y: hidden;
  }
`,qx=te(pe)`
  position: relative;
  margin-top: 30px;
  background: ${q.BG1};
  max-width: 702px;
  width: 702px;
  color: ${q.white};
  min-height: 150px;
  border: 1px solid ${q.modalShield};
  resize: none;
  outline: none;
  border-radius: 12px;
  box-shadow: 0px 1px 6px 0px rgba(0, 0, 0, 0.5);
`,Qx=te(pe)`
  background: #16161de3;
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  top: 0;
  color: #fff;
  align-items: center;
  justify-content: center;
  font-size: 32px;
  font-style: normal;
  font-weight: 700;
  line-height: 16px;
  font-family: 'Barlow';
`,Jx=te(ru)`
  && {
    position: absolute;
    bottom: 16px;
    right: 16px;
    height: 32px;
    border-radius: 16px;
    min-width: 32px;
  }

  &&.MuiButton-root {
    padding: 0 10px 0 12px;
  }

  svg {
    margin-top: 1px;
    width: 11px;
    height: 11px;
  }
`,ev=te(ru)`
  && {
    position: absolute;
    bottom: 20px;
    right: 20px;
    border-radius: 16px;
  }
`,tv=te.div`
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
  margin-top: 20px;
  max-width: 702px;
  width: 100%;
`,nv=te.div`
  background: ${q.BG1};
  color: ${q.white};
  padding: 15px 12px;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  text-align: left;
  font-family: Barlow;
  font-size: 14px;
  font-weight: 400;
  gap: 10px;
  &:hover {
    background: ${q.SEEDQUESTION_HOVER};
  }

  &:active {
    background: ${q.SEEDQUESTION};
  }
  svg {
    width: 20px;
    height: 20px;
  }

  path {
    fill: ${q.modalWhiteOverlayBg};
  }
`;new ge(0,0,0);const Sl=1,rv=16777215,Yr=new ge(0,0,0),Gr={x:0,y:0,z:200},iv=t=>{const e=_n();return d.useEffect(()=>{if(e&&t.current){const n=new ge(e.x,e.y,e.z),r=500,i=new oa(n,r);t.current.fitToSphere(i,!0)}},[e,t]),null};let Mi=null;const sv=(t,{enabled:e})=>{const n=_n();iv(t);const{graphRadius:r}=Se(i=>i);return d.useEffect(()=>{e||(Mi==null||Mi.kill(),Mi=null)},[e]),d.useEffect(()=>{!n&&t.current&&t.current.setLookAt(Yr.x,Yr.y,r+200,0,0,0,!0)},[n,r]),null},ov=({disableAnimations:t})=>{const e=d.useRef(null),{setDisableCameraRotation:n}=Se(c=>c),[r]=d.useState(.8),[i,s,o,a]=Fi(c=>[c.isUserDragging,c.setIsUserDragging,c.isUserScrolling,c.isUserScrollingOnHtmlPanel]);return sv(e,{enabled:!t&&!o&&!i}),d.useEffect(()=>{i&&n(!0)},[i,n]),C.jsx(Eu,{ref:e,boundaryEnclosesCamera:!0,dollyToCursor:!0,enabled:!a,makeDefault:!0,maxDistance:12e3,minDistance:100,onEnd:()=>s(!1),onStart:()=>s(!0),smoothTime:r})},av=({node:t})=>{const{getNodeKeysByType:e}=jt(i=>i);if(t.node_type==="User"){const i=t.properties||{},{username:s,twitter_handle:o,image_url:a,followers:c,verified:l,alias:u}=i,f=u||o||s||"",h=o||u||s||"";let p="";return s?p=`https://x.com/${u}`:o&&(p=`https://x.com/${o}`),C.jsx(fv,{children:C.jsxs(dv,{children:[C.jsx(hv,{children:a?C.jsx(mv,{alt:f,src:a}):C.jsx(pv,{children:C.jsx(Md,{})})}),C.jsxs(gv,{children:[C.jsxs(yv,{children:[C.jsx(_v,{href:p,target:"_blank",children:f}),l&&C.jsx(vv,{children:C.jsx(lh,{})})]}),C.jsxs(xv,{href:p,target:"_blank",children:["@",h]}),c&&C.jsxs(bv,{children:[c.toLocaleString()," Followers"]})]}),C.jsx(wv,{children:p&&C.jsx(kv,{href:p,target:"_blank",children:C.jsx(zd,{})})})]})})}const n=e(t.node_type)||"";let r="";return t.node_type==="Question"?r=t.name||"":t!=null&&t.properties&&(r=t.properties[n]||""),C.jsx(J0,{children:C.jsxs(cv,{children:[C.jsx(lv,{children:C.jsx(ch,{type:t.node_type})}),r&&C.jsx(uv,{children:r})]})})},J0=te(pe)`
  width: 390px;
  min-height: 100px;
  background: ${q.HOVER_CARD_BG};
  border-radius: 8px;
  padding: 15px;
  padding-bottom: 3px !important;
  flex-direction: column;
  gap: 4px;
  pointer-events: auto;
  align-items: flex-start;
`,cv=te(pe)`
  margin-top: 0;
  flex-direction: column;
  gap: 4px;
  align-items: flex-start;
`,lv=te(ta)`
  font-family: Barlow;
  font-size: 20px;
  font-weight: 600;
  line-height: 24px;
  color: ${q.white};
  margin: 0;
`,uv=te(ta)`
  font-family: Barlow;
  font-size: 14px;
  font-weight: 400;
  line-height: 20px;
  color: ${q.white};
  margin: 0;
  opacity: 0.8;
  white-space: normal;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  line-clamp: 3;
  -webkit-line-clamp: 3;
`,fv=te(J0)`
  width: fit-content;
  min-width: 180px;
  max-width: 300px;
  min-height: auto;
  border-radius: 16px;
  overflow: hidden;
`,dv=te(pe)`
  display: grid;
  width: fit-content;
  grid-template-columns: auto minmax(0, 1fr) auto;
  align-items: start;
  padding-bottom: 15px;
`,hv=te(pe)`
  margin-right: 10px;
`,pv=te(pe)`
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: ${q.GRAY3};
  align-items: center;
  justify-content: center;
  color: ${q.white};
  font-size: 24px;
`,mv=te.img`
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
`,gv=te(pe)`
  flex-direction: column;
  gap: 2px;
`,yv=te(pe)`
  align-items: center;
  flex-direction: row;
  gap: 8px;
  flex-wrap: nowrap;
  width: 100%;
`,_v=te.a`
  font-family: 'Barlow';
  font-size: 15px;
  font-weight: 700;
  color: ${q.white};
  text-decoration: none;
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;

  &:hover {
    text-decoration: underline;
  }
`,xv=te.a`
  font-family: 'Barlow';
  font-size: 14px;
  font-weight: 400;
  color: ${q.white};
  opacity: 0.6;
  text-decoration: none;
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;

  &:hover {
    text-decoration: underline;
  }
`,vv=te(pe)`
  background: #1d9bf0;
  border-radius: 50%;
  width: 18px;
  height: 18px;
  font-size: 15px;

  align-items: center;
  justify-content: center;
  flex-shrink: 0;

  svg {
    width: 12px;
    height: 12px;
    color: ${q.BG1_HOVER};
  }
`,bv=te(ta)`
  font-family: 'Barlow';
  font-size: 13px;
  color: ${q.white};
  opacity: 0.6;
  line-height: 1.2;
  margin-top: 4px;
`,wv=te(pe)`
  margin-left: auto;
  padding-left: 30px;
  align-self: flex-start;
`,kv=te.a`
  display: flex;
  align-items: center;
  justify-content: center;
  color: ${q.white};
  opacity: 0.6;
  font-size: 14px;
  flex-shrink: 0;

  &:hover {
    opacity: 1;
  }

  svg {
    width: 20px;
    height: 20px;
    color: ${q.white} !important;
    fill: ${q.white} !important;
  }
`,as=70,Ev=()=>{const t=d.useRef(null),e=d.useRef(null),n=au();return d.useEffect(()=>{t.current&&(t.current.style.display=n?"block":"none")},[n]),d.useEffect(()=>{const r=document.getElementById("universe-canvas");let i;const s=t.current,o=e.current,a=c=>{if(!s||!o)return;c.target.tagName!=="CANVAS"?(s.style.display="none",o.style.display="none"):(r&&(r.style.cursor="none"),o.style.display="flex"),s.style.display="block";const u=s.offsetWidth,f=s.offsetHeight,h=window.innerWidth-u-10,p=window.innerHeight-f-10,_=Math.min(c.clientX+10,h),g=Math.min(c.clientY+10,p);i=requestAnimationFrame(()=>{s.style.transform=`translate(${_}px, ${g}px)`,o.style.transform=`translate(${c.clientX-as/2}px, ${c.clientY-as/2}px)`})};return window.addEventListener("mousemove",a),()=>{window.removeEventListener("mousemove",a),cancelAnimationFrame(i)}},[]),C.jsxs(C.Fragment,{children:[C.jsx(Cv,{ref:e,children:C.jsx(pe,{className:"inner-circle",children:C.jsx("span",{className:"inner-circle__center",children:"+"})})}),C.jsx(Tv,{ref:t,children:n&&C.jsx(av,{node:n})})]})},Tv=te(pe)`
  position: fixed; /* Fixed position for the tooltip */
  left: 0;
  top: 0;
  transform: translate(0, 0); /* Initial transform */
  will-change: transform; /* Optimize for transform changes */
  background: ${q.BG1};
  color: white;
  padding: 0;
  border-radius: 16px;
  pointer-events: none; /* Tooltip won't block mouse events */
  z-index: 1000;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: none; /* Initially hidden */
  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2); /* Optional shadow for better visibility */
`,Cv=te(pe)`
  pointer-events: none;
  left: 0;
  top: 0;
  border: 1px solid ${q.white};
  border-radius: 50%;
  border-color: rgba(255, 255, 255, 0.2);
  position: fixed;
  background: rgba(0, 0, 0, 0.2);
  width: ${as}px;
  height: ${as}px;
  align-items: center;
  justify-content: center;

  .inner-circle {
    border-radius: 50%;
    border: 1px solid ${q.white};
    border-color: rgba(255, 255, 255, 0.2);
    justify-content: center;
    align-items: center;
    color: rgba(255, 255, 255, 1);
    font-size: 6px;
    text-transform: uppercase;
    font-weight: 300;
    background: radial-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1));

    &__text {
      animation: fadeOpacity 8s infinite;
      padding: 12px;

      /* Define keyframes */
      @keyframes fadeOpacity {
        0%,
        100% {
          opacity: 0.2;
        }
        50% {
          opacity: 0.8;
        }
      }
    }

    &__center {
      font-size: 20px;
      font-weight: 200;
      opacity: 0.5;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translateX(-50%) translateY(-50%);
      margin-top: -2px;
    }
  }
`,Ov=()=>{const[t]=xd(),e=t.get("node"),n=Xe(s=>s.nodesNormalized),r=Se(s=>s.setSelectedNode),i=Se(s=>s.simulationVersion);d.useEffect(()=>{if(e){const s=n.get(e);s&&r(s)}else r(null)},[e,n,r]),d.useEffect(()=>{if(e&&i){const s=n.get(e);s&&s&&r(s)}},[e,n,r,i])};function Wt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ef(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.4
 * https://gsap.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var dt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},cr={duration:.5,overwrite:!1,delay:0},Ra,Ye,Me,xt=1e8,Ce=1/xt,zo=Math.PI*2,Sv=zo/4,$v=0,tf=Math.sqrt,Pv=Math.cos,Rv=Math.sin,He=function(e){return typeof e=="string"},Le=function(e){return typeof e=="function"},Jt=function(e){return typeof e=="number"},Aa=function(e){return typeof e>"u"},Ft=function(e){return typeof e=="object"},tt=function(e){return e!==!1},Da=function(){return typeof window<"u"},Li=function(e){return Le(e)||He(e)},nf=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ge=Array.isArray,No=/(?:-?\.?\d|\.)+/gi,rf=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,qn=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,to=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,sf=/[+-]=-?[.\d]+/,of=/[^,'"\[\]\s]+/gi,Av=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ae,yt,Fo,Ma,ht={},cs={},af,cf=function(e){return(cs=zn(e,ht))&&st},La=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},ri=function(e,n){return!n&&console.warn(e)},lf=function(e,n){return e&&(ht[e]=n)&&cs&&(cs[e]=n)||ht},ii=function(){return 0},Dv={suppressEvents:!0,isStart:!0,kill:!1},Ui={suppressEvents:!0,kill:!1},Mv={suppressEvents:!0},Ia={},un=[],Uo={},uf,at={},no={},$l=30,Bi=[],ja="",za=function(e){var n=e[0],r,i;if(Ft(n)||Le(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(i=Bi.length;i--&&!Bi[i].targetTest(n););r=Bi[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new Mf(e[i],r)))||e.splice(i,1);return e},Rn=function(e){return e._gsap||za(vt(e))[0]._gsap},ff=function(e,n,r){return(r=e[n])&&Le(r)?e[n]():Aa(r)&&e.getAttribute&&e.getAttribute(n)||r},nt=function(e,n){return(e=e.split(",")).forEach(n)||e},ze=function(e){return Math.round(e*1e5)/1e5||0},Be=function(e){return Math.round(e*1e7)/1e7||0},tr=function(e,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},Lv=function(e,n){for(var r=n.length,i=0;e.indexOf(n[i])<0&&++i<r;);return i<r},ls=function(){var e=un.length,n=un.slice(0),r,i;for(Uo={},un.length=0,r=0;r<e;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},df=function(e,n,r,i){un.length&&!Ye&&ls(),e.render(n,r,i||Ye&&n<0&&(e._initted||e._startAt)),un.length&&!Ye&&ls()},hf=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(of).length<2?n:He(e)?e.trim():e},pf=function(e){return e},wt=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},Iv=function(e){return function(n,r){for(var i in r)i in n||i==="duration"&&e||i==="ease"||(n[i]=r[i])}},zn=function(e,n){for(var r in n)e[r]=n[r];return e},Pl=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Ft(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},us=function(e,n){var r={},i;for(i in e)i in n||(r[i]=e[i]);return r},Xr=function(e){var n=e.parent||Ae,r=e.keyframes?Iv(Ge(e.keyframes)):wt;if(tt(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},jv=function(e,n){for(var r=e.length,i=r===n.length;i&&r--&&e[r]===n[r];);return r<0},mf=function(e,n,r,i,s){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=n[s];o&&o[s]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[i]=n,n._prev=o,n.parent=n._dp=e,n},Os=function(e,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=n._prev,o=n._next;s?s._next=o:e[r]===n&&(e[r]=o),o?o._prev=s:e[i]===n&&(e[i]=s),n._next=n._prev=n.parent=null},gn=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},An=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},zv=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},Bo=function(e,n,r,i){return e._startAt&&(Ye?e._startAt.revert(Ui):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},Nv=function t(e){return!e||e._ts&&t(e.parent)},Rl=function(e){return e._repeat?lr(e._tTime,e=e.duration()+e._rDelay)*e:0},lr=function(e,n){var r=Math.floor(e/=n);return e&&r===e?r-1:r},fs=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},Ss=function(e){return e._end=Be(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ce)||0))},$s=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Be(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),Ss(e),r._dirty||An(r,e)),e},gf=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=fs(e.rawTime(),n),(!n._dur||yi(0,n.totalDuration(),r)-n._tTime>Ce)&&n.render(r,!0)),An(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Ce}},Mt=function(e,n,r,i){return n.parent&&gn(n),n._start=Be((Jt(r)?r:r||e!==Ae?gt(e,r,n):e._time)+n._delay),n._end=Be(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),mf(e,n,"_first","_last",e._sort?"_start":0),Ho(n)||(e._recent=n),i||gf(e,n),e._ts<0&&$s(e,e._tTime),e},yf=function(e,n){return(ht.ScrollTrigger||La("scrollTrigger",n))&&ht.ScrollTrigger.create(n,e)},_f=function(e,n,r,i,s){if(Fa(e,n,s),!e._initted)return 1;if(!r&&e._pt&&!Ye&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&uf!==lt.frame)return un.push(e),e._lazy=[s,i],1},Fv=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Ho=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},Uv=function(e,n,r,i){var s=e.ratio,o=n<0||!n&&(!e._start&&Fv(e)&&!(!e._initted&&Ho(e))||(e._ts<0||e._dp._ts<0)&&!Ho(e))?0:1,a=e._rDelay,c=0,l,u,f;if(a&&e._repeat&&(c=yi(0,e._tDur,n),u=lr(c,a),e._yoyo&&u&1&&(o=1-o),u!==lr(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Ye||i||e._zTime===Ce||!n&&e._zTime){if(!e._initted&&_f(e,n,i,r,c))return;for(f=e._zTime,e._zTime=n||(r?Ce:0),r||(r=n&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,l=e._pt;l;)l.r(o,l.d),l=l._next;n<0&&Bo(e,n,r,!0),e._onUpdate&&!r&&ut(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&ut(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&gn(e,1),!r&&!Ye&&(ut(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},Bv=function(e,n,r){var i;if(r>n)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},ur=function(e,n,r,i){var s=e._repeat,o=Be(n)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Be(o*(s+1)+e._rDelay*s):o,a>0&&!i&&$s(e,e._tTime=e._tDur*a),e.parent&&Ss(e),r||An(e.parent,e),e},Al=function(e){return e instanceof qe?An(e):ur(e,e._dur)},Hv={_start:0,endTime:ii,totalDuration:ii},gt=function t(e,n,r){var i=e.labels,s=e._recent||Hv,o=e.duration()>=xt?s.endTime(!1):e._dur,a,c,l;return He(n)&&(isNaN(n)||n in i)?(c=n.charAt(0),l=n.substr(-1)==="%",a=n.indexOf("="),c==="<"||c===">"?(a>=0&&(n=n.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0)*(l?(a<0?s:r).totalDuration()/100:1)):a<0?(n in i||(i[n]=o),i[n]):(c=parseFloat(n.charAt(a-1)+n.substr(a+1)),l&&r&&(c=c/100*(Ge(r)?r[0]:r).totalDuration()),a>1?t(e,n.substr(0,a-1),r)+c:o+c)):n==null?o:+n},Kr=function(e,n,r){var i=Jt(n[1]),s=(i?2:1)+(e<2?0:1),o=n[s],a,c;if(i&&(o.duration=n[1]),o.parent=r,e){for(a=o,c=r;c&&!("immediateRender"in a);)a=c.vars.defaults||{},c=tt(c.vars.inherit)&&c.parent;o.immediateRender=tt(a.immediateRender),e<2?o.runBackwards=1:o.startAt=n[s-1]}return new Ne(n[0],o,n[s+1])},xn=function(e,n){return e||e===0?n(e):n},yi=function(e,n,r){return r<e?e:r>n?n:r},We=function(e,n){return!He(e)||!(n=Av.exec(e))?"":n[1]},Vv=function(e,n,r){return xn(r,function(i){return yi(e,n,i)})},Vo=[].slice,xf=function(e,n){return e&&Ft(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Ft(e[0]))&&!e.nodeType&&e!==yt},Wv=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return He(i)&&!n||xf(i,1)?(s=r).push.apply(s,vt(i)):r.push(i)})||r},vt=function(e,n,r){return Me&&!n&&Me.selector?Me.selector(e):He(e)&&!r&&(Fo||!fr())?Vo.call((n||Ma).querySelectorAll(e),0):Ge(e)?Wv(e,r):xf(e)?Vo.call(e,0):e?[e]:[]},Wo=function(e){return e=vt(e)[0]||ri("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return vt(n,r.querySelectorAll?r:r===e?ri("Invalid scope")||Ma.createElement("div"):e)}},vf=function(e){return e.sort(function(){return .5-Math.random()})},bf=function(e){if(Le(e))return e;var n=Ft(e)?e:{each:e},r=Dn(n.ease),i=n.from||0,s=parseFloat(n.base)||0,o={},a=i>0&&i<1,c=isNaN(i)||a,l=n.axis,u=i,f=i;return He(i)?u=f={center:.5,edges:.5,end:1}[i]||0:!a&&c&&(u=i[0],f=i[1]),function(h,p,_){var g=(_||n).length,m=o[g],x,b,k,y,v,w,E,T,S;if(!m){if(S=n.grid==="auto"?0:(n.grid||[1,xt])[1],!S){for(E=-xt;E<(E=_[S++].getBoundingClientRect().left)&&S<g;);S<g&&S--}for(m=o[g]=[],x=c?Math.min(S,g)*u-.5:i%S,b=S===xt?0:c?g*f/S-.5:i/S|0,E=0,T=xt,w=0;w<g;w++)k=w%S-x,y=b-(w/S|0),m[w]=v=l?Math.abs(l==="y"?y:k):tf(k*k+y*y),v>E&&(E=v),v<T&&(T=v);i==="random"&&vf(m),m.max=E-T,m.min=T,m.v=g=(parseFloat(n.amount)||parseFloat(n.each)*(S>g?g-1:l?l==="y"?g/S:S:Math.max(S,g/S))||0)*(i==="edges"?-1:1),m.b=g<0?s-g:s,m.u=We(n.amount||n.each)||0,r=r&&g<0?Rf(r):r}return g=(m[h]-m.min)/m.max||0,Be(m.b+(r?r(g):g)*m.v)+m.u}},Yo=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Be(Math.round(parseFloat(r)/e)*e*n);return(i-i%1)/n+(Jt(r)?0:We(r))}},wf=function(e,n){var r=Ge(e),i,s;return!r&&Ft(e)&&(i=r=e.radius||xt,e.values?(e=vt(e.values),(s=!Jt(e[0]))&&(i*=i)):e=Yo(e.increment)),xn(n,r?Le(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),c=parseFloat(s?o.y:0),l=xt,u=0,f=e.length,h,p;f--;)s?(h=e[f].x-a,p=e[f].y-c,h=h*h+p*p):h=Math.abs(e[f]-a),h<l&&(l=h,u=f);return u=!i||l<=i?e[u]:o,s||u===o||Jt(o)?u:u+We(o)}:Yo(e))},kf=function(e,n,r,i){return xn(Ge(e)?!n:r===!0?!!(r=0):!i,function(){return Ge(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*i)/i})},Yv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduce(function(s,o){return o(s)},i)}},Gv=function(e,n){return function(r){return e(parseFloat(r))+(n||We(r))}},Xv=function(e,n,r){return Tf(e,n,0,1,r)},Ef=function(e,n,r){return xn(r,function(i){return e[~~n(i)]})},Kv=function t(e,n,r){var i=n-e;return Ge(e)?Ef(e,t(0,e.length),n):xn(r,function(s){return(i+(s-e)%i)%i+e})},Zv=function t(e,n,r){var i=n-e,s=i*2;return Ge(e)?Ef(e,t(0,e.length-1),n):xn(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},si=function(e){for(var n=0,r="",i,s,o,a;~(i=e.indexOf("random(",n));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?of:No),r+=e.substr(n,i-n)+kf(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},Tf=function(e,n,r,i,s){var o=n-e,a=i-r;return xn(s,function(c){return r+((c-e)/o*a||0)})},qv=function t(e,n,r,i){var s=isNaN(e+n)?0:function(p){return(1-p)*e+p*n};if(!s){var o=He(e),a={},c,l,u,f,h;if(r===!0&&(i=1)&&(r=null),o)e={p:e},n={p:n};else if(Ge(e)&&!Ge(n)){for(u=[],f=e.length,h=f-2,l=1;l<f;l++)u.push(t(e[l-1],e[l]));f--,s=function(_){_*=f;var g=Math.min(h,~~_);return u[g](_-g)},r=n}else i||(e=zn(Ge(e)?[]:{},e));if(!u){for(c in n)Na.call(a,e,c,"get",n[c]);s=function(_){return Ha(_,a)||(o?e.p:e)}}}return xn(r,s)},Dl=function(e,n,r){var i=e.labels,s=xt,o,a,c;for(o in i)a=i[o]-n,a<0==!!r&&a&&s>(a=Math.abs(a))&&(c=o,s=a);return c},ut=function(e,n,r){var i=e.vars,s=i[n],o=Me,a=e._ctx,c,l,u;if(s)return c=i[n+"Params"],l=i.callbackScope||e,r&&un.length&&ls(),a&&(Me=a),u=c?s.apply(l,c):s.call(l),Me=o,u},Fr=function(e){return gn(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Ye),e.progress()<1&&ut(e,"onInterrupt"),e},Qn,Cf=[],Of=function(e){if(Da()&&e){e=!e.name&&e.default||e;var n=e.name,r=Le(e),i=n&&!r&&e.init?function(){this._props=[]}:e,s={init:ii,render:Ha,add:Na,kill:hb,modifier:db,rawVars:0},o={targetTest:0,get:0,getSetter:Ba,aliases:{},register:0};if(fr(),e!==i){if(at[n])return;wt(i,wt(us(e,s),o)),zn(i.prototype,zn(s,us(e,o))),at[i.prop=n]=i,e.targetTest&&(Bi.push(i),Ia[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}lf(n,i),e.register&&e.register(st,i,rt)}else e&&Cf.push(e)},Te=255,Ur={aqua:[0,Te,Te],lime:[0,Te,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Te],navy:[0,0,128],white:[Te,Te,Te],olive:[128,128,0],yellow:[Te,Te,0],orange:[Te,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Te,0,0],pink:[Te,192,203],cyan:[0,Te,Te],transparent:[Te,Te,Te,0]},ro=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*Te+.5|0},Sf=function(e,n,r){var i=e?Jt(e)?[e>>16,e>>8&Te,e&Te]:0:Ur.black,s,o,a,c,l,u,f,h,p,_;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ur[e])i=Ur[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Te,i&Te,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Te,e&Te]}else if(e.substr(0,3)==="hsl"){if(i=_=e.match(No),!n)c=+i[0]%360/360,l=+i[1]/100,u=+i[2]/100,o=u<=.5?u*(l+1):u+l-u*l,s=u*2-o,i.length>3&&(i[3]*=1),i[0]=ro(c+1/3,s,o),i[1]=ro(c,s,o),i[2]=ro(c-1/3,s,o);else if(~e.indexOf("="))return i=e.match(rf),r&&i.length<4&&(i[3]=1),i}else i=e.match(No)||Ur.transparent;i=i.map(Number)}return n&&!_&&(s=i[0]/Te,o=i[1]/Te,a=i[2]/Te,f=Math.max(s,o,a),h=Math.min(s,o,a),u=(f+h)/2,f===h?c=l=0:(p=f-h,l=u>.5?p/(2-f-h):p/(f+h),c=f===s?(o-a)/p+(o<a?6:0):f===o?(a-s)/p+2:(s-o)/p+4,c*=60),i[0]=~~(c+.5),i[1]=~~(l*100+.5),i[2]=~~(u*100+.5)),r&&i.length<4&&(i[3]=1),i},$f=function(e){var n=[],r=[],i=-1;return e.split(fn).forEach(function(s){var o=s.match(qn)||[];n.push.apply(n,o),r.push(i+=o.length+1)}),n.c=r,n},Ml=function(e,n,r){var i="",s=(e+i).match(fn),o=n?"hsla(":"rgba(",a=0,c,l,u,f;if(!s)return e;if(s=s.map(function(h){return(h=Sf(h,n,1))&&o+(n?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),r&&(u=$f(e),c=r.c,c.join(i)!==u.c.join(i)))for(l=e.replace(fn,"1").split(qn),f=l.length-1;a<f;a++)i+=l[a]+(~c.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:r).shift());if(!l)for(l=e.split(fn),f=l.length-1;a<f;a++)i+=l[a]+s[a];return i+l[f]},fn=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ur)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Qv=/hsl[a]?\(/,Pf=function(e){var n=e.join(" "),r;if(fn.lastIndex=0,fn.test(n))return r=Qv.test(n),e[1]=Ml(e[1],r),e[0]=Ml(e[0],r,$f(e[1])),!0},oi,lt=function(){var t=Date.now,e=500,n=33,r=t(),i=r,s=1e3/240,o=s,a=[],c,l,u,f,h,p,_=function g(m){var x=t()-i,b=m===!0,k,y,v,w;if(x>e&&(r+=x-n),i+=x,v=i-r,k=v-o,(k>0||b)&&(w=++f.frame,h=v-f.time*1e3,f.time=v=v/1e3,o+=k+(k>=s?4:s-k),y=1),b||(c=l(g)),y)for(p=0;p<a.length;p++)a[p](v,h,w,m)};return f={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(m){return h/(1e3/(m||60))},wake:function(){af&&(!Fo&&Da()&&(yt=Fo=window,Ma=yt.document||{},ht.gsap=st,(yt.gsapVersions||(yt.gsapVersions=[])).push(st.version),cf(cs||yt.GreenSockGlobals||!yt.gsap&&yt||{}),u=yt.requestAnimationFrame,Cf.forEach(Of)),c&&f.sleep(),l=u||function(m){return setTimeout(m,o-f.time*1e3+1|0)},oi=1,_(2))},sleep:function(){(u?yt.cancelAnimationFrame:clearTimeout)(c),oi=0,l=ii},lagSmoothing:function(m,x){e=m||1/0,n=Math.min(x||33,e)},fps:function(m){s=1e3/(m||240),o=f.time*1e3+s},add:function(m,x,b){var k=x?function(y,v,w,E){m(y,v,w,E),f.remove(k)}:m;return f.remove(m),a[b?"unshift":"push"](k),fr(),k},remove:function(m,x){~(x=a.indexOf(m))&&a.splice(x,1)&&p>=x&&p--},_listeners:a},f}(),fr=function(){return!oi&&lt.wake()},ye={},Jv=/^[\d.\-M][\d.\-,\s]/,eb=/["']/g,tb=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,c,l;s<o;s++)c=r[s],a=s!==o-1?c.lastIndexOf(","):c.length,l=c.substr(0,a),n[i]=isNaN(l)?l.replace(eb,"").trim():+l,i=c.substr(a+1).trim();return n},nb=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)},rb=function(e){var n=(e+"").split("("),r=ye[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[tb(n[1])]:nb(e).split(",").map(hf)):ye._CE&&Jv.test(e)?ye._CE("",e):r},Rf=function(e){return function(n){return 1-e(1-n)}},Af=function t(e,n){for(var r=e._first,i;r;)r instanceof qe?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},Dn=function(e,n){return e&&(Le(e)?e:ye[e]||rb(e))||n},Un=function(e,n,r,i){r===void 0&&(r=function(c){return 1-n(1-c)}),i===void 0&&(i=function(c){return c<.5?n(c*2)/2:1-n((1-c)*2)/2});var s={easeIn:n,easeOut:r,easeInOut:i},o;return nt(e,function(a){ye[a]=ht[a]=s,ye[o=a.toLowerCase()]=r;for(var c in s)ye[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=ye[a+"."+c]=s[c]}),s},Df=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},io=function t(e,n,r){var i=n>=1?n:1,s=(r||(e?.3:.45))/(n<1?n:1),o=s/zo*(Math.asin(1/i)||0),a=function(u){return u===1?1:i*Math.pow(2,-10*u)*Rv((u-o)*s)+1},c=e==="out"?a:e==="in"?function(l){return 1-a(1-l)}:Df(a);return s=zo/s,c.config=function(l,u){return t(e,l,u)},c},so=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:Df(r);return i.config=function(s){return t(e,s)},i};nt("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Un(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});ye.Linear.easeNone=ye.none=ye.Linear.easeIn;Un("Elastic",io("in"),io("out"),io());(function(t,e){var n=1/e,r=2*n,i=2.5*n,s=function(a){return a<n?t*a*a:a<r?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};Un("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Un("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});Un("Circ",function(t){return-(tf(1-t*t)-1)});Un("Sine",function(t){return t===1?1:-Pv(t*Sv)+1});Un("Back",so("in"),so("out"),so());ye.SteppedEase=ye.steps=ht.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,i=e+(n?0:1),s=n?1:0,o=1-Ce;return function(a){return((i*yi(0,o,a)|0)+s)*r}}};cr.ease=ye["quad.out"];nt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return ja+=t+","+t+"Params,"});var Mf=function(e,n){this.id=$v++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:ff,this.set=n?n.getSetter:Ba},ai=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,ur(this,+n.duration,1,1),this.data=n.data,Me&&(this._ctx=Me,Me.data.push(this)),oi||lt.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,ur(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(fr(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for($s(this,r),!s._dp||s.parent||gf(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Mt(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Ce||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),df(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+Rl(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+Rl(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?lr(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-Ce?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?fs(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Ce?0:this._rts,this.totalTime(yi(-Math.abs(this._delay),this._tDur,s),i!==!1),Ss(this),zv(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(fr(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ce&&(this._tTime-=Ce)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Mt(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(tt(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?fs(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=Mv);var i=Ye;return Ye=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Ye=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,Al(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,Al(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(gt(this,r),tt(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,tt(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Ce:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ce,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-Ce)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=Le(r)?r:pf,a=function(){var l=i.then;i.then=null,Le(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=l),s(o),i.then=l};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Fr(this)},t}();wt(ai.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ce,_prom:0,_ps:!1,_rts:1});var qe=function(t){ef(e,t);function e(r,i){var s;return r===void 0&&(r={}),s=t.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=tt(r.sortChildren),Ae&&Mt(r.parent||Ae,Wt(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&yf(Wt(s),r.scrollTrigger),s}var n=e.prototype;return n.to=function(i,s,o){return Kr(0,arguments,this),this},n.from=function(i,s,o){return Kr(1,arguments,this),this},n.fromTo=function(i,s,o,a){return Kr(2,arguments,this),this},n.set=function(i,s,o){return s.duration=0,s.parent=this,Xr(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Ne(i,s,gt(this,o),1),this},n.call=function(i,s,o){return Mt(this,Ne.delayedCall(0,i,s),o)},n.staggerTo=function(i,s,o,a,c,l,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=l,o.onCompleteParams=u,o.parent=this,new Ne(i,o,gt(this,c)),this},n.staggerFrom=function(i,s,o,a,c,l,u){return o.runBackwards=1,Xr(o).immediateRender=tt(o.immediateRender),this.staggerTo(i,s,o,a,c,l,u)},n.staggerFromTo=function(i,s,o,a,c,l,u,f){return a.startAt=o,Xr(a).immediateRender=tt(a.immediateRender),this.staggerTo(i,s,a,c,l,u,f)},n.render=function(i,s,o){var a=this._time,c=this._dirty?this.totalDuration():this._tDur,l=this._dur,u=i<=0?0:Be(i),f=this._zTime<0!=i<0&&(this._initted||!l),h,p,_,g,m,x,b,k,y,v,w,E;if(this!==Ae&&u>c&&i>=0&&(u=c),u!==this._tTime||o||f){if(a!==this._time&&l&&(u+=this._time-a,i+=this._time-a),h=u,y=this._start,k=this._ts,x=!k,f&&(l||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(w=this._yoyo,m=l+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(m*100+i,s,o);if(h=Be(u%m),u===c?(g=this._repeat,h=l):(g=~~(u/m),g&&g===u/m&&(h=l,g--),h>l&&(h=l)),v=lr(this._tTime,m),!a&&this._tTime&&v!==g&&this._tTime-v*m-this._dur<=0&&(v=g),w&&g&1&&(h=l-h,E=1),g!==v&&!this._lock){var T=w&&v&1,S=T===(w&&g&1);if(g<v&&(T=!T),a=T?0:u%l?l:u,this._lock=1,this.render(a||(E?0:Be(g*m)),s,!l)._lock=0,this._tTime=u,!s&&this.parent&&ut(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1),a&&a!==this._time||x!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,c=this._tDur,S&&(this._lock=2,a=T?l:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!x)return this;Af(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(b=Bv(this,Be(a),Be(h)),b&&(u-=h-(h=b._start))),this._tTime=u,this._time=h,this._act=!k,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&h&&!s&&!g&&(ut(this,"onStart"),this._tTime!==u))return this;if(h>=a&&i>=0)for(p=this._first;p;){if(_=p._next,(p._act||h>=p._start)&&p._ts&&b!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(h-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(h-p._start)*p._ts,s,o),h!==this._time||!this._ts&&!x){b=0,_&&(u+=this._zTime=-Ce);break}}p=_}else{p=this._last;for(var R=i<0?i:h;p;){if(_=p._prev,(p._act||R<=p._end)&&p._ts&&b!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(R-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(R-p._start)*p._ts,s,o||Ye&&(p._initted||p._startAt)),h!==this._time||!this._ts&&!x){b=0,_&&(u+=this._zTime=R?-Ce:Ce);break}}p=_}}if(b&&!s&&(this.pause(),b.render(h>=a?0:-Ce)._zTime=h>=a?1:-1,this._ts))return this._start=y,Ss(this),this.render(i,s,o);this._onUpdate&&!s&&ut(this,"onUpdate",!0),(u===c&&this._tTime>=this.totalDuration()||!u&&a)&&(y===this._start||Math.abs(k)!==Math.abs(this._ts))&&(this._lock||((i||!l)&&(u===c&&this._ts>0||!u&&this._ts<0)&&gn(this,1),!s&&!(i<0&&!a)&&(u||a||!c)&&(ut(this,u===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<c&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,s){var o=this;if(Jt(s)||(s=gt(this,s,i)),!(i instanceof ai)){if(Ge(i))return i.forEach(function(a){return o.add(a,s)}),this;if(He(i))return this.addLabel(i,s);if(Le(i))i=Ne.delayedCall(0,i);else return this}return this!==i?Mt(this,i,s):this},n.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-xt);for(var c=[],l=this._first;l;)l._start>=a&&(l instanceof Ne?s&&c.push(l):(o&&c.push(l),i&&c.push.apply(c,l.getChildren(!0,s,o)))),l=l._next;return c},n.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},n.remove=function(i){return He(i)?this.removeLabel(i):Le(i)?this.killTweensOf(i):(Os(this,i),i===this._recent&&(this._recent=this._last),An(this))},n.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Be(lt.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},n.addLabel=function(i,s){return this.labels[i]=gt(this,s),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,s,o){var a=Ne.delayedCall(0,s||ii,o);return a.data="isPause",this._hasPause=1,Mt(this,a,gt(this,i))},n.removePause=function(i){var s=this._first;for(i=gt(this,i);s;)s._start===i&&s.data==="isPause"&&gn(s),s=s._next},n.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),c=a.length;c--;)an!==a[c]&&a[c].kill(i,s);return this},n.getTweensOf=function(i,s){for(var o=[],a=vt(i),c=this._first,l=Jt(s),u;c;)c instanceof Ne?Lv(c._targets,a)&&(l?(!an||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&o.push(c):(u=c.getTweensOf(a,s)).length&&o.push.apply(o,u),c=c._next;return o},n.tweenTo=function(i,s){s=s||{};var o=this,a=gt(o,i),c=s,l=c.startAt,u=c.onStart,f=c.onStartParams,h=c.immediateRender,p,_=Ne.to(o,wt({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale())||Ce,onStart:function(){if(o.pause(),!p){var m=s.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale());_._dur!==m&&ur(_,m,0,1).render(_._time,!0,!0),p=1}u&&u.apply(_,f||[])}},s));return h?_.render(0):_},n.tweenFromTo=function(i,s,o){return this.tweenTo(s,wt({startAt:{time:gt(this,i)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),Dl(this,gt(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),Dl(this,gt(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Ce)},n.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,c=this.labels,l;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(l in c)c[l]>=o&&(c[l]+=i);return An(this)},n.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),An(this)},n.totalDuration=function(i){var s=0,o=this,a=o._last,c=xt,l,u,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)l=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>c&&o._sort&&a._ts&&!o._lock?(o._lock=1,Mt(o,a,u-a._delay,1)._lock=0):c=u,u<0&&a._ts&&(s-=u,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),c=0),a._end>s&&a._ts&&(s=a._end),a=l;ur(o,o===Ae&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Ae._ts&&(df(Ae,fs(i,Ae)),uf=lt.frame),lt.frame>=$l){$l+=dt.autoSleep||120;var s=Ae._first;if((!s||!s._ts)&&dt.autoSleep&&lt._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||lt.sleep()}}},e}(ai);wt(qe.prototype,{_lock:0,_hasPause:0,_forcing:0});var ib=function(e,n,r,i,s,o,a){var c=new rt(this._pt,e,n,0,1,Ff,null,s),l=0,u=0,f,h,p,_,g,m,x,b;for(c.b=r,c.e=i,r+="",i+="",(x=~i.indexOf("random("))&&(i=si(i)),o&&(b=[r,i],o(b,e,n),r=b[0],i=b[1]),h=r.match(to)||[];f=to.exec(i);)_=f[0],g=i.substring(l,f.index),p?p=(p+1)%5:g.substr(-5)==="rgba("&&(p=1),_!==h[u++]&&(m=parseFloat(h[u-1])||0,c._pt={_next:c._pt,p:g||u===1?g:",",s:m,c:_.charAt(1)==="="?tr(m,_)-m:parseFloat(_)-m,m:p&&p<4?Math.round:0},l=to.lastIndex);return c.c=l<i.length?i.substring(l,i.length):"",c.fp=a,(sf.test(i)||x)&&(c.e=0),this._pt=c,c},Na=function(e,n,r,i,s,o,a,c,l,u){Le(i)&&(i=i(s||0,e,o));var f=e[n],h=r!=="get"?r:Le(f)?l?e[n.indexOf("set")||!Le(e["get"+n.substr(3)])?n:"get"+n.substr(3)](l):e[n]():f,p=Le(f)?l?lb:zf:Ua,_;if(He(i)&&(~i.indexOf("random(")&&(i=si(i)),i.charAt(1)==="="&&(_=tr(h,i)+(We(h)||0),(_||_===0)&&(i=_))),!u||h!==i||Go)return!isNaN(h*i)&&i!==""?(_=new rt(this._pt,e,n,+h||0,i-(h||0),typeof f=="boolean"?fb:Nf,0,p),l&&(_.fp=l),a&&_.modifier(a,this,e),this._pt=_):(!f&&!(n in e)&&La(n,i),ib.call(this,e,n,h,i,p,c||dt.stringFilter,l))},sb=function(e,n,r,i,s){if(Le(e)&&(e=Zr(e,s,n,r,i)),!Ft(e)||e.style&&e.nodeType||Ge(e)||nf(e))return He(e)?Zr(e,s,n,r,i):e;var o={},a;for(a in e)o[a]=Zr(e[a],s,n,r,i);return o},Lf=function(e,n,r,i,s,o){var a,c,l,u;if(at[e]&&(a=new at[e]).init(s,a.rawVars?n[e]:sb(n[e],i,s,o,r),r,i,o)!==!1&&(r._pt=c=new rt(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==Qn))for(l=r._ptLookup[r._targets.indexOf(s)],u=a._props.length;u--;)l[a._props[u]]=c;return a},an,Go,Fa=function t(e,n,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,c=i.lazy,l=i.onUpdate,u=i.runBackwards,f=i.yoyoEase,h=i.keyframes,p=i.autoRevert,_=e._dur,g=e._startAt,m=e._targets,x=e.parent,b=x&&x.data==="nested"?x.vars.targets:m,k=e._overwrite==="auto"&&!Ra,y=e.timeline,v,w,E,T,S,R,z,L,U,B,Y,G,V;if(y&&(!h||!s)&&(s="none"),e._ease=Dn(s,cr.ease),e._yEase=f?Rf(Dn(f===!0?s:f,cr.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!y&&!!i.runBackwards,!y||h&&!i.stagger){if(L=m[0]?Rn(m[0]).harness:0,G=L&&i[L.prop],v=us(i,Ia),g&&(g._zTime<0&&g.progress(1),n<0&&u&&a&&!p?g.render(-1,!0):g.revert(u&&_?Ui:Dv),g._lazy=0),o){if(gn(e._startAt=Ne.set(m,wt({data:"isStart",overwrite:!1,parent:x,immediateRender:!0,lazy:!g&&tt(c),startAt:null,delay:0,onUpdate:l&&function(){return ut(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Ye||!a&&!p)&&e._startAt.revert(Ui),a&&_&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(u&&_&&!g){if(n&&(a=!1),E=wt({overwrite:!1,data:"isFromStart",lazy:a&&!g&&tt(c),immediateRender:a,stagger:0,parent:x},v),G&&(E[L.prop]=G),gn(e._startAt=Ne.set(m,E)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Ye?e._startAt.revert(Ui):e._startAt.render(-1,!0)),e._zTime=n,!a)t(e._startAt,Ce,Ce);else if(!n)return}for(e._pt=e._ptCache=0,c=_&&tt(c)||c&&!_,w=0;w<m.length;w++){if(S=m[w],z=S._gsap||za(m)[w]._gsap,e._ptLookup[w]=B={},Uo[z.id]&&un.length&&ls(),Y=b===m?w:b.indexOf(S),L&&(U=new L).init(S,G||v,e,Y,b)!==!1&&(e._pt=T=new rt(e._pt,S,U.name,0,1,U.render,U,0,U.priority),U._props.forEach(function(N){B[N]=T}),U.priority&&(R=1)),!L||G)for(E in v)at[E]&&(U=Lf(E,v,e,Y,S,b))?U.priority&&(R=1):B[E]=T=Na.call(e,S,E,"get",v[E],Y,b,0,i.stringFilter);e._op&&e._op[w]&&e.kill(S,e._op[w]),k&&e._pt&&(an=e,Ae.killTweensOf(S,B,e.globalTime(n)),V=!e.parent,an=0),e._pt&&c&&(Uo[z.id]=1)}R&&Uf(e),e._onInit&&e._onInit(e)}e._onUpdate=l,e._initted=(!e._op||e._pt)&&!V,h&&n<=0&&y.render(xt,!0,!0)},ob=function(e,n,r,i,s,o,a,c){var l=(e._pt&&e._ptCache||(e._ptCache={}))[n],u,f,h,p;if(!l)for(l=e._ptCache[n]=[],h=e._ptLookup,p=e._targets.length;p--;){if(u=h[p][n],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==n&&u.fp!==n;)u=u._next;if(!u)return Go=1,e.vars[n]="+=0",Fa(e,a),Go=0,c?ri(n+" not eligible for reset"):1;l.push(u)}for(p=l.length;p--;)f=l[p],u=f._pt||f,u.s=(i||i===0)&&!s?i:u.s+(i||0)+o*u.c,u.c=r-u.s,f.e&&(f.e=ze(r)+We(f.e)),f.b&&(f.b=u.s+We(f.b))},ab=function(e,n){var r=e[0]?Rn(e[0]).harness:0,i=r&&r.aliases,s,o,a,c;if(!i)return n;s=zn({},n);for(o in i)if(o in s)for(c=i[o].split(","),a=c.length;a--;)s[c[a]]=s[o];return s},cb=function(e,n,r,i){var s=n.ease||i||"power1.inOut",o,a;if(Ge(n))a=r[e]||(r[e]=[]),n.forEach(function(c,l){return a.push({t:l/(n.length-1)*100,v:c,e:s})});else for(o in n)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:n[o],e:s})},Zr=function(e,n,r,i,s){return Le(e)?e.call(n,r,i,s):He(e)&&~e.indexOf("random(")?si(e):e},If=ja+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",jf={};nt(If+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return jf[t]=1});var Ne=function(t){ef(e,t);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=t.call(this,o?i:Xr(i))||this;var c=a.vars,l=c.duration,u=c.delay,f=c.immediateRender,h=c.stagger,p=c.overwrite,_=c.keyframes,g=c.defaults,m=c.scrollTrigger,x=c.yoyoEase,b=i.parent||Ae,k=(Ge(r)||nf(r)?Jt(r[0]):"length"in i)?[r]:vt(r),y,v,w,E,T,S,R,z;if(a._targets=k.length?za(k):ri("GSAP target "+r+" not found. https://gsap.com",!dt.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,_||h||Li(l)||Li(u)){if(i=a.vars,y=a.timeline=new qe({data:"nested",defaults:g||{},targets:b&&b.data==="nested"?b.vars.targets:k}),y.kill(),y.parent=y._dp=Wt(a),y._start=0,h||Li(l)||Li(u)){if(E=k.length,R=h&&bf(h),Ft(h))for(T in h)~If.indexOf(T)&&(z||(z={}),z[T]=h[T]);for(v=0;v<E;v++)w=us(i,jf),w.stagger=0,x&&(w.yoyoEase=x),z&&zn(w,z),S=k[v],w.duration=+Zr(l,Wt(a),v,S,k),w.delay=(+Zr(u,Wt(a),v,S,k)||0)-a._delay,!h&&E===1&&w.delay&&(a._delay=u=w.delay,a._start+=u,w.delay=0),y.to(S,w,R?R(v,S,k):0),y._ease=ye.none;y.duration()?l=u=0:a.timeline=0}else if(_){Xr(wt(y.vars.defaults,{ease:"none"})),y._ease=Dn(_.ease||i.ease||"none");var L=0,U,B,Y;if(Ge(_))_.forEach(function(G){return y.to(k,G,">")}),y.duration();else{w={};for(T in _)T==="ease"||T==="easeEach"||cb(T,_[T],w,_.easeEach);for(T in w)for(U=w[T].sort(function(G,V){return G.t-V.t}),L=0,v=0;v<U.length;v++)B=U[v],Y={ease:B.e,duration:(B.t-(v?U[v-1].t:0))/100*l},Y[T]=B.v,y.to(k,Y,L),L+=Y.duration;y.duration()<l&&y.to({},{duration:l-y.duration()})}}l||a.duration(l=y.duration())}else a.timeline=0;return p===!0&&!Ra&&(an=Wt(a),Ae.killTweensOf(k),an=0),Mt(b,Wt(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!l&&!_&&a._start===Be(b._time)&&tt(f)&&Nv(Wt(a))&&b.data!=="nested")&&(a._tTime=-Ce,a.render(Math.max(0,-u)||0)),m&&yf(Wt(a),m),a}var n=e.prototype;return n.render=function(i,s,o){var a=this._time,c=this._tDur,l=this._dur,u=i<0,f=i>c-Ce&&!u?c:i<Ce?0:i,h,p,_,g,m,x,b,k,y;if(!l)Uv(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(h=f,k=this.timeline,this._repeat){if(g=l+this._rDelay,this._repeat<-1&&u)return this.totalTime(g*100+i,s,o);if(h=Be(f%g),f===c?(_=this._repeat,h=l):(_=~~(f/g),_&&_===Be(f/g)&&(h=l,_--),h>l&&(h=l)),x=this._yoyo&&_&1,x&&(y=this._yEase,h=l-h),m=lr(this._tTime,g),h===a&&!o&&this._initted&&_===m)return this._tTime=f,this;_!==m&&(k&&this._yEase&&Af(k,x),this.vars.repeatRefresh&&!x&&!this._lock&&this._time!==l&&this._initted&&(this._lock=o=1,this.render(Be(g*_),!0).invalidate()._lock=0))}if(!this._initted){if(_f(this,u?i:h,o,s,f))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&_!==m))return this;if(l!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=b=(y||this._ease)(h/l),this._from&&(this.ratio=b=1-b),h&&!a&&!s&&!_&&(ut(this,"onStart"),this._tTime!==f))return this;for(p=this._pt;p;)p.r(b,p.d),p=p._next;k&&k.render(i<0?i:!h&&x?-Ce:k._dur*k._ease(h/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(u&&Bo(this,i,s,o),ut(this,"onUpdate")),this._repeat&&_!==m&&this.vars.onRepeat&&!s&&this.parent&&ut(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&Bo(this,i,!0,!0),(i||!l)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&gn(this,1),!s&&!(u&&!a)&&(f||a||x)&&(ut(this,f===c?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,s,o,a,c){oi||lt.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||Fa(this,l),u=this._ease(l/this._dur),ob(this,i,s,o,a,u,l,c)?this.resetTo(i,s,o,a,1):($s(this,0),this.parent||mf(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Fr(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,an&&an.vars.overwrite!==!0)._first||Fr(this),this.parent&&o!==this.timeline.totalDuration()&&ur(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,c=i?vt(i):a,l=this._ptLookup,u=this._pt,f,h,p,_,g,m,x;if((!s||s==="all")&&jv(a,c))return s==="all"&&(this._pt=0),Fr(this);for(f=this._op=this._op||[],s!=="all"&&(He(s)&&(g={},nt(s,function(b){return g[b]=1}),s=g),s=ab(a,s)),x=a.length;x--;)if(~c.indexOf(a[x])){h=l[x],s==="all"?(f[x]=s,_=h,p={}):(p=f[x]=f[x]||{},_=s);for(g in _)m=h&&h[g],m&&((!("kill"in m.d)||m.d.kill(g)===!0)&&Os(this,m,"_pt"),delete h[g]),p!=="all"&&(p[g]=1)}return this._initted&&!this._pt&&u&&Fr(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Kr(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return Kr(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return Ae.killTweensOf(i,s,o)},e}(ai);wt(Ne.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});nt("staggerTo,staggerFrom,staggerFromTo",function(t){Ne[t]=function(){var e=new qe,n=Vo.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var Ua=function(e,n,r){return e[n]=r},zf=function(e,n,r){return e[n](r)},lb=function(e,n,r,i){return e[n](i.fp,r)},ub=function(e,n,r){return e.setAttribute(n,r)},Ba=function(e,n){return Le(e[n])?zf:Aa(e[n])&&e.setAttribute?ub:Ua},Nf=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},fb=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},Ff=function(e,n){var r=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},Ha=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},db=function(e,n,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,n,r),s=o},hb=function(e){for(var n=this._pt,r,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?Os(this,n,"_pt"):n.dep||(r=1),n=i;return!r},pb=function(e,n,r,i){i.mSet(e,n,i.m.call(i.tween,r,i.mt),i)},Uf=function(e){for(var n=e._pt,r,i,s,o;n;){for(r=n._next,i=s;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:s=n,(n._next=i)?i._prev=n:o=n,n=r}e._pt=s},rt=function(){function t(n,r,i,s,o,a,c,l,u){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||Nf,this.d=c||this,this.set=l||Ua,this.pr=u||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=pb,this.m=r,this.mt=s,this.tween=i},t}();nt(ja+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return Ia[t]=1});ht.TweenMax=ht.TweenLite=Ne;ht.TimelineLite=ht.TimelineMax=qe;Ae=new qe({sortChildren:!1,defaults:cr,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});dt.stringFilter=Pf;var Mn=[],Hi={},mb=[],Ll=0,gb=0,oo=function(e){return(Hi[e]||mb).map(function(n){return n()})},Xo=function(){var e=Date.now(),n=[];e-Ll>2&&(oo("matchMediaInit"),Mn.forEach(function(r){var i=r.queries,s=r.conditions,o,a,c,l;for(a in i)o=yt.matchMedia(i[a]).matches,o&&(c=1),o!==s[a]&&(s[a]=o,l=1);l&&(r.revert(),c&&n.push(r))}),oo("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),Ll=e,oo("matchMedia"))},Bf=function(){function t(n,r){this.selector=r&&Wo(r),this.data=[],this._r=[],this.isReverted=!1,this.id=gb++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,i,s){Le(r)&&(s=i,i=r,r=Le);var o=this,a=function(){var l=Me,u=o.selector,f;return l&&l!==o&&l.data.push(o),s&&(o.selector=Wo(s)),Me=o,f=i.apply(o,arguments),Le(f)&&o._r.push(f),Me=l,o.selector=u,o.isReverted=!1,f};return o.last=a,r===Le?a(o,function(c){return o.add(null,c)}):r?o[r]=a:a},e.ignore=function(r){var i=Me;Me=null,r(this),Me=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof Ne&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var a=s.getTweens(),c=s.data.length,l;c--;)l=s.data[c],l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,f){return f.g-u.g||-1/0}).forEach(function(u){return u.t.revert(r)}),c=s.data.length;c--;)l=s.data[c],l instanceof qe?l.data!=="nested"&&(l.scrollTrigger&&l.scrollTrigger.revert(),l.kill()):!(l instanceof Ne)&&l.revert&&l.revert(r);s._r.forEach(function(u){return u(r,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=Mn.length;o--;)Mn[o].id===this.id&&Mn.splice(o,1)},e.revert=function(r){this.kill(r||{})},t}(),yb=function(){function t(n){this.contexts=[],this.scope=n}var e=t.prototype;return e.add=function(r,i,s){Ft(r)||(r={matches:r});var o=new Bf(0,s||this.scope),a=o.conditions={},c,l,u;Me&&!o.selector&&(o.selector=Me.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(l in r)l==="all"?u=1:(c=yt.matchMedia(r[l]),c&&(Mn.indexOf(o)<0&&Mn.push(o),(a[l]=c.matches)&&(u=1),c.addListener?c.addListener(Xo):c.addEventListener("change",Xo)));return u&&i(o,function(f){return o.add(null,f)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t}(),ds={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(i){return Of(i)})},timeline:function(e){return new qe(e)},getTweensOf:function(e,n){return Ae.getTweensOf(e,n)},getProperty:function(e,n,r,i){He(e)&&(e=vt(e)[0]);var s=Rn(e||{}).get,o=r?pf:hf;return r==="native"&&(r=""),e&&(n?o((at[n]&&at[n].get||s)(e,n,r,i)):function(a,c,l){return o((at[a]&&at[a].get||s)(e,a,c,l))})},quickSetter:function(e,n,r){if(e=vt(e),e.length>1){var i=e.map(function(u){return st.quickSetter(u,n,r)}),s=i.length;return function(u){for(var f=s;f--;)i[f](u)}}e=e[0]||{};var o=at[n],a=Rn(e),c=a.harness&&(a.harness.aliases||{})[n]||n,l=o?function(u){var f=new o;Qn._pt=0,f.init(e,r?u+r:u,Qn,0,[e]),f.render(1,f),Qn._pt&&Ha(1,Qn)}:a.set(e,c);return o?l:function(u){return l(e,c,r?u+r:u,a,1)}},quickTo:function(e,n,r){var i,s=st.to(e,zn((i={},i[n]="+=0.1",i.paused=!0,i),r||{})),o=function(c,l,u){return s.resetTo(n,c,l,u)};return o.tween=s,o},isTweening:function(e){return Ae.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Dn(e.ease,cr.ease)),Pl(cr,e||{})},config:function(e){return Pl(dt,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!at[a]&&!ht[a]&&ri(n+" effect requires "+a+" plugin.")}),no[n]=function(a,c,l){return r(vt(a),wt(c||{},s),l)},o&&(qe.prototype[n]=function(a,c,l){return this.add(no[n](a,Ft(c)?c:(l=c)&&{},this),l)})},registerEase:function(e,n){ye[e]=Dn(n)},parseEase:function(e,n){return arguments.length?Dn(e,n):ye},getById:function(e){return Ae.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new qe(e),i,s;for(r.smoothChildTiming=tt(e.smoothChildTiming),Ae.remove(r),r._dp=0,r._time=r._tTime=Ae._time,i=Ae._first;i;)s=i._next,(n||!(!i._dur&&i instanceof Ne&&i.vars.onComplete===i._targets[0]))&&Mt(r,i,i._start-i._delay),i=s;return Mt(Ae,r,0),r},context:function(e,n){return e?new Bf(e,n):Me},matchMedia:function(e){return new yb(e)},matchMediaRefresh:function(){return Mn.forEach(function(e){var n=e.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&e.revert()})||Xo()},addEventListener:function(e,n){var r=Hi[e]||(Hi[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=Hi[e],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:Kv,wrapYoyo:Zv,distribute:bf,random:kf,snap:wf,normalize:Xv,getUnit:We,clamp:Vv,splitColor:Sf,toArray:vt,selector:Wo,mapRange:Tf,pipe:Yv,unitize:Gv,interpolate:qv,shuffle:vf},install:cf,effects:no,ticker:lt,updateRoot:qe.updateRoot,plugins:at,globalTimeline:Ae,core:{PropTween:rt,globals:lf,Tween:Ne,Timeline:qe,Animation:ai,getCache:Rn,_removeLinkedListItem:Os,reverting:function(){return Ye},context:function(e){return e&&Me&&(Me.data.push(e),e._ctx=Me),Me},suppressOverwrites:function(e){return Ra=e}}};nt("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return ds[t]=Ne[t]});lt.add(qe.updateRoot);Qn=ds.to({},{duration:0});var _b=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},xb=function(e,n){var r=e._targets,i,s,o;for(i in n)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=_b(o,i)),o&&o.modifier&&o.modifier(n[i],e,r[s],i))},ao=function(e,n){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var c,l;if(He(s)&&(c={},nt(s,function(u){return c[u]=1}),s=c),n){c={};for(l in s)c[l]=n(s[l]);s=c}xb(a,s)}}}},st=ds.registerPlugin({name:"attr",init:function(e,n,r,i,s){var o,a,c;this.tween=r;for(o in n)c=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(c||0)+"",n[o],i,s,0,0,o),a.op=o,a.b=c,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)Ye?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},ao("roundProps",Yo),ao("modifiers"),ao("snap",wf))||ds;Ne.version=qe.version=st.version="3.12.4";af=1;Da()&&fr();ye.Power0;ye.Power1;ye.Power2;ye.Power3;ye.Power4;ye.Linear;ye.Quad;ye.Cubic;ye.Quart;ye.Quint;ye.Strong;ye.Elastic;ye.Back;ye.SteppedEase;ye.Bounce;ye.Sine;ye.Expo;ye.Circ;/*!
 * CSSPlugin 3.12.4
 * https://gsap.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Il,cn,nr,Va,Sn,jl,Wa,vb=function(){return typeof window<"u"},en={},Tn=180/Math.PI,rr=Math.PI/180,Zn=Math.atan2,zl=1e8,Ya=/([A-Z])/g,bb=/(left|right|width|margin|padding|x)/i,wb=/[\s,\(]\S/,Lt={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Ko=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},kb=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},Eb=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},Tb=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},Hf=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},Vf=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},Cb=function(e,n,r){return e.style[n]=r},Ob=function(e,n,r){return e.style.setProperty(n,r)},Sb=function(e,n,r){return e._gsap[n]=r},$b=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},Pb=function(e,n,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},Rb=function(e,n,r,i,s){var o=e._gsap;o[n]=r,o.renderTransform(s,o)},De="transform",it=De+"Origin",Ab=function t(e,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in en&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Lt[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=Gt(i,a)}):this.tfm[e]=o.x?o[e]:Gt(i,e),e===it&&(this.tfm.zOrigin=o.zOrigin);else return Lt.transform.split(",").forEach(function(a){return t.call(r,a,n)});if(this.props.indexOf(De)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(it,n,"")),e=De}(s||n)&&this.props.push(e,n,s[e])},Wf=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Db=function(){var e=this.props,n=this.target,r=n.style,i=n._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?n[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(Ya,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),s=Wa(),(!s||!s.isStart)&&!r[De]&&(Wf(r),i.zOrigin&&r[it]&&(r[it]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},Yf=function(e,n){var r={target:e,props:[],revert:Db,save:Ab};return e._gsap||st.core.getCache(e),n&&n.split(",").forEach(function(i){return r.save(i)}),r},Gf,Zo=function(e,n){var r=cn.createElementNS?cn.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):cn.createElement(e);return r&&r.style?r:cn.createElement(e)},It=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(Ya,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,dr(n)||n,1)||""},Nl="O,Moz,ms,Ms,Webkit".split(","),dr=function(e,n,r){var i=n||Sn,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Nl[o]+e in s););return o<0?null:(o===3?"ms":o>=0?Nl[o]:"")+e},qo=function(){vb()&&window.document&&(Il=window,cn=Il.document,nr=cn.documentElement,Sn=Zo("div")||{style:{}},Zo("div"),De=dr(De),it=De+"Origin",Sn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Gf=!!dr("perspective"),Wa=st.core.reverting,Va=1)},co=function t(e){var n=Zo("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(nr.appendChild(n),n.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),nr.removeChild(n),this.style.cssText=s,o},Fl=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},Xf=function(e){var n;try{n=e.getBBox()}catch{n=co.call(e,!0)}return n&&(n.width||n.height)||e.getBBox===co||(n=co.call(e,!0)),n&&!n.width&&!n.x&&!n.y?{x:+Fl(e,["x","cx","x1"])||0,y:+Fl(e,["y","cy","y1"])||0,width:0,height:0}:n},Kf=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Xf(e))},Nn=function(e,n){if(n){var r=e.style,i;n in en&&n!==it&&(n=De),r.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(i==="--"?n:n.replace(Ya,"-$1").toLowerCase())):r.removeAttribute(n)}},ln=function(e,n,r,i,s,o){var a=new rt(e._pt,n,r,0,1,o?Vf:Hf);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},Ul={deg:1,rad:1,turn:1},Mb={grid:1,flex:1},yn=function t(e,n,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=Sn.style,c=bb.test(n),l=e.tagName.toLowerCase()==="svg",u=(l?"client":"offset")+(c?"Width":"Height"),f=100,h=i==="px",p=i==="%",_,g,m,x;if(i===o||!s||Ul[i]||Ul[o])return s;if(o!=="px"&&!h&&(s=t(e,n,r,"px")),x=e.getCTM&&Kf(e),(p||o==="%")&&(en[n]||~n.indexOf("adius")))return _=x?e.getBBox()[c?"width":"height"]:e[u],ze(p?s/_*f:s/100*_);if(a[c?"width":"height"]=f+(h?o:i),g=~n.indexOf("adius")||i==="em"&&e.appendChild&&!l?e:e.parentNode,x&&(g=(e.ownerSVGElement||{}).parentNode),(!g||g===cn||!g.appendChild)&&(g=cn.body),m=g._gsap,m&&p&&m.width&&c&&m.time===lt.time&&!m.uncache)return ze(s/m.width*f);if(p&&(n==="height"||n==="width")){var b=e.style[n];e.style[n]=f+i,_=e[u],b?e.style[n]=b:Nn(e,n)}else(p||o==="%")&&!Mb[It(g,"display")]&&(a.position=It(e,"position")),g===e&&(a.position="static"),g.appendChild(Sn),_=Sn[u],g.removeChild(Sn),a.position="absolute";return c&&p&&(m=Rn(g),m.time=lt.time,m.width=g[u]),ze(h?_*s/f:_&&s?f/_*s:0)},Gt=function(e,n,r,i){var s;return Va||qo(),n in Lt&&n!=="transform"&&(n=Lt[n],~n.indexOf(",")&&(n=n.split(",")[0])),en[n]&&n!=="transform"?(s=li(e,i),s=n!=="transformOrigin"?s[n]:s.svg?s.origin:ps(It(e,it))+" "+s.zOrigin+"px"):(s=e.style[n],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=hs[n]&&hs[n](e,n,r)||It(e,n)||ff(e,n)||(n==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?yn(e,n,s,r)+r:s},Lb=function(e,n,r,i){if(!r||r==="none"){var s=dr(n,e,1),o=s&&It(e,s,1);o&&o!==r?(n=s,r=o):n==="borderColor"&&(r=It(e,"borderTopColor"))}var a=new rt(this._pt,e.style,n,0,1,Ff),c=0,l=0,u,f,h,p,_,g,m,x,b,k,y,v;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(g=e.style[n],e.style[n]=i,i=It(e,n)||i,g?e.style[n]=g:Nn(e,n)),u=[r,i],Pf(u),r=u[0],i=u[1],h=r.match(qn)||[],v=i.match(qn)||[],v.length){for(;f=qn.exec(i);)m=f[0],b=i.substring(c,f.index),_?_=(_+1)%5:(b.substr(-5)==="rgba("||b.substr(-5)==="hsla(")&&(_=1),m!==(g=h[l++]||"")&&(p=parseFloat(g)||0,y=g.substr((p+"").length),m.charAt(1)==="="&&(m=tr(p,m)+y),x=parseFloat(m),k=m.substr((x+"").length),c=qn.lastIndex-k.length,k||(k=k||dt.units[n]||y,c===i.length&&(i+=k,a.e+=k)),y!==k&&(p=yn(e,n,g,k)||0),a._pt={_next:a._pt,p:b||l===1?b:",",s:p,c:x-p,m:_&&_<4||n==="zIndex"?Math.round:0});a.c=c<i.length?i.substring(c,i.length):""}else a.r=n==="display"&&i==="none"?Vf:Hf;return sf.test(i)&&(a.e=0),this._pt=a,a},Bl={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Ib=function(e){var n=e.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),n[0]=Bl[r]||r,n[1]=Bl[i]||i,n.join(" ")},jb=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,s=n.u,o=r._gsap,a,c,l;if(s==="all"||s===!0)i.cssText="",c=1;else for(s=s.split(","),l=s.length;--l>-1;)a=s[l],en[a]&&(c=1,a=a==="transformOrigin"?it:De),Nn(r,a);c&&(Nn(r,De),o&&(o.svg&&r.removeAttribute("transform"),li(r,1),o.uncache=1,Wf(i)))}},hs={clearProps:function(e,n,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new rt(e._pt,n,r,0,0,jb);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},ci=[1,0,0,1,0,0],Zf={},qf=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Hl=function(e){var n=It(e,De);return qf(n)?ci:n.substr(7).match(rf).map(ze)},Ga=function(e,n){var r=e._gsap||Rn(e),i=e.style,s=Hl(e),o,a,c,l;return r.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?ci:s):(s===ci&&!e.offsetParent&&e!==nr&&!r.svg&&(c=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(l=1,a=e.nextElementSibling,nr.appendChild(e)),s=Hl(e),c?i.display=c:Nn(e,"display"),l&&(a?o.insertBefore(e,a):o?o.appendChild(e):nr.removeChild(e))),n&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Qo=function(e,n,r,i,s,o){var a=e._gsap,c=s||Ga(e,!0),l=a.xOrigin||0,u=a.yOrigin||0,f=a.xOffset||0,h=a.yOffset||0,p=c[0],_=c[1],g=c[2],m=c[3],x=c[4],b=c[5],k=n.split(" "),y=parseFloat(k[0])||0,v=parseFloat(k[1])||0,w,E,T,S;r?c!==ci&&(E=p*m-_*g)&&(T=y*(m/E)+v*(-g/E)+(g*b-m*x)/E,S=y*(-_/E)+v*(p/E)-(p*b-_*x)/E,y=T,v=S):(w=Xf(e),y=w.x+(~k[0].indexOf("%")?y/100*w.width:y),v=w.y+(~(k[1]||k[0]).indexOf("%")?v/100*w.height:v)),i||i!==!1&&a.smooth?(x=y-l,b=v-u,a.xOffset=f+(x*p+b*g)-x,a.yOffset=h+(x*_+b*m)-b):a.xOffset=a.yOffset=0,a.xOrigin=y,a.yOrigin=v,a.smooth=!!i,a.origin=n,a.originIsAbsolute=!!r,e.style[it]="0px 0px",o&&(ln(o,a,"xOrigin",l,y),ln(o,a,"yOrigin",u,v),ln(o,a,"xOffset",f,a.xOffset),ln(o,a,"yOffset",h,a.yOffset)),e.setAttribute("data-svg-origin",y+" "+v)},li=function(e,n){var r=e._gsap||new Mf(e);if("x"in r&&!n&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",c=getComputedStyle(e),l=It(e,it)||"0",u,f,h,p,_,g,m,x,b,k,y,v,w,E,T,S,R,z,L,U,B,Y,G,V,N,H,K,se,M,j,O,I;return u=f=h=g=m=x=b=k=y=0,p=_=1,r.svg=!!(e.getCTM&&Kf(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[De]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[De]!=="none"?c[De]:"")),i.scale=i.rotate=i.translate="none"),E=Ga(e,r.svg),r.svg&&(r.uncache?(N=e.getBBox(),l=r.xOrigin-N.x+"px "+(r.yOrigin-N.y)+"px",V=""):V=!n&&e.getAttribute("data-svg-origin"),Qo(e,V||l,!!V||r.originIsAbsolute,r.smooth!==!1,E)),v=r.xOrigin||0,w=r.yOrigin||0,E!==ci&&(z=E[0],L=E[1],U=E[2],B=E[3],u=Y=E[4],f=G=E[5],E.length===6?(p=Math.sqrt(z*z+L*L),_=Math.sqrt(B*B+U*U),g=z||L?Zn(L,z)*Tn:0,b=U||B?Zn(U,B)*Tn+g:0,b&&(_*=Math.abs(Math.cos(b*rr))),r.svg&&(u-=v-(v*z+w*U),f-=w-(v*L+w*B))):(I=E[6],j=E[7],K=E[8],se=E[9],M=E[10],O=E[11],u=E[12],f=E[13],h=E[14],T=Zn(I,M),m=T*Tn,T&&(S=Math.cos(-T),R=Math.sin(-T),V=Y*S+K*R,N=G*S+se*R,H=I*S+M*R,K=Y*-R+K*S,se=G*-R+se*S,M=I*-R+M*S,O=j*-R+O*S,Y=V,G=N,I=H),T=Zn(-U,M),x=T*Tn,T&&(S=Math.cos(-T),R=Math.sin(-T),V=z*S-K*R,N=L*S-se*R,H=U*S-M*R,O=B*R+O*S,z=V,L=N,U=H),T=Zn(L,z),g=T*Tn,T&&(S=Math.cos(T),R=Math.sin(T),V=z*S+L*R,N=Y*S+G*R,L=L*S-z*R,G=G*S-Y*R,z=V,Y=N),m&&Math.abs(m)+Math.abs(g)>359.9&&(m=g=0,x=180-x),p=ze(Math.sqrt(z*z+L*L+U*U)),_=ze(Math.sqrt(G*G+I*I)),T=Zn(Y,G),b=Math.abs(T)>2e-4?T*Tn:0,y=O?1/(O<0?-O:O):0),r.svg&&(V=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!qf(It(e,De)),V&&e.setAttribute("transform",V))),Math.abs(b)>90&&Math.abs(b)<270&&(s?(p*=-1,b+=g<=0?180:-180,g+=g<=0?180:-180):(_*=-1,b+=b<=0?180:-180)),n=n||r.uncache,r.x=u-((r.xPercent=u&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=h+o,r.scaleX=ze(p),r.scaleY=ze(_),r.rotation=ze(g)+a,r.rotationX=ze(m)+a,r.rotationY=ze(x)+a,r.skewX=b+a,r.skewY=k+a,r.transformPerspective=y+o,(r.zOrigin=parseFloat(l.split(" ")[2])||!n&&r.zOrigin||0)&&(i[it]=ps(l)),r.xOffset=r.yOffset=0,r.force3D=dt.force3D,r.renderTransform=r.svg?Nb:Gf?Qf:zb,r.uncache=0,r},ps=function(e){return(e=e.split(" "))[0]+" "+e[1]},lo=function(e,n,r){var i=We(n);return ze(parseFloat(n)+parseFloat(yn(e,"x",r+"px",i)))+i},zb=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,Qf(e,n)},kn="0deg",jr="0px",En=") ",Qf=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,c=r.z,l=r.rotation,u=r.rotationY,f=r.rotationX,h=r.skewX,p=r.skewY,_=r.scaleX,g=r.scaleY,m=r.transformPerspective,x=r.force3D,b=r.target,k=r.zOrigin,y="",v=x==="auto"&&e&&e!==1||x===!0;if(k&&(f!==kn||u!==kn)){var w=parseFloat(u)*rr,E=Math.sin(w),T=Math.cos(w),S;w=parseFloat(f)*rr,S=Math.cos(w),o=lo(b,o,E*S*-k),a=lo(b,a,-Math.sin(w)*-k),c=lo(b,c,T*S*-k+k)}m!==jr&&(y+="perspective("+m+En),(i||s)&&(y+="translate("+i+"%, "+s+"%) "),(v||o!==jr||a!==jr||c!==jr)&&(y+=c!==jr||v?"translate3d("+o+", "+a+", "+c+") ":"translate("+o+", "+a+En),l!==kn&&(y+="rotate("+l+En),u!==kn&&(y+="rotateY("+u+En),f!==kn&&(y+="rotateX("+f+En),(h!==kn||p!==kn)&&(y+="skew("+h+", "+p+En),(_!==1||g!==1)&&(y+="scale("+_+", "+g+En),b.style[De]=y||"translate(0, 0)"},Nb=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,c=r.rotation,l=r.skewX,u=r.skewY,f=r.scaleX,h=r.scaleY,p=r.target,_=r.xOrigin,g=r.yOrigin,m=r.xOffset,x=r.yOffset,b=r.forceCSS,k=parseFloat(o),y=parseFloat(a),v,w,E,T,S;c=parseFloat(c),l=parseFloat(l),u=parseFloat(u),u&&(u=parseFloat(u),l+=u,c+=u),c||l?(c*=rr,l*=rr,v=Math.cos(c)*f,w=Math.sin(c)*f,E=Math.sin(c-l)*-h,T=Math.cos(c-l)*h,l&&(u*=rr,S=Math.tan(l-u),S=Math.sqrt(1+S*S),E*=S,T*=S,u&&(S=Math.tan(u),S=Math.sqrt(1+S*S),v*=S,w*=S)),v=ze(v),w=ze(w),E=ze(E),T=ze(T)):(v=f,T=h,w=E=0),(k&&!~(o+"").indexOf("px")||y&&!~(a+"").indexOf("px"))&&(k=yn(p,"x",o,"px"),y=yn(p,"y",a,"px")),(_||g||m||x)&&(k=ze(k+_-(_*v+g*E)+m),y=ze(y+g-(_*w+g*T)+x)),(i||s)&&(S=p.getBBox(),k=ze(k+i/100*S.width),y=ze(y+s/100*S.height)),S="matrix("+v+","+w+","+E+","+T+","+k+","+y+")",p.setAttribute("transform",S),b&&(p.style[De]=S)},Fb=function(e,n,r,i,s){var o=360,a=He(s),c=parseFloat(s)*(a&&~s.indexOf("rad")?Tn:1),l=c-i,u=i+l+"deg",f,h;return a&&(f=s.split("_")[1],f==="short"&&(l%=o,l!==l%(o/2)&&(l+=l<0?o:-o)),f==="cw"&&l<0?l=(l+o*zl)%o-~~(l/o)*o:f==="ccw"&&l>0&&(l=(l-o*zl)%o-~~(l/o)*o)),e._pt=h=new rt(e._pt,n,r,i,l,kb),h.e=u,h.u="deg",e._props.push(r),h},Vl=function(e,n){for(var r in n)e[r]=n[r];return e},Ub=function(e,n,r){var i=Vl({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,c,l,u,f,h,p,_;i.svg?(l=r.getAttribute("transform"),r.setAttribute("transform",""),o[De]=n,a=li(r,1),Nn(r,De),r.setAttribute("transform",l)):(l=getComputedStyle(r)[De],o[De]=n,a=li(r,1),o[De]=l);for(c in en)l=i[c],u=a[c],l!==u&&s.indexOf(c)<0&&(p=We(l),_=We(u),f=p!==_?yn(r,c,l,_):parseFloat(l),h=parseFloat(u),e._pt=new rt(e._pt,a,c,f,h-f,Ko),e._pt.u=_||0,e._props.push(c));Vl(a,i)};nt("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",s="Left",o=(e<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map(function(a){return e<2?t+a:"border"+a+t});hs[e>1?"border"+t:t]=function(a,c,l,u,f){var h,p;if(arguments.length<4)return h=o.map(function(_){return Gt(a,_,l)}),p=h.join(" "),p.split(h[0]).length===5?h[0]:p;h=(u+"").split(" "),p={},o.forEach(function(_,g){return p[_]=h[g]=h[g]||h[(g-1)/2|0]}),a.init(c,p,f)}});var Jf={name:"css",register:qo,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,i,s){var o=this._props,a=e.style,c=r.vars.startAt,l,u,f,h,p,_,g,m,x,b,k,y,v,w,E,T;Va||qo(),this.styles=this.styles||Yf(e),T=this.styles.props,this.tween=r;for(g in n)if(g!=="autoRound"&&(u=n[g],!(at[g]&&Lf(g,n,r,i,e,s)))){if(p=typeof u,_=hs[g],p==="function"&&(u=u.call(r,i,e,s),p=typeof u),p==="string"&&~u.indexOf("random(")&&(u=si(u)),_)_(this,e,g,u,r)&&(E=1);else if(g.substr(0,2)==="--")l=(getComputedStyle(e).getPropertyValue(g)+"").trim(),u+="",fn.lastIndex=0,fn.test(l)||(m=We(l),x=We(u)),x?m!==x&&(l=yn(e,g,l,x)+x):m&&(u+=m),this.add(a,"setProperty",l,u,i,s,0,0,g),o.push(g),T.push(g,0,a[g]);else if(p!=="undefined"){if(c&&g in c?(l=typeof c[g]=="function"?c[g].call(r,i,e,s):c[g],He(l)&&~l.indexOf("random(")&&(l=si(l)),We(l+"")||l==="auto"||(l+=dt.units[g]||We(Gt(e,g))||""),(l+"").charAt(1)==="="&&(l=Gt(e,g))):l=Gt(e,g),h=parseFloat(l),b=p==="string"&&u.charAt(1)==="="&&u.substr(0,2),b&&(u=u.substr(2)),f=parseFloat(u),g in Lt&&(g==="autoAlpha"&&(h===1&&Gt(e,"visibility")==="hidden"&&f&&(h=0),T.push("visibility",0,a.visibility),ln(this,a,"visibility",h?"inherit":"hidden",f?"inherit":"hidden",!f)),g!=="scale"&&g!=="transform"&&(g=Lt[g],~g.indexOf(",")&&(g=g.split(",")[0]))),k=g in en,k){if(this.styles.save(g),y||(v=e._gsap,v.renderTransform&&!n.parseTransform||li(e,n.parseTransform),w=n.smoothOrigin!==!1&&v.smooth,y=this._pt=new rt(this._pt,a,De,0,1,v.renderTransform,v,0,-1),y.dep=1),g==="scale")this._pt=new rt(this._pt,v,"scaleY",v.scaleY,(b?tr(v.scaleY,b+f):f)-v.scaleY||0,Ko),this._pt.u=0,o.push("scaleY",g),g+="X";else if(g==="transformOrigin"){T.push(it,0,a[it]),u=Ib(u),v.svg?Qo(e,u,0,w,0,this):(x=parseFloat(u.split(" ")[2])||0,x!==v.zOrigin&&ln(this,v,"zOrigin",v.zOrigin,x),ln(this,a,g,ps(l),ps(u)));continue}else if(g==="svgOrigin"){Qo(e,u,1,w,0,this);continue}else if(g in Zf){Fb(this,v,g,h,b?tr(h,b+u):u);continue}else if(g==="smoothOrigin"){ln(this,v,"smooth",v.smooth,u);continue}else if(g==="force3D"){v[g]=u;continue}else if(g==="transform"){Ub(this,u,e);continue}}else g in a||(g=dr(g)||g);if(k||(f||f===0)&&(h||h===0)&&!wb.test(u)&&g in a)m=(l+"").substr((h+"").length),f||(f=0),x=We(u)||(g in dt.units?dt.units[g]:m),m!==x&&(h=yn(e,g,l,x)),this._pt=new rt(this._pt,k?v:a,g,h,(b?tr(h,b+f):f)-h,!k&&(x==="px"||g==="zIndex")&&n.autoRound!==!1?Tb:Ko),this._pt.u=x||0,m!==x&&x!=="%"&&(this._pt.b=l,this._pt.r=Eb);else if(g in a)Lb.call(this,e,g,l,b?b+u:u);else if(g in e)this.add(e,g,l||e[g],b?b+u:u,i,s);else if(g!=="parseTransform"){La(g,u);continue}k||(g in a?T.push(g,0,a[g]):T.push(g,1,l||e[g])),o.push(g)}}E&&Uf(this)},render:function(e,n){if(n.tween._time||!Wa())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:Gt,aliases:Lt,getSetter:function(e,n,r){var i=Lt[n];return i&&i.indexOf(",")<0&&(n=i),n in en&&n!==it&&(e._gsap.x||Gt(e,"x"))?r&&jl===r?n==="scale"?$b:Sb:(jl=r||{})&&(n==="scale"?Pb:Rb):e.style&&!Aa(e.style[n])?Cb:~n.indexOf("-")?Ob:Ba(e,n)},core:{_removeProperty:Nn,_getMatrix:Ga}};st.utils.checkPrefix=dr;st.core.getStyleSaver=Yf;(function(t,e,n,r){var i=nt(t+","+e+","+n,function(s){en[s]=1});nt(e,function(s){dt.units[s]="deg",Zf[s]=1}),Lt[i[13]]=t+","+e,nt(r,function(s){var o=s.split(":");Lt[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");nt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){dt.units[t]="px"});st.registerPlugin(Jf);var Ln=st.registerPlugin(Jf)||st;Ln.core.Tween;const ed=t=>{const e=d.useRef(null),n=d.useRef(null),r=Xe(p=>p.nodesNormalized),{label:i,source:s,target:o,sourceX:a,sourceY:c,sourceZ:l,targetX:u,targetY:f,targetZ:h}=t;return d.useEffect(()=>{if(e.current){const p=e.current;Ln.fromTo(p.material,{linewidth:Sl*15},{linewidth:Sl,duration:1})}},[e,a]),St(()=>{const p=r.get(s),_=r.get(o);if(!e.current||!n.current||!p||!_)return;const{hoveredNode:g,searchQuery:m,selectedNodeTypes:x,selectedLinkTypes:b,selectedNode:k}=Se.getState(),y=e.current,v=g||k,w=b.includes(i)||x.includes(p==null?void 0:p.node_type)&&x.includes(_.node_type);if(!w&&!v&&!m){n.current.visible=!1;return}y.visible=!1,n.current.visible=!1,w&&(y.visible=!0,n.current.visible=!0),(v==null?void 0:v.ref_id)===s||(v==null?void 0:v.ref_id)===o?(y.visible=!0,n.current.visible=!0,Ln.to(y.material,{linewidth:6,duration:.5,ease:"power1.out"})):Ln.to(y.material,{linewidth:1,duration:.5,ease:"power1.out"})}),C.jsxs("group",{ref:n,children:[C.jsx(su,{ref:e,color:"white",isLine2:!0,lineWidth:2,name:"line",points:[a,c,l,u,f,h]}),C.jsx(ma,{children:C.jsx(ia,{anchorX:"center",anchorY:"middle",color:"white",...sa,fontSize:10,children:i})})]})};ed.displayName="LineComponent";const Bb=d.memo(ed),Wl=new ge(0,0,0),td=d.memo(t=>{const{sourceX:e,sourceY:n,sourceZ:r,targetX:i,targetY:s,targetZ:o,color:a}=t,c=d.useRef(null);return St(()=>{c.current&&(c.current.start.set(e||0,n||0,r||0),c.current.end.set(i,s,o))}),C.jsx(C.Fragment,{children:C.jsx(mp,{ref:c,color:a,end:Wl,start:Wl})})});td.displayName="LineInstance";const nd=d.memo(({linksPosition:t})=>{var l;const[e,n]=Xe(u=>[u.dataInitial,u.nodesNormalized]),[r,i,s,o,a]=Se(u=>[u.showSelectionGraph,u.searchQuery,u.selectedNodeTypes,u.highlightNodes,u.hoveredNode,u.selectedNode]),c=jt(u=>u.normalizedSchemasByType);return C.jsxs(C.Fragment,{children:[C.jsx("group",{name:"simulation-3d-group__connections",visible:!r||!0,children:(l=e==null?void 0:e.links)!=null&&l.length?C.jsx(C.Fragment,{children:e==null?void 0:e.links.map(u=>{const f=t.get(u.ref_id)||{sx:0,sy:0,sz:0,tx:0,ty:0,tz:0};return C.jsx(Bb,{label:u.edge_type,source:u.source,sourceX:f.sx,sourceY:f.sy,sourceZ:f.sz,target:u.target,targetX:f.tx,targetY:f.ty,targetZ:f.tz},u.ref_id)})}):null}),C.jsx("group",{visible:!i&&!s.length&&!o.length&&!a,children:C.jsx(hp,{limit:1e3,lineWidth:.1,children:e==null?void 0:e.links.map(u=>{var _;const f=t.get(u.ref_id)||{sx:0,sy:0,sz:0,tx:0,ty:0,tz:0},h=n.get(u.source)||"";h&&((_=c[h.node_type])==null||_.primary_color);const p="#494C5A";return C.jsx(td,{color:p,sourceX:f.sx,sourceY:f.sy,sourceZ:f.sz,targetX:f.tx,targetY:f.ty,targetZ:f.tz},u.ref_id)})})},e==null?void 0:e.links.length)]})});nd.displayName="Connections";const Hb=({node:t,isFixed:e,isLast:n})=>{var f,h,p;const{normalizedSchemasByType:r,getNodeKeysByType:i}=jt(_=>_),s=d.useRef(null),o=(f=r[t.node_type])==null?void 0:f.icon,a=o?ys[o]:null,c=i(t.node_type)||"",l=t!=null&&t.properties?t==null?void 0:t.properties[c]:"",u=l?Wi(l,30):"";return d.useEffect(()=>{s.current&&e&&Ln.to(s.current,{scale:.1,duration:1,ease:"power3.out"})},[e]),C.jsx(pr,{ref:s,as:"div",center:!0,className:"sprite",sprite:!0,children:n||e?C.jsx(Vb,{align:"center",justify:"center",children:C.jsxs(C.Fragment,{children:[C.jsx(Yb,{children:C.jsx(Gb,{align:"center",height:32,justify:"center",radius:"50%",src:((h=t==null?void 0:t.properties)==null?void 0:h.image_url)||"",width:32,children:(p=t==null?void 0:t.properties)!=null&&p.image_url?null:C.jsx("span",{children:a?C.jsx(a,{}):C.jsx(qr,{})})})}),C.jsx(Wb,{children:u})]})}):null})},Vb=te(pe)`
  background: ${q.gray100};
  padding: 8px;
  border-radius: 8px;
`,Wb=te(pe)`
  color: ${q.white};
  width: 100px;
  text-align: center;
  margin-top: 8px;
`,Yb=te(pe)`
  text-align: center;
  width: 48px;
  height: 48px;
  outline: 1px solid ${q.white};
  outline-offset: 0px;
  background: ${q.BG1};
  color: ${q.white};
  border-radius: 50%;
  cursor: pointer;
  transition: font-size 0.4s, outline 0.4s;
  align-items: center;
  justify-content: center;
  font-family: Barlow;
  font-size: 12px;
  font-style: normal;
  font-weight: 700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);

  &:hover {
    outline-offset: 4px;
  }
`,Gb=te(pe)`
  background-image: ${({src:t})=>`url(${t})`};
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  width: ${({width:t})=>`${t}px`};
  height: ${({height:t})=>`${t}px`};
  border-radius: ${({radius:t})=>`${t}`};
  font-size: 20px;
`,rd=d.memo(t=>{const{node:e,x:n,y:r,z:i,iX:s,iY:o,iZ:a,onRemove:c,isFixed:l,isLast:u}=t,f=d.useRef(null);return d.useEffect(()=>{f.current&&!l&&Ln.fromTo(f.current.position,{x:s,y:o,z:a},{x:n,y:r,z:i,duration:1,ease:"power3.out"})},[n,r,i,s,o,a,l]),d.useEffect(()=>{f.current&&l&&Ln.to(f.current.position,{x:n,y:r,z:i,duration:2,ease:"power3.out",onComplete:()=>{c&&c(e.ref_id)}})},[e.fx,e.fy,e.fz,e.ref_id,c,l,n,r,i]),C.jsx("mesh",{ref:f,position:[s,o,a],scale:e.scale||1,userData:e,children:C.jsx(Hb,{isFixed:l,isLast:u,node:e})})});rd.displayName="CandidateWrapper";const Xb=d.memo(()=>{const{activeNode:t,simulation:e}=Se(c=>c),n=d.useRef([""]),[r,i]=d.useState(0),s={x:(t==null?void 0:t.fx)||0,y:(t==null?void 0:t.fy)||0,z:(t==null?void 0:t.fz)||0},o=200,a=c=>{n.current=n.current.filter(l=>l!==c),i(r+1)};return C.jsx(C.Fragment,{children:e.nodes().slice(-5).filter(c=>c.fx===void 0||n.current.some(l=>l===c.ref_id)).map((c,l,u)=>{const h=c.fx||s.x+Math.cos(0)*o,p=c.fy||s.y+Math.sin(0)*o,_=c.fz||s.z;return n.current.includes(c.ref_id)||n.current.push(c.ref_id),C.jsx(rd,{isFixed:typeof c.fx=="number",isLast:l===u.length-1,iX:s.x,iY:s.y,iZ:s.z,node:c,onRemove:a,x:h,y:p,z:_},c.ref_id)})})});Xb.displayName="Candidates";const Kb=(t,e,n,r,i)=>{const s=new xs,o=1e-5;s.absarc(o,o,o,-Math.PI/2,-Math.PI,!0),s.absarc(o,e-r*2,o,Math.PI,Math.PI/2,!0),s.absarc(t-r*2,e-r*2,o,Math.PI/2,0,!0),s.absarc(t-r*2,o,o,0,-Math.PI/2,!0);const a=new ih(s,{depth:n-r*2,bevelEnabled:!0,bevelSegments:i,steps:2,bevelSize:r,bevelThickness:r,curveSegments:i});a.center();const c=[],l=a.getAttribute("normal"),u=a.getAttribute("position");for(let f=0;f<u.count;f+=1){const h=new ge(l.getX(f),l.getY(f),l.getZ(f)),p=new ge(u.getX(f),u.getY(f),u.getZ(f));let _=0,g=0;Math.abs(h.y)>.9?(_=p.x/t+.5,g=1-(p.z/n+.5)):Math.abs(h.x)>.9?(_=-p.z/n+.5,g=1-(-p.y/e+.5)):Math.abs(h.z)>.9&&(_=p.x/t+.5,g=1-(-p.y/e+.5)),c.push(_,g)}return a.setAttribute("uv",new zi(c,2)),a};Kb(10,10,10,2,10);new rh(10,10,10);const $n=30;function Yl(t,e){let n=t[0]==="#"?t.slice(1):t;n.length===3&&(n=n.split("").map(c=>c+c).join(""));const r=parseInt(n,16),i=Math.round(2.55*e);let s=(r>>16)+i,o=(r>>8&255)+i,a=(r&255)+i;return s=Math.min(255,Math.max(0,s)),o=Math.min(255,Math.max(0,o)),a=Math.min(255,Math.max(0,a)),`#${((1<<24)+(s<<16)+(o<<8)+a).toString(16).slice(1).toUpperCase()}`}function id(t,e,n=10){const r=[];for(let i=e;i>=1;i-=1)r.push(Yl(t,i*n));r.push(t.toUpperCase());for(let i=1;i<=e;i+=1)r.push(Yl(t,-i*n));return r}const sd=d.memo(({color:t,scale:e,name:n,index:r,node:i,nodeType:s})=>{const o=e,a=d.useRef(null),c=d.useRef(null);St(()=>{var x;if(!a.current||!c.current)return;const{searchQuery:u,simulation:f,selectedNodeTypes:h,selectedLinkTypes:p,selectedNode:_,selectedNodeSiblings:g}=Se.getState(),{nodesNormalized:m}=Xe.getState();if(f==null||f.nodes()[r],a.current.scale.set(o,o,o),u){const b=n.toLowerCase().includes(u.toLowerCase()),k=b?o:.1,y=!!b;c.current.visible=y,a.current.scale.set(k,k,k)}else if(h.length){const b=h.includes(s),k=b?o:.1,y=!!b;c.current.visible=y,a.current.scale.set(k,k,k)}else if(p.length){const b=m.get(i.ref_id),k=(x=b==null?void 0:b.edgeTypes)==null?void 0:x.some(w=>p.includes(w)),y=k?o:.1,v=!!k;c.current.visible=v,a.current.scale.set(y,y,y)}else if(_){const b=g.includes(i.ref_id)||_.ref_id===i.ref_id,k=b?o:.1,y=!!b;c.current.visible=y,a.current.scale.set(k,k,k)}else a.current.scale.set(o,o,o),c.current.visible=!0});const l=id(t,3,10);return C.jsxs(ma,{ref:a,follow:!0,lockX:!1,lockY:!1,lockZ:!1,name:"group-name",visible:!1,children:[C.jsxs("mesh",{ref:c,name:"instance-helper",userData:i,children:[C.jsx("sphereGeometry",{args:[$n/2,16,16]}),C.jsx("meshBasicMaterial",{color:"white",opacity:1,transparent:!1})]}),C.jsx(Cu,{color:l.at(3),name:"instance"})]})});sd.displayName="Point";const Zb=["#fff","#9747FF","#00887A","#0098A6","#0288D1","#33691E","#465A65","#512DA7","#5C6BC0","#5D4038","#662C00","#689F39","#6B1B00","#750000","#78909C","#7E57C2","#8C6E63","#AA47BC","#BF360C","#C2175B","#EC407A","#EF6C00","#F5511E","#FF9696","#FFC064","#FFCD29","#FFEA60"],qb=()=>{const t=_n(),e=Xe(a=>a.dataInitial),n=Xe(a=>a.nodesNormalized),{normalizedSchemasByType:r}=jt(a=>a),i=na(),s=d.useMemo(()=>{const a=$n,c=$n,l=6,u=new xs;return u.moveTo(-a/2+l,-c/2),u.lineTo(a/2,-c/2),u.lineTo(a/2,c/2),u.lineTo(-a/2+l,c/2),u.quadraticCurveTo(-a/2,c/2,-a/2,c/2-l),u.lineTo(-a/2,-c/2+l),u.quadraticCurveTo(-a/2,-c/2,-a/2+l,-c/2),new sh(u)},[]),{getNodeKeysByType:o}=jt(a=>a);return C.jsx(C.Fragment,{children:C.jsxs(dp,{geometry:s,limit:1e3,range:1e3,visible:!t||!0,children:[C.jsx("meshBasicMaterial",{}),e==null?void 0:e.nodes.map((a,c)=>{var x,b;const u=((x=r[a.node_type])==null?void 0:x.primary_color)??(Zb[i.indexOf(a.node_type)]||q.white),f=n.get(a.ref_id),h=(f==null?void 0:f.weight)||((b=f==null?void 0:f.properties)==null?void 0:b.weight)||1,p=Math.cbrt(h),_=Number(p.toFixed(1)),g=o(a.node_type)||"",m=g&&(a!=null&&a.properties)&&(a==null?void 0:a.properties[g])||"";return C.jsx(sd,{color:u,index:c,name:m,node:a,nodeType:a.node_type,scale:_},a.ref_id)})]})})},Qb=d.memo(qb);function Jb(t){const e=d.useRef(t);d.useEffect(()=>{const n=Object.entries(t).reduce((r,[i,s])=>(e.current[i]!==s&&(r[i]=[e.current[i],s]),r),{});Object.keys(n).length>0&&console.log("Changed props:",n),e.current=t})}const ew=t=>{const e=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;return t.replace(e,n=>/^[\d*#]$/.test(n)?n:"")};function Gl(t){return t.replace(/^(?:@\w+\s+)+/,"").trim()}const tw=({width:t,height:e,radius:n,color:r})=>{const i=d.useMemo(()=>{const s=new xs;return s.moveTo(-t/2,-e/2),s.lineTo(t/2-n,-e/2),s.quadraticCurveTo(t/2,-e/2,t/2,-e/2+n),s.lineTo(t/2,e/2-n),s.quadraticCurveTo(t/2,e/2,t/2-n,e/2),s.lineTo(-t/2,e/2),s.lineTo(-t/2,-e/2),s},[t,e,n]);return C.jsxs("mesh",{children:[C.jsx("shapeGeometry",{args:[i]}),C.jsx("meshBasicMaterial",{color:r,opacity:.95,transparent:!0})]})},od=d.memo(({text:t,id:e})=>{const n=t.length*.45*10,[r,i]=d.useState(100),s=30,o=6,a=10,c=l=>{if(l){l.updateMatrixWorld();const u=new aa().setFromObject(l),f=new ge;u.getSize(f);const h=n||f.x;i(h+a*2)}};return C.jsxs("group",{children:[C.jsxs("mesh",{name:"evt-handle",position:[r/2+15,0,0],children:[C.jsxs("mesh",{position:[0,0,2],userData:{ref_id:e},children:[C.jsx("boxGeometry",{args:[r,s,1]}),C.jsx("meshBasicMaterial",{color:"yellow",depthWrite:!1,opacity:0,transparent:!0})]}),C.jsx(tw,{color:"#23252F",height:s,radius:o,width:r})]}),C.jsx(ia,{ref:c,color:"white",position:[15+a,0,1],...sa,anchorX:"left",fontSize:10,name:"text",onSync:c,children:t})]})});od.displayName="TextWithBackground";const ad=d.memo(t=>{var y,v,w,E;const{node:e,hide:n,ignoreDistance:r,color:i,scale:s}=t,o=d.useRef(null),a=d.useRef(null),c=d.useRef(new ge),[l,u]=d.useState(null);Jb(t);const{normalizedSchemasByType:f,getNodeKeysByType:h}=jt(T=>T),p=h(e.node_type)||"",_=p&&(e!=null&&e.properties)?Gl(ew(String((e==null?void 0:e.properties[p])||""))):Gl(e.name||"");d.useEffect(()=>{var S;if(!((S=e==null?void 0:e.properties)!=null&&S.image_url))return;new vs().load(e.properties.image_url,u,void 0,()=>{var R;return console.error(`Failed to load texture: ${(R=e==null?void 0:e.properties)==null?void 0:R.image_url}`)})},[(y=e==null?void 0:e.properties)==null?void 0:y.image_url]),St(({camera:T})=>{var H;if(!a.current)return;const{selectedNode:S,hoveredNode:R,activeEdge:z,searchQuery:L,selectedNodeTypes:U,selectedLinkTypes:B,hoveredNodeSiblings:Y,selectedNodeSiblings:G}=Se.getState(),V=()=>{const K=c.current.setFromMatrixPosition(a.current.matrixWorld);a.current&&(a.current.visible=r?!0:K.distanceTo(T.position)<1500)};L.length<3&&!U.length&&!B.length&&!S?V():a.current.visible=!1,(e.ref_id===(S==null?void 0:S.ref_id)||e.ref_id===(R==null?void 0:R.ref_id)||(z==null?void 0:z.target)===e.ref_id||(z==null?void 0:z.source)===e.ref_id||L&&_.toLowerCase().includes(L.toLowerCase())||U.includes(e.node_type)||Y.includes(e.ref_id)||G.includes(e.ref_id)||((H=e.edgeTypes)==null?void 0:H.some(K=>B.includes(K))))&&a.current&&!a.current.visible&&(a.current.visible=!0)});const g=(v=f[e.node_type])==null?void 0:v.secondary_color,m=(w=f[e.node_type])==null?void 0:w.icon,x=g??i,k=(m?ys[m]:null)?m:"NodesIcon";return C.jsx(ma,{follow:!0,lockX:!1,lockY:!1,lockZ:!1,name:"billboard",userData:e,children:C.jsxs("mesh",{ref:a,name:e.ref_id,position:[0,0,1],scale:s,userData:e,visible:!n,children:[(E=e==null?void 0:e.properties)!=null&&E.image_url&&l?C.jsxs(C.Fragment,{children:[C.jsx("planeGeometry",{args:[$n-2,$n-2]}),C.jsx("meshBasicMaterial",{map:l})]}):C.jsx(sp,{ref:o,name:"svg",onUpdate:T=>{T.traverse(S=>{S instanceof lu&&(S.material=new oh({color:id(x,3,10)[3]}))})},position:[-$n/4,$n/4,1],src:`/svg-icons/${k}.svg`,userData:e}),_&&C.jsx(od,{id:e.ref_id,text:Wi(_,20)})]})})},(t,e)=>t.hide===e.hide&&t.scale===e.scale&&t.ignoreDistance===e.ignoreDistance&&t.node.ref_id===e.node.ref_id&&t.scale===e.scale);ad.displayName="TextNode";const cd=d.memo(t=>{const{node:e,color:n,isFixed:r,scale:i}=t;return C.jsx("mesh",{name:"wr2",userData:e,children:C.jsx("mesh",{name:"text-node-wrapper",visible:r,children:C.jsx(ad,{color:n,ignoreDistance:!1,node:e,scale:i},e.ref_id)})},e.ref_id)},(t,e)=>t.isFixed===e.isFixed&&t.scale===e.scale);cd.displayName="NodeWrapper";const nw=200,ld=d.memo(()=>{const t=_n(),e=au(),n=d.useRef(null),r=d.useRef(null),{selectionGraphData:i,showSelectionGraph:s,setHoveredNode:o,setIsHovering:a,simulation:c}=Se(y=>y),l=na(),u=Xe(y=>y.dataInitial),f=Xe(y=>y.nodesNormalized),h=hr(y=>y.setTranscriptOpen),{navigateToNode:p}=_s(),_=d.useCallback(y=>(s&&!i.nodes.find(v=>v.ref_id===y.ref_id),!1),[s,i]),g=d.useCallback(y=>{const v=y==null?void 0:y[0];v&&(h(!1),v.userData&&(_(v.userData)||p(v.userData.ref_id)))},[h,_,p]),m=d.useRef(null),x=d.useCallback(y=>{y.stopPropagation(),m.current&&(clearTimeout(m.current),m.current=null),e&&(a(!1),o(null))},[a,o,e]),b=d.useCallback(y=>{var E;const w=y.intersections.map(T=>T.object)[0];if(m.current&&(clearTimeout(m.current),m.current=null),(E=w==null?void 0:w.userData)!=null&&E.ref_id){const T=f.get(w.userData.ref_id);_(T)||(y.stopPropagation(),m.current=setTimeout(()=>{a(!0),o(T)},nw))}},[o,_,a,f]),k=s&&!!t&&!1;return C.jsxs(C.Fragment,{children:[C.jsxs(ip,{filter:y=>y.filter(v=>{var w;return!!((w=v.userData)!=null&&w.ref_id)}),onChange:g,onPointerOut:x,onPointerOver:b,children:[C.jsx("group",{ref:n,name:"simulation-3d-group__nodes",visible:!k,children:u==null?void 0:u.nodes.map((y,v)=>{var L;const w=Ld[l.indexOf(y.node_type)]||q.white;c.nodes()[v];const E=!0,T=f.get(y.ref_id),S=(T==null?void 0:T.weight)||((L=T==null?void 0:T.properties)==null?void 0:L.weight)||1,R=Math.cbrt(S),z=Number(R.toFixed(1));return T?C.jsx(cd,{color:w,isFixed:E,node:T,scale:z},y.ref_id):null})}),C.jsx("group",{ref:r,name:"simulation-3d-group__node-points",children:C.jsx(Qb,{})})]}),!1]})});ld.displayName="Cubes";const rw={earthRef:null},iw=nu(t=>({...rw,setEarthRef:e=>t({earthRef:e})})),Ii=1800,sw=new ge(0,0,0),ow=()=>{const t=d.useRef(null),e=d.useRef(null),{graphStyle:n,showSelectionGraph:r}=Se(a=>a),i=iw(a=>a.setEarthRef),s=Pn("textures/earth/galaxy.png"),o=Pn("textures/earth/clouds.png");return St(({camera:a})=>{e.current&&e.current.position.copy(a.getWorldPosition(sw))}),d.useLayoutEffect(()=>{t.current&&i(t)},[i]),n!=="earth"||r?null:C.jsxs(C.Fragment,{children:[C.jsxs("mesh",{ref:t,userData:{type:"earth"},children:[C.jsx("sphereGeometry",{args:[Ii,200,200]}),C.jsx(aw,{})]}),C.jsxs("mesh",{children:[C.jsx("sphereGeometry",{args:[Ii+2,200,200]}),C.jsx("meshStandardMaterial",{alphaMap:o,map:o,transparent:!0})]}),C.jsxs("mesh",{children:[C.jsx("sphereGeometry",{args:[Ii*4,200,200]}),C.jsx("meshStandardMaterial",{map:s,opacity:.4,side:po,transparent:!0})]}),C.jsx("directionalLight",{ref:e,intensity:.9,position:[0,0,Ii*3]})]})},aw=()=>{const t=Pn("textures/earth/earth.jpeg"),e=Pn("textures/earth/bump.jpeg"),n=Pn("textures/earth/water.png"),r=d.useMemo(()=>new ah({map:t,bumpMap:e,aoMap:e,roughnessMap:e,metalnessMap:n,toneMapped:!0,roughness:35,metalness:0}),[t,e,n]);return C.jsx("meshStandardMaterial",{...r})},cw="C",lw=256,uw=256,fw={g:"LottieFiles AE 0.1.20"},dw=[{ty:0,nm:"I",sr:1,st:0,op:26,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[128,128,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],w:256,h:256,refId:"comp_0",ind:1},{ty:0,nm:"I",sr:1,st:26,op:52,ip:26,hasMask:!1,ao:0,ks:{a:{a:0,k:[128,128,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],w:256,h:256,refId:"comp_1",ind:2},{ty:0,nm:"I",sr:1,st:52,op:78,ip:52,hasMask:!1,ao:0,ks:{a:{a:0,k:[128,128,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],w:256,h:256,refId:"comp_2",ind:3},{ty:0,nm:"I",sr:1,st:78,op:108,ip:78,hasMask:!1,ao:0,ks:{a:{a:0,k:[128,128,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],w:256,h:256,refId:"comp_3",ind:4}],hw="5.5.7",pw=60,mw=104,gw=0,yw=[{nm:"",id:"comp_0",layers:[{ty:4,nm:"I",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.656,.016],[0,20],[-34.641,0],[.016,-19.984]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[51.962,10],[17.321,30],[17.321,-10],[51.962,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,-9.984],[17.32,10],[17.32,-30],[-17.32,-50.016]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,30],[17.32,50],[17.305,10],[-17.32,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.321,10],[-17.321,-30],[17.321,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.321,10],[-51.962,30],[-51.962,-10],[-17.321,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]},{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.641,0],[0,20],[-34.641,0],[0,-20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:1}]},{nm:"",id:"comp_1",layers:[{ty:4,nm:"R",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:0}},ef:[],shapes:[],ind:1},{ty:4,nm:"S",sr:1,st:-20,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,-10.016],[-17.32,-30],[17.32,-50],[51.961,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:2,parent:1},{ty:4,nm:"T",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.641,0],[.015,-20],[0,20],[34.641,40]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:3,parent:1},{ty:4,nm:"S",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,-10.016],[-17.32,-30],[17.32,-50],[51.961,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:4,parent:1},{ty:4,nm:"F",sr:1,st:-20,op:33,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.324,30],[-17.34,-9.984],[17.336,-30.016],[17.336,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:5,parent:1},{ty:4,nm:"T",sr:1,st:-20,op:35,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.641,0],[.015,-20],[0,20],[34.641,40]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:6,parent:1},{ty:4,nm:"F",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.324,30],[-17.34,-9.984],[17.336,-30.016],[17.336,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:7,parent:1},{ty:4,nm:"F",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.305,30],[-17.336,-9.984],[17.336,-30.016],[17.32,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:8,parent:1},{ty:4,nm:"T",sr:1,st:-20,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[.016,-20.016],[-34.643,-40],[-34.641,.016],[0,20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:9,parent:1},{ty:4,nm:"S",sr:1,st:-20,op:31,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,-10],[17.321,30],[-17.321,10],[-17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.305,50],[-51.961,30],[-17.321,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:10,parent:1},{ty:4,nm:"F",sr:1,st:-20,op:34,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.305,30],[-17.336,-9.984],[17.336,-30.016],[17.32,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:11,parent:1},{ty:4,nm:"S",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,-10],[17.321,30],[-17.321,10],[-17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.305,50],[-51.961,30],[-17.321,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:12,parent:1},{ty:4,nm:"T",sr:1,st:-20,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[.016,-20.016],[-34.643,-40],[-34.641,.016],[0,20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:13,parent:1}]},{nm:"",id:"comp_2",layers:[{ty:4,nm:"R",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:0}},ef:[],shapes:[],ind:1},{ty:4,nm:"T",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-34.656,.031],[.047,-19.969],[34.652,.031],[0,20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:2,parent:1},{ty:4,nm:"S",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,10],[17.32,-9.984],[17.32,-50],[-17.32,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:3,parent:1},{ty:4,nm:"F",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.321,30],[-51.962,10],[-51.962,-30],[-17.321,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:4,parent:1},{ty:4,nm:"S",sr:1,st:0,op:30,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,30],[-17.32,10],[-17.32,-30],[17.32,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,10],[17.32,-9.984],[17.32,-50],[-17.32,-30]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:5,parent:1},{ty:4,nm:"F",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[51.962,30],[17.321,10],[17.321,-30],[51.962,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:6,parent:1},{ty:4,nm:"S",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.321,10],[-17.321,-30],[17.321,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,50],[17.32,30],[17.336,-10],[-17.336,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:7,parent:1},{ty:4,nm:"F",sr:1,st:0,op:30,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[51.962,30],[17.321,10],[17.321,-30],[51.962,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:8,parent:1},{ty:4,nm:"T",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-34.656,0],[.015,-20],[34.656,0],[.012,20.062]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:9,parent:1}]},{nm:"",id:"comp_3",layers:[{ty:4,nm:"R",sr:1,st:0,op:30,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[128,128,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:0}},ef:[],shapes:[],ind:1},{ty:4,nm:"S",sr:1,st:0,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.321,10],[-17.321,-30],[17.321,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-10],[-17.32,-30.016],[-51.961,-10],[-17.305,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:2,parent:1},{ty:4,nm:"T",sr:1,st:0,op:32,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[.015,60.016],[-34.642,40],[-34.641,0],[0,20]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,30]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:3,parent:1},{ty:4,nm:"S",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,10],[-17.32,-30],[17.32,-10],[17.32,30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.312,-10],[-17.313,10],[17.332,30],[51.977,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:4,parent:1},{ty:4,nm:"F",sr:1,st:0,op:32,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,10],[-17.321,30],[-17.321,-10],[17.321,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-29.984],[17.348,10],[-17.305,30],[-17.305,-9.984]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:5,parent:1},{ty:4,nm:"F",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-30],[17.32,10],[-17.32,30],[-17.336,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:6,parent:1},{ty:4,nm:"S",sr:1,st:0,op:13,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.321,30],[-17.321,10],[-17.321,-30],[17.321,-10]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-10],[-17.32,-30.016],[-51.961,-10],[-17.305,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[61.962,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:7,parent:1},{ty:4,nm:"T",sr:1,st:0,op:32,ip:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"T",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,20],[-34.641,0],[0,-20],[34.641,0]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[34.641,0],[0,-20],[0,-60.016],[34.641,-40]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[44.641,70]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:8,parent:1},{ty:4,nm:"S",sr:1,st:0,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"S",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-17.32,10],[-17.32,-30],[17.32,-10],[17.32,30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.312,-10],[-17.313,10],[17.332,30],[51.977,10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,60]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:9,parent:1},{ty:4,nm:"F",sr:1,st:0,op:32,ip:13,hasMask:!1,ao:0,ks:{a:{a:0,k:[44.641,50,0]},s:{a:0,k:[100,100,100]},sk:{a:0,k:0},p:{a:0,k:[0,0,0]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}},ef:[],shapes:[{ty:"gr",nm:"F",it:[{ty:"sh",nm:"P",d:1,ks:{a:1,k:[{o:{x:.8,y:0},i:{x:.2,y:1},s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.32,10],[-17.32,30],[-17.32,-10],[17.32,-30]]}],t:0},{s:[{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[17.336,-30],[17.32,10],[-17.32,30],[-17.336,-10]]}],t:26}]}},{ty:"st",nm:"S",lc:1,lj:2,ml:1,o:{a:0,k:100},w:{a:0,k:4},c:{a:0,k:[1,1,1]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sk:{a:0,k:0},p:{a:0,k:[27.32,40]},r:{a:0,k:0},sa:{a:0,k:0},o:{a:0,k:100}}]}],ind:10,parent:1}]}],_w={nm:cw,h:lw,w:uw,meta:fw,layers:dw,v:hw,fr:pw,op:mw,ip:gw,assets:yw},xw=({meshId:t})=>{const e=d.useRef(null);return d.useEffect(()=>{const n=document.getElementById(`lottie-animation-${t}`);return n&&(e.current=vd.loadAnimation({container:n,animationData:_w,loop:!0,autoplay:!0})),()=>{e.current&&e.current.destroy()}},[t]),C.jsx("div",{id:`lottie-animation-${t}`,style:{width:"2em",height:"2em"}})},uo=()=>Math.floor(Math.random()*2001)-1e3,vw=()=>C.jsx(C.Fragment,{children:["a","b","c"].map(t=>{const e=uo(),n=uo(),r=uo();return C.jsx("mesh",{position:[e,n,r],children:C.jsx(pr,{center:!0,sprite:!0,children:C.jsx(bw,{children:C.jsx(xw,{meshId:t})})})},t)})}),bw=te.div`
  border: 2px solid white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 20px;
`,ww=({chapters:t})=>{const e=d.useMemo(()=>Object.values(Fd(t,1e3)),[t]);return C.jsx("group",{children:e.map((n,r)=>C.jsxs("mesh",{position:[n.x,n.y,n.z],children:[C.jsx("boxGeometry",{args:[400,400,400]}),C.jsx("meshBasicMaterial",{color:"orange",opacity:0,transparent:!0}),C.jsx(pr,{position:[0,200,0],children:C.jsx("div",{style:{color:"white",display:"flex",whiteSpace:"nowrap",transform:"translateX(-50%)",fontWeight:"600"},children:t[r].name})})]},n.x))})},kw=async t=>{const e=`/git/analyze?git_repository=${t}&analysis=["coverage"]`;return await bd.get(e)},zr=t=>({close:{backgroundColor:"rgba(48, 51, 66, 1)",borderColor:"#fff",fontColor:"rgba(255, 255, 255, 1)"},focus:{backgroundColor:t?"rgba(255, 255, 255, 0.90);":"rgba(255, 255, 255, 0.90)",borderColor:t?"#FFDB58bb":"#fff",fontColor:"rgba(48, 51, 66, 1)"},menu:{backgroundColor:"#00000066",borderColor:t?"#ffffff66":"#5078f2",fontColor:t?"#ffffff66":"#fff"}}),Ew=new ge,ud=d.memo(()=>{var N;const t=d.useRef(null),e=hr(H=>H.setSidebarOpen),{normalizedSchemasByType:n,setSelectedActionDetail:r}=jt(H=>H),[i,s]=P.useState(null),[o,a]=d.useState([]),[c,l]=d.useState(!1),{open:u}=Cn("editNodeName"),{open:f}=Cn("nodeAction"),{open:h}=Cn("addEdgeToNode"),{open:p}=Cn("mergeToNode"),[_]=ea(H=>[H.isAdmin]),{addNewNode:g}=Xe(H=>H),m=_n(),{showSelectionGraph:x,selectionGraphData:b,setShowSelectionGraph:k}=Se(H=>H),{navigateToNode:y}=_s(),v=uh(),w=m==null?void 0:m.node_type;let E;n&&n[w]&&n[w].action&&(E=n[w].action);const T=d.useCallback(async()=>{try{if(m!=null&&m.ref_id){const H=await iu(m==null?void 0:m.ref_id,b.nodes.length||0);H&&g(H)}}catch(H){console.error(H)}},[g,m==null?void 0:m.ref_id,b.nodes.length]);St(()=>{S()});const S=d.useCallback(()=>{const H=x?b:v;if(t.current){const K=H==null?void 0:H.nodes.find(se=>se.ref_id===(m==null?void 0:m.ref_id));if(K){const se=Ew.set(K==null?void 0:K.x,K==null?void 0:K.y,K==null?void 0:K.z);t.current.position.copy(se)}}},[m,x,b,v]),R=d.useMemo(()=>{const H=_?[{key:"control-key-1",colors:zr(x).focus,icon:C.jsx(fu,{}),left:-80,className:"add",onClick:se=>{s(se.currentTarget),E&&E.length>0&&z(E)}},{key:"control-key-2",colors:zr(x).focus,icon:C.jsx(uu,{}),left:-40,className:"edit",onClick:()=>{u()}}]:[],K=[{key:"control-key-4",colors:zr(x).focus,icon:C.jsx(wd,{}),left:0,className:"expand",onClick:()=>{const se=!x;k(se),se&&e(!0)}},{key:"control-key-5",colors:zr(!0).close,icon:C.jsx(qr,{}),left:40,className:"exit",onClick:()=>{T()}},{key:"control-key-6",colors:zr(!0).close,icon:C.jsx(kd,{}),left:40,className:"exit",onClick:()=>{k(!1),y(null)}}];return[...H,...K].map((se,M)=>({...se,left:-80+M*40}))},[_,x,u,k,e,T,y,E]);async function z(H){l(!0),a([]);try{const K=await du(H);a(K.actions)}catch(K){console.error(K)}finally{l(!1)}}if(!m)return null;const L=()=>{s(null)},U=async H=>{try{await kw(H)}catch(K){console.error("error during test coverage analysis:",K)}},B=H=>{r(H),f(),L()},Y=!!i,G=Y?"simple-popover":void 0,V=((N=m==null?void 0:m.node_type)==null?void 0:N.toLowerCase())==="repository";return C.jsx("group",{ref:t,position:[m.x,m.y,m.z],children:C.jsxs(pr,{center:!0,className:"control-panel",onClick:H=>H.stopPropagation(),onKeyDown:H=>H.stopPropagation(),onPointerDown:H=>H.stopPropagation(),onPointerOut:H=>H.stopPropagation(),onPointerOver:H=>H.stopPropagation(),onPointerUp:H=>H.stopPropagation(),sprite:!0,zIndexRange:[16777271,16777272],children:[R.map(H=>C.jsx(Tw,{backgroundColor:H.colors.backgroundColor,borderColor:H.colors.borderColor,className:H.className,fontColor:H.colors.fontColor,left:H.left,onClick:K=>{K.stopPropagation(),H.onClick(K)},children:H.icon},H.key)),C.jsx(Cw,{anchorEl:i,anchorOrigin:{vertical:"bottom",horizontal:"right"},id:G,onClose:L,open:Y,transformOrigin:{vertical:"top",horizontal:"right"},children:V?C.jsx(C.Fragment,{children:C.jsxs(Nr,{"data-testid":"generate_tests",onClick:()=>{var H,K;(H=m==null?void 0:m.properties)!=null&&H.name&&U((K=m==null?void 0:m.properties)==null?void 0:K.name),L()},children:[C.jsx(Ow,{children:C.jsx(tc,{"data-testid":"AddCircleIcon"})}),"Analyze Test Coverage"]})}):C.jsx(C.Fragment,{children:E&&E.length>0?C.jsxs(C.Fragment,{children:[c&&C.jsx(Nr,{children:C.jsx(Sw,{mb:10,mt:10,children:C.jsx(ca,{color:q.lightGray,size:25})})}),o.map(H=>C.jsx(Nr,{"data-testid":H.name,onClick:()=>{B(H)},children:H.display_name},H.name))]}):C.jsxs(C.Fragment,{children:[C.jsxs(Nr,{"data-testid":"merge",onClick:()=>{p(),L()},children:[C.jsx(fh,{"data-testid":"MergeIcon"})," Merge"]}),C.jsxs(Nr,{"data-testid":"add_edge",onClick:()=>{h(),L()},children:[C.jsx(tc,{"data-testid":"AddCircleIcon"}),"Add edge"]})]})})})]})})});ud.displayName="NodeControls";const Tw=te.div`
  position: fixed;
  top: -60px;
  left: ${t=>-7+t.left}px;
  width: 24px;
  height: 24px;

  border-radius: 40px;
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${t=>t.backgroundColor?t.backgroundColor:"#000000bb"};
  color: ${t=>t.fontColor?t.fontColor:"#ffffff"};
  border-radius: 100%;
  font-size: 16px;
  cursor: pointer;
  transition: opacity 0.4s;
  box-shadow: 0px 2px 12px rgba(0, 0, 0, 0.5);
`,Nr=te(pe).attrs({direction:"row",px:12,py:8})`
  display: flex;
  align-items: center;
  justify-content: start;
  gap: 12px;
  cursor: pointer;
  background: ${q.BUTTON1};
  color: ${q.white};

  &:hover {
    background: ${q.BUTTON1_HOVER};
    color: ${q.GRAY3};
  }
`,Cw=te(cu)`
  && {
    z-index: 9999;
  }
  .MuiPaper-root {
    min-width: 149px;
    color: ${q.GRAY3};
    box-shadow: 0px 1px 6px 0px rgba(0, 0, 0, 0.2);
    border-radius: 6px;
    z-index: 1;
    font-family: Barlow;
    font-size: 14px;
    font-weight: 500;
    background-color: transparent !important;
    margin: 2px;
  }
`,Ow=te.div`
  display: flex;
  align-items: center;
  justify-content: start;

  svg {
    margin-top: 1px;
    width: 12px;
    height: 12px;
  }
`,Sw=te(pe)`
  justify-content: center;
  align-items: center;
  width: 100%;
`,fd=d.memo(()=>C.jsx(C.Fragment,{children:C.jsx(ud,{})}));fd.displayName="NodeDetailsPanel";const Xl=t=>{const e=new aa().setFromObject(t),n=new oa;return e.getBoundingSphere(n),n.radius},$w=()=>{const{dataInitial:t,isLoadingNew:e,isFetching:n,dataNew:r,resetDataNew:i}=Xe(y=>y),s=d.useRef(null),{normalizedSchemasByType:o}=jt(y=>y),a=d.useRef(0),c=Ud(y=>y.chapters);Q0({useClustering:!1});const l=d.useRef(new Map),u=d.useRef(new Map),{setData:f,simulation:h,simulationCreate:p,simulationHelpers:_,graphStyle:g,setGraphRadius:m,updateSimulationVersion:x}=Se(y=>y),b=Se(y=>y.highlightNodes),k=Se(y=>y.removeSimulation);return Ov(),d.useEffect(()=>{b.length&&(_==null||_.addClusterForce(),_.simulationRestart())},[_,b]),d.useEffect(()=>{if(!r)return;const y=r.nodes||[],v=r.links||[],w=structuredClone(y),E=structuredClone(v);if(h){const T=Ed.isEqual(r,t);_.addNodesAndLinks(w,E,T)}h||p(w,E)},[f,r,h,p,_,t]),d.useEffect(()=>{},[k]),d.useEffect(()=>{h&&_.setForces()},[g,_,h]),d.useEffect(()=>{if(!h||!(s!=null&&s.current))return;const{selectedNode:y}=Se.getState(),v=s.current.getObjectByName("simulation-3d-group__nodes"),w=s.current.getObjectByName("simulation-3d-group__node-points"),E=s.current.getObjectByName("simulation-3d-group__connections");h.on("tick",()=>{if(s!=null&&s.current){if(v&&w){const T=h.nodes(),S=Math.max(v.children.length,w.children[0].children.length);for(let R=0;R<S;R+=1){const z=T[R];z&&(v.children[R]&&v.children[R].position.set(z.x,z.y,z.z),w.children[0].children[R]&&w.children[0].children[R].position.set(z.x,z.y,z.z))}}if(l.current.clear(),t==null||t.links.forEach(T=>{const S=u.current.get(T.source)||{x:0,y:0,z:0},R=u.current.get(T.target)||{x:0,y:0,z:0},{x:z,y:L,z:U}=S,{x:B,y:Y,z:G}=R;l.current.set(T.ref_id,{sx:z,sy:L,sz:U,tx:B,ty:Y,tz:G})}),E&&E.children.forEach((T,S)=>{const R=T.children[0],z=T.children[1];if(R instanceof Vi){const L=R,U=t==null?void 0:t.links[S];if(U){const B=u.current.get(U.source)||{x:0,y:0,z:0},Y=u.current.get(U.target)||{x:0,y:0,z:0};if(!B||!Y){console.warn(`Missing source or target node for link: ${U==null?void 0:U.ref_id}`);return}const{x:G,y:V,z:N}=B,{x:H,y:K,z:se}=Y;l.current.set(U.ref_id,{sx:G,sy:V,sz:N,tx:H,ty:K,tz:se}),z.position.set((G+H)/2,(V+K)/2,(N+se)/2),L.geometry.setPositions([G,V,N,H,K,se]);const{material:M}=L;M.transparent=!0,M.opacity=.3}}}),v){if(y)return;const T=Xl(v);(a.current===0||Math.abs(a.current-T)>200)&&(m(T),a.current=T)}}}),h.on("end",()=>{if(i(),h.nodes().forEach(T=>{T.fx=T.x,T.fy=T.y,T.fz=T.z,u.current.set(T.ref_id,{x:T.x,y:T.y,z:T.z})}),s!=null&&s.current){if(v&&w){const T=h.nodes(),S=Math.max(v.children.length,w.children[0].children.length);for(let R=0;R<S;R+=1){const z=T[R];z&&(v.children[R]&&v.children[R].position.set(z.x,z.y,z.z),w.children[0].children[R]&&w.children[0].children[R].position.set(z.x,z.y,z.z))}}if(l.current.clear(),t==null||t.links.forEach(T=>{const S=u.current.get(T.source)||{x:0,y:0,z:0},R=u.current.get(T.target)||{x:0,y:0,z:0},{x:z,y:L,z:U}=S,{x:B,y:Y,z:G}=R;l.current.set(T.ref_id,{sx:z,sy:L,sz:U,tx:B,ty:Y,tz:G})}),E&&E.children.forEach((T,S)=>{const R=T.children[0],z=T.children[1];if(R instanceof Vi){const L=R,U=t==null?void 0:t.links[S];if(U){const B=u.current.get(U.source)||{x:0,y:0,z:0},Y=u.current.get(U.target)||{x:0,y:0,z:0};if(!B||!Y){console.warn(`Missing source or target node for link: ${U==null?void 0:U.ref_id}`);return}const{x:G,y:V,z:N}=B,{x:H,y:K,z:se}=Y;l.current.set(U.ref_id,{sx:G,sy:V,sz:N,tx:H,ty:K,tz:se}),z.position.set((G+H)/2,(V+K)/2,(N+se)/2),L.geometry.setPositions([G,V,N,H,K,se]);const{material:M}=L;M.transparent=!0,M.opacity=.3}}}),v){if(y)return;const T=Xl(v);(a.current===0||Math.abs(a.current-T)>200)&&(m(T),a.current=T)}x()}})},[t,h,m,o,i,x]),h?C.jsxs("group",{ref:s,children:[C.jsx(ld,{}),c!=null&&c.length&&g==="force"?C.jsx(ww,{chapters:c}):null,C.jsx(fd,{}),g==="earth"&&C.jsx(ow,{}),(e||n)&&C.jsx(vw,{}),g!=="earth"&&C.jsx(nd,{linksPosition:l.current})]}):null},Pw=()=>{const t=Xe(s=>s.linkTypes),e=Se(s=>s.setSelectedLinkTypes),n=Se(s=>s.selectedLinkTypes),r=Se(s=>s.resetSelectedLinkTypes);function i(s){e(s)}return C.jsxs(Rw,{children:[C.jsx(Kl,{className:ir({isActive:!n.length}),onClick:()=>r(),children:C.jsx("div",{className:"text",children:"All Links"})}),t.map(s=>C.jsx(Kl,{className:ir({isActive:n.includes(s)}),onClick:()=>i(s),children:C.jsx("div",{className:"text",children:s})},s))]})},Rw=te(pe).attrs({align:"center",direction:"row",grow:1,justify:"flex-start"})`
  flex: 1 1 100%;
  flex-wrap: wrap;
  gap: 8px;
  padding: 8px;
`,Kl=te(pe).attrs({align:"center",direction:"row",justify:"flex-start"})`
  color: ${q.white};
  background: ${q.BG1};
  padding: 6px 10px 6px 8px;
  font-family: Barlow;
  font-size: 13px;
  font-style: normal;
  font-weight: 500;
  line-height: 15px;
  letter-spacing: 0.78px;
  border-radius: 200px;
  cursor: pointer;

  &.isActive {
    background: ${q.white};
    color: ${q.BG1};

    &:hover {
      background: ${q.white};
      color: ${q.BG1};
    }
  }

  &:hover {
    background: ${q.BUTTON1_PRESS};
  }

  &:active {
    background: ${q.BUTTON1};
  }

  .icon {
    margin-right: 8px;
    font-size: 16px;
  }

  .text {
  }
`,Aw=()=>{const{normalizedSchemasByType:t}=jt(o=>o),e=na(),n=Se(o=>o.setSelectedNodeTypes),r=Se(o=>o.selectedNodeTypes),i=Se(o=>o.resetSelectedNodeTypes);function s(o){n(o)}return C.jsxs(Dw,{children:[C.jsx(Zl,{className:ir({isActive:!r.length}),onClick:()=>i(),children:C.jsx("div",{className:"text",children:"All Nodes"})}),e.map(o=>{var l;const a=(l=t[o])==null?void 0:l.icon,c=ys[a]||qr;return C.jsxs(Zl,{className:ir({isActive:r.includes(o)}),onClick:()=>s(o),children:[C.jsx("div",{className:"icon",children:C.jsx(c,{})}),C.jsx("div",{className:"text",children:o})]},o)})]})},Dw=te(pe).attrs({align:"center",direction:"row",grow:1,justify:"flex-start"})`
  flex: 1 1 100%;
  flex-wrap: wrap;
  gap: 8px;
  padding: 8px;
`,Zl=te(pe).attrs({align:"center",direction:"row",justify:"flex-start"})`
  color: ${q.white};
  background: ${q.BG1};
  padding: 6px 10px 6px 8px;
  font-family: Barlow;
  font-size: 13px;
  font-style: normal;
  font-weight: 500;
  line-height: 15px;
  letter-spacing: 0.78px;
  border-radius: 200px;
  cursor: pointer;

  &.isActive {
    background: ${q.white};
    color: ${q.BG1};

    &:hover {
      background: ${q.white};
      color: ${q.BG1};
    }
  }

  &:hover {
    background: ${q.BUTTON1_PRESS};
  }

  &:active {
    background: ${q.BUTTON1};
  }

  .icon {
    margin-right: 8px;
    font-size: 16px;
  }

  .text {
  }
`,Mw=()=>{const[t,e]=Se(r=>[r.setSearchQuery,r.searchQuery]);return hr(r=>r.universeQuestionIsOpen)?null:C.jsxs(Lw,{children:[C.jsxs(Iw,{children:[C.jsx(jw,{id:"graph-search",onChange:r=>t(r.target.value),placeholder:"Search graph",type:"text",value:e}),C.jsx(zw,{"data-testid":"search_action_icon",onClick:()=>{t("")},children:C.jsx(C.Fragment,{children:e!=null&&e.trim()?C.jsx(Cd,{}):null})})]}),C.jsx(Aw,{}),C.jsx(Pw,{})]})},Lw=te(pe)`
  padding: 16px;
  position: absolute;
  top: 0;
  left: 0;
  flex-direction: column;
  right: 0;
  align-items: flex-start;
  justify-content: flex-start;
`,Iw=te(pe)`
  flex-direction: row;
  margin-bottom: 16px;
  z-index: 100;
`,jw=te.input.attrs(()=>({autoCorrect:"off",autoComplete:"off"}))`
  pointer-events: auto;
  height: 48px;
  padding: 0 40px 0 18px;
  z-index: 2;
  box-shadow: 0px 1px 6px rgba(0, 0, 0, 0.1);
  width: 100%;
  color: #fff;
  box-shadow: none;
  border: none;
  border-radius: 200px;
  background: ${q.BG2};

  -webkit-autofill,
  -webkit-autocomplete,
  -webkit-contacts-auto-fill,
  -webkit-credentials-auto-fill {
    display: none !important;
    visibility: hidden !important;
    pointer-events: none !important;
    position: absolute !important;
    right: 0 !important;
  }

  &:focus {
    outline: 1px solid ${q.primaryBlue};
  }

  &::placeholder {
    color: ${q.GRAY7};
  }

  ${({loading:t})=>t&&Td`
      background-image: url('https://i.gifer.com/ZZ5H.gif');
      background-size: 25px 25px;
      background-position: right center;
      background-position-x: 95%;
      background-repeat: no-repeat;
    `}
`,zw=te(pe).attrs({align:"center",justify:"center",p:5})`
  font-size: 32px;
  color: ${q.mainBottomIcons};
  cursor: pointer;
  transition-duration: 0.2s;
  margin-left: -42px;
  z-index: 2;
  width: 30px;
`,Nw=({fullSize:t=!0})=>{const e=hr(n=>n.sidebarIsOpen);return C.jsx(Fw,{align:"center",className:ir({"sidebar-is-open":e&&!t}),justify:"center",children:C.jsx(ca,{color:q.SECONDARY_BLUE,size:64})})},Fw=te(pe)`
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  top: 0;
  background-color: ${q.black};
  z-index: 1;
`,dd=t=>{const e=d.useRef(null),{label:n,sourceX:r,sourceY:i,sourceZ:s,targetX:o,targetY:a,targetZ:c}=t;return C.jsxs("group",{children:[C.jsx(su,{ref:e,color:"white",isLine2:!0,lineWidth:2,name:"line",points:[r,i,s,o,a,c]}),C.jsxs("mesh",{children:[C.jsx("planeGeometry",{args:[n.length*1,2]}),C.jsx("meshBasicMaterial",{color:"black"}),C.jsx(ia,{anchorX:"center",anchorY:"middle",color:"white",...sa,scale:1.5,children:n})]})]})};dd.displayName="Connection";const Uw=d.memo(dd),Bw="#68BE3E",hd=d.memo(({links:t,nodes:e})=>{const n=d.useRef(null),r=d.useRef(new Map),{setSelectionGraphRadius:i}=Se(Bd(s=>s));return d.useEffect(()=>{if(!n.current)return;n.current.children.forEach((l,u)=>{const f=l.children[0],h=l.children[1];if(f instanceof Vi){const p=f,_=t[u];if(_){const g=e.find(T=>T.ref_id===_.source),m=e.find(T=>T.ref_id===_.target);if(!g||!m)return;const{x,y:b}=g,{x:k,y}=m;r.current.set(_.ref_id,{sx:x,sy:b,tx:k,ty:y,sz:0,tz:0});const v=new ge((x+k)/2,(b+y)/2,0);h.position.set(v.x,v.y,1);let w=Math.atan2(y-b,k-x);(k<x||Math.abs(k-x)<.01&&y<b)&&(w+=Math.PI),h.rotation.set(0,0,w),p.geometry.setPositions([x,b,0,k,y,0]);const{material:E}=p;E.color=new Yi(q.white),h.visible=!0,E.opacity=1,E.linewidth=2,m.isPathNode&&g.isPathNode&&(E.color=new Yi(Bw),h.visible=!1,E.linewidth=4,E.transparent=!0,E.opacity=.3)}}});const o=e.map(l=>new ge(l.x,l.y,l.z)),a=new aa().setFromPoints(o),c=new oa;a.getBoundingSphere(c),i(c.radius)},[t,i,e]),C.jsx("group",{ref:n,name:"simulation-3d-group__connections",children:t==null?void 0:t.map(s=>{var a;const o=((a=r.current)==null?void 0:a.get(s.ref_id))||{sx:0,sy:0,sz:0,tx:0,ty:0,tz:0};return C.jsx(Uw,{label:s.edge_type,sourceX:o.sx,sourceY:o.sy,sourceZ:o.sz,targetX:o.tx,targetY:o.ty,targetZ:o.tz},s.ref_id)})})});hd.displayName="Connections";const Hw=({onClick:t,node:e,selected:n,rounded:r=!0,x:i,y:s,z:o,id:a})=>{var O,I,W,D,X,oe,ne,re;const c=d.useRef(null),[l]=ea(Z=>[Z.isAdmin]),{open:u}=Cn("editNodeName"),{open:f}=Cn("createBounty"),{open:h}=Cn("nodeAction"),p=_n(),[_,g]=d.useState(null),[m,x]=d.useState(),[b,k]=d.useState(!1),{navigateToNode:y}=_s(),{normalizedSchemasByType:v,getNodeKeysByType:w,setSelectedActionDetail:E}=jt(Z=>Z),T=new ge(i,s,o);St(()=>{c.current&&c.current.position.lerp(T,.05)});const S=()=>{g(null)},R=(O=v[e.node_type])==null?void 0:O.action;async function z(Z){x(void 0),k(!0);try{const fe=await du(Z);x(fe.actions),k(!1)}catch(fe){console.error(fe)}}const L=Z=>{g(Z.currentTarget),R&&z(R)},U=!!_,B=U?"simple-popover":void 0,Y=(I=v[e.node_type])==null?void 0:I.icon,G=Z=>{E(Z),h(),S()},V=Y?ys[Y]:null,N=w(e.node_type)||"",H=e!=null&&e.properties&&N?(e==null?void 0:e.properties[N])||"":e.name||"",K=H?Wi(H,30):"",se=N!=="description"?(W=e.properties)==null?void 0:W.description:"",M=se?Wi(se,60):"",j=!!(p&&((D=p==null?void 0:p.node_type)==null?void 0:D.toLowerCase())==="function");return C.jsx("mesh",{ref:c,children:C.jsx(pr,{center:!0,sprite:!0,zIndexRange:[0,0],children:C.jsx(Vw,{align:"center",direction:"row",justify:"flex-start",children:C.jsx(C.Fragment,{children:n?C.jsxs(Yw,{className:ir({"has-padding":M}),rounded:!1,children:[C.jsxs(qw,{anchorEl:_,anchorOrigin:{vertical:"bottom",horizontal:"right"},id:B,onClose:S,open:U,transformOrigin:{vertical:"top",horizontal:"right"},children:[b&&C.jsx(Ql,{children:C.jsx(Ww,{mb:10,mt:10,children:C.jsx(ca,{color:q.lightGray,size:25})})}),m==null?void 0:m.map(Z=>C.jsx(Ql,{"data-testid":Z.name,onClick:()=>{G(Z)},children:Z.display_name},Z.name))]}),l&&R&&C.jsx(Kw,{onClick:Z=>L(Z),children:C.jsx(fu,{})}),l&&C.jsx(Gw,{onClick:()=>u(),children:C.jsx(uu,{})}),C.jsx(Xw,{onClick:()=>y(null),children:C.jsx(Nd,{})}),C.jsx("div",{children:C.jsx(ql,{align:"center",height:M?48:100,justify:"center",radius:"6px",src:((X=e==null?void 0:e.properties)==null?void 0:X.image_url)||"",width:M?72:200,children:(oe=e==null?void 0:e.properties)!=null&&oe.image_url?null:C.jsx("span",{children:V?C.jsx(V,{}):C.jsx(qr,{})})})}),C.jsxs(pe,{align:"flex-start",children:[C.jsx(fo,{className:"selected__title",children:K}),M?C.jsx(fo,{children:M}):null]}),j&&C.jsx(Zw,{left:2,onClick:()=>{f()},children:"Generate Unit Test"})]}):C.jsxs(C.Fragment,{children:[C.jsx(pd,{onClick:()=>t(a),rounded:r,children:C.jsx(ql,{align:"center",height:32,justify:"center",radius:"50%",src:((ne=e==null?void 0:e.properties)==null?void 0:ne.image_url)||"",width:32,children:(re=e==null?void 0:e.properties)!=null&&re.image_url?null:C.jsx("span",{children:V?C.jsx(V,{}):C.jsx(qr,{})})})}),C.jsx(fo,{children:K})]})})})})})},Vw=te(pe)`
  background: black;
`,Ww=te(pe)`
  justify-content: center;
  align-items: center;
  width: 100%;
`,fo=te(pe)`
  color: ${q.white};
  margin-left: 16px;
  width: 100px;
`,pd=te(pe)`
  text-align: center;
  width: 48px;
  height: 48px;
  outline: 1px solid ${q.white};
  outline-offset: 0px;
  background: ${q.BG1};
  color: ${q.white};
  border-radius: ${t=>`${t.rounded?"50%":"6px"}`};
  cursor: pointer;
  transition: font-size 0.4s, outline 0.4s;
  align-items: center;
  justify-content: center;
  font-family: Barlow;
  font-size: 12px;
  font-style: normal;
  font-weight: 700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);

  &:hover {
    outline-offset: 4px;
  }
`,Yw=te(pd)`
  width: 200px;
  height: 100px;
  flex-direction: row;
  justify-content: center;
  align-items: flex-start;
  position: relative;
  font-family: Barlow;
  font-weight: 700;
  text-align: left;
  &.has-padding {
    padding: 12px;
  }

  .selected__title {
    position: absolute;
    bottom: -24px;
    font-size: 20px;
    left: 50%;
    top: 100%;
    transform: translateX(-50%) translateY(8px);
    margin-left: 0;
    text-align: center;
    width: 250px;
  }
`,Xa=te(pe)`
  width: 30px;
  height: 30px;
  border-radius: 40px;
  display: flex;
  justify-content: center;
  align-items: center;
  background: black;
  color: #ffffff;
  font-size: 30px;
  cursor: pointer;
  transition: opacity 0.4s;
  box-shadow: 0px 2px 12px rgba(0, 0, 0, 0.5);
  position: absolute; /* Position relative to the parent */
`,Gw=te(Xa)`
  left: 130px;
  top: -10px;
  background: ${q.white};
  color: ${q.BG1};
  border: none;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
  transition: transform 0.2s ease-in-out;

  &:hover {
    transform: scale(1.1);
  }
`,Xw=te(Xa)`
  right: -10px;
  top: -10px;
`,Kw=te(Xa)`
  left: -10px;
  top: -10px;
  background: ${q.white};
  color: ${q.BG1};
  width: 1.5rem;
  height: 1.5rem;
`,ql=te(pe)`
  background-image: ${({src:t})=>`url(${t})`};
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  width: ${({width:t})=>`${t}px`};
  height: ${({height:t})=>`${t}px`};
  border-radius: ${({radius:t})=>`${t}`};
  font-size: 20px;
`,Zw=te.div`
  position: absolute;
  top: 170px;
  left: ${t=>30+t.left}px;
  width: 140px;
  padding: 8px;
  border-radius: 4px;
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${q.createTestButton};
  color: ${q.black};
  font-size: 14px;
  font-family: Barlow;
  font-weight: 600;
  z-index: 1002;
  cursor: pointer;
  &:hover {
    transform: scale(1.05);
  }
`,Ql=te(pe).attrs({direction:"row",px:12,py:8})`
  display: flex;
  align-items: center;
  justify-content: start;
  gap: 12px;
  cursor: pointer;
  background: ${q.BUTTON1};
  color: ${q.white};
  width: 100%;

  &:hover {
    background: ${q.BUTTON1_HOVER};
    color: ${q.GRAY3};
  }
`,qw=te(cu)`
  && {
    z-index: 9999;
  }
  .MuiPaper-root {
    min-width: 149px;
    color: ${q.GRAY3};
    box-shadow: 0px 1px 6px 0px rgba(0, 0, 0, 0.2);
    border-radius: 6px;
    z-index: 1;
    font-family: Barlow;
    font-size: 14px;
    font-weight: 500;
    background-color: transparent !important;
    margin: 2px;
  }
`,ji=50,Qw=7,md=d.memo(()=>{var g;const[t,e]=d.useState(),{addNewNode:n,nodesNormalized:r}=Xe(m=>m),i=Xe(m=>m.dataInitial),s=_n(),o=d.useRef(null),[a,c]=d.useState(null),l=d.useRef(new Map),u=Id(s==null?void 0:s.ref_id),{navigateToNode:f}=_s(),h=d.useMemo(()=>{if(!(t!=null&&t.nodes.length))return{nodes:[],links:[]};const m=(a==null?void 0:a.nodes)||[],x=(a==null?void 0:a.links.filter(S=>!t.links.some(R=>R.ref_id===S.ref_id)))||[],b=t.nodes.filter(S=>!m.some(R=>R.ref_id===S.ref_id)),k=m.at(-1),y=k?{x:k.x,y:k.y}:{x:0,y:0},v=Math.atan2(y.y,y.x),w=m.length+b.length-1,E=Math.PI*2/w;return{nodes:[...m,...b.map((S,R)=>{const z=v+E*(R+1),L=S.ref_id===(s==null?void 0:s.ref_id)?0:Math.cos(z)*ji,U=S.ref_id===(s==null?void 0:s.ref_id)?0:Math.sin(z)*ji,B=(S.ref_id===(s==null?void 0:s.ref_id),0);return{...S,x:L,y:U,z:B}})],links:[...t.links,...x]}},[t==null?void 0:t.nodes,t==null?void 0:t.links,a==null?void 0:a.nodes,a==null?void 0:a.links,s==null?void 0:s.ref_id]),p=d.useMemo(()=>{var x;if((x=h==null?void 0:h.nodes)!=null&&x.length)return h;if(a)return{nodes:a.nodes,links:a.links};const m=s!=null&&s.ref_id?r.get((s==null?void 0:s.ref_id)||""):null;return{nodes:m?[{...m,x:0,y:0,z:0}]:[],links:[]}},[h,a,s==null?void 0:s.ref_id,r]);d.useEffect(()=>{const m=async()=>{if(s!=null&&s.ref_id&&s.ref_id!==u)try{const x=await iu(s.ref_id,0,5,{useSubGraph:!1});if(x){const b=x.nodes.filter((w,E)=>w.ref_id!==s.ref_id&&E<Qw),y=[...b.map(w=>({...w,x:0,y:0,z:0})),{...s,x:0,y:0,z:0,fx:0,fy:0,fz:0}],v=x.edges.filter(w=>y.some(E=>E.ref_id===w.target)&&y.some(E=>E.ref_id===w.source));e({nodes:y,links:v}),l.current=new Map,n({nodes:b,edges:v})}}catch(x){console.error(x)}};if(s)if(s.node_type==="Question"){const x=r.get(s.ref_id);if(!x)return;const b=(x.sources||[]).map(w=>r.get(w)).filter(w=>!!w),k=(x.targets||[]).map(w=>r.get(w)).filter(w=>!!w),y=[...b,...k,{...s,x:0,y:0,z:0,fx:0,fy:0,fz:0}],v=((i==null?void 0:i.links)||[]).filter(w=>y.some(E=>E.ref_id===w.source&&w.target===s.ref_id||E.ref_id===w.target&&w.source===s.ref_id));e({nodes:y,links:v})}else m()},[n,u,s,e,r,i==null?void 0:i.links]);const _=d.useCallback(m=>{if(s){const x=p.nodes.find(S=>S.ref_id===m);if(!x)return;const b=(a==null?void 0:a.nodes.filter(S=>S.ref_id!==x.ref_id))||[],k=[{...x,isPathNode:!1},...b.length?b:[{...s,isPathNode:!0}]].slice(0,3),y=Math.atan2(-x.y,-x.x),v=ji*Math.cos(y),w=ji*Math.sin(y),E=k.map((S,R)=>R===0?{...S,x:0,y:0,z:0,fx:0,fy:0,fz:0,isPathNode:!0}:R===1?k.length===3?{...S,x:v/2,y:w/2,z:0,fx:v/2,fy:w/2,fz:0,isPathNode:!0}:{...S,x:v,y:w,z:0,fx:v,fy:w,fz:0,isPathNode:!0}:{...S,x:v,y:w,z:0,fx:v,fy:w,fz:0,isPathNode:!0}),T=p.links.filter(S=>E.some(R=>R.ref_id===S.target)&&E.some(R=>R.ref_id===S.source));e(null),c({nodes:E,links:T}),f(x.ref_id)}},[p.links,p.nodes,a,s,f]);return C.jsx(C.Fragment,{children:C.jsxs("group",{ref:o,name:"simulation-2d-group",children:[(g=p.nodes)==null?void 0:g.map(m=>C.jsx(Hw,{id:m.ref_id,node:m,onClick:_,selected:m.ref_id===(s==null?void 0:s.ref_id),x:m.x,y:m.y,z:m.z},m.ref_id)),C.jsx(hd,{links:p.links,nodes:p.nodes})]})})});md.displayName="SelectionDataNodes";const Jw=()=>{const t=d.useRef(null),e=Se(r=>r.selectionGraphRadius),[n]=d.useState(.8);return d.useEffect(()=>{if(console.log(e,"radius"),t.current){const r=t.current.getDistanceToFitSphere(55);t.current.setLookAt(Gr.x,Gr.y,r,0,0,0,!0)}},[e]),C.jsx(Eu,{ref:t,azimuthRotateSpeed:0,boundaryEnclosesCamera:!0,makeDefault:!0,maxDistance:12e3,minDistance:1,polarRotateSpeed:0,smoothTime:n})},ek=()=>C.jsxs(C.Fragment,{children:[C.jsx(ou,{}),C.jsx(Jw,{}),C.jsx(md,{})]}),Jl=()=>C.jsx(pr,{children:C.jsx(ep,{})}),tk=()=>{var r;const{universeColor:t}=Q0("universe",{universeColor:q.black}),e=Xe(i=>i.dataInitial),n=_n();return d.useMemo(()=>n!=null&&n.node_type?jd(n.node_type):rv,[n]),C.jsxs(C.Fragment,{children:[C.jsx("color",{args:[q.BLUE_PRESS_STATE||t],attach:"transparent"}),C.jsx(ou,{}),C.jsx(ov,{}),C.jsxs(_p,{children:[!1,(r=e==null?void 0:e.nodes)!=null&&r.length?C.jsx($w,{}):null]})]})};let ho=null;const eu={aspect:window.innerWidth/window.innerHeight,far:3e4,near:1,position:[Yr.x,Yr.y,Yr.z]},nk=()=>{const[t,e,n]=[Fi(c=>c.setIsUserScrollingOnHtmlPanel),Fi(c=>c.setIsUserScrolling),Fi(c=>c.setUserMovedCamera)],r=Se(c=>c.showSelectionGraph),i=Xe(c=>c.isFetching),s=hr(c=>c.universeQuestionIsOpen),o=d.useCallback(c=>{var f;const{target:l}=c,{offsetParent:u}=l;ho&&clearTimeout(ho),(f=u==null?void 0:u.classList)!=null&&f.contains("html-panel")&&u.clientHeight<u.scrollHeight&&t(!0),e(!0),n(!0),ho=setTimeout(()=>{e(!1),t(!1)},200)},[e,t,n]),a=d.useCallback(c=>Od(c,"threeState"),[]);return C.jsxs(rk,{children:[C.jsxs(d.Suspense,{fallback:null,children:[C.jsx(q0,{hidden:!0,isRoot:!0}),C.jsxs(qa,{camera:eu,frameloop:r?"demand":"always",id:"universe-canvas",onCreated:a,onWheel:o,children:[Za&&C.jsx(Qa,{position:"top-right",style:{top:"80px"}}),C.jsxs(d.Suspense,{fallback:C.jsx(Jl,{}),children:[C.jsx(gp,{}),C.jsx($c,{}),C.jsx(Pc,{}),C.jsx(tk,{})]})]}),C.jsx(Mw,{}),C.jsx(Ev,{}),r?C.jsx(ik,{children:C.jsxs(qa,{camera:{...eu,position:[Gr.x,Gr.y,Gr.z]},id:"selection-canvas",onCreated:({gl:c})=>{c.setClearColor("#000000"),c.setClearAlpha(.8)},children:[Za&&C.jsx(Qa,{position:"top-right",style:{top:"80px"}}),C.jsxs(d.Suspense,{fallback:C.jsx(Jl,{}),children:[C.jsx($c,{}),C.jsx(Pc,{}),C.jsx(ek,{})]})]})}):null]}),s&&C.jsx(Kx,{}),i&&C.jsx(Nw,{fullSize:!1}),C.jsx(Hd,{})]})},rk=te(pe)`
  flex: 1 1 100%;
  position: relative;
`,ik=te(pe)`
  position: absolute;
  inset: 0;
`,$k=d.memo(nk);export{$k as Universe};
